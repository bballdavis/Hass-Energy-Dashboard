{"version":3,"file":"energy-dashboard.js","sources":["src/entity-utils.ts","src/styles.ts","src/energy-dashboard-entity-card.ts","src/energy-dashboard-entity-card-editor.ts"],"sourcesContent":["import { EntityInfo } from './types';\r\n\r\nexport function getPowerEntities(hass: any): EntityInfo[] {\r\n  return Object.keys(hass.states)\r\n    .filter(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      return stateObj && stateObj.attributes &&\r\n        (stateObj.attributes.unit_of_measurement === 'W' ||\r\n         stateObj.attributes.unit_of_measurement === 'kW');\r\n    })\r\n    .map(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      const domain = entityId.split('.')[0];\r\n      const isToggleable = ['switch', 'light', 'input_boolean', 'fan', 'automation'].includes(domain);\r\n\r\n      let powerValue = 0;\r\n      try {\r\n        if (stateObj.attributes.unit_of_measurement === 'kW') {\r\n          powerValue = parseFloat(stateObj.state) * 1000;\r\n        } else {\r\n          powerValue = parseFloat(stateObj.state) || 0;\r\n        }\r\n      } catch {\r\n        powerValue = 0;\r\n      }\r\n\r\n      return {\r\n        entityId,\r\n        name: stateObj.attributes.friendly_name || entityId,\r\n        state: stateObj.state,\r\n        unit: stateObj.attributes.unit_of_measurement,\r\n        powerValue,\r\n        isToggleable\r\n      };\r\n    })\r\n    .sort((a, b) => b.powerValue! - a.powerValue!);\r\n}\r\n\r\nexport function getEnergyEntities(hass: any): EntityInfo[] {\r\n  return Object.keys(hass.states)\r\n    .filter(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      return stateObj && stateObj.attributes &&\r\n        (stateObj.attributes.unit_of_measurement === 'Wh' ||\r\n         stateObj.attributes.unit_of_measurement === 'kWh');\r\n    })\r\n    .map(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      const domain = entityId.split('.')[0];\r\n      const isToggleable = ['switch', 'light', 'input_boolean', 'fan', 'automation'].includes(domain);\r\n\r\n      let energyValue = 0;\r\n      try {\r\n        if (stateObj.attributes.unit_of_measurement === 'Wh') {\r\n          energyValue = parseFloat(stateObj.state) / 1000;\r\n        } else {\r\n          energyValue = parseFloat(stateObj.state) || 0;\r\n        }\r\n      } catch {\r\n        energyValue = 0;\r\n      }\r\n\r\n      return {\r\n        entityId,\r\n        name: stateObj.attributes.friendly_name || entityId,\r\n        state: stateObj.state,\r\n        unit: stateObj.attributes.unit_of_measurement,\r\n        energyValue,\r\n        isToggleable\r\n      };\r\n    })\r\n    .sort((a, b) => b.energyValue! - a.energyValue!);\r\n}\r\n\r\nexport function loadToggleStates(key: string): Record<string, boolean> | null {\r\n  try {\r\n    const stored = localStorage.getItem(key);\r\n    return stored ? JSON.parse(stored) : null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function saveToggleStates(states: Record<string, boolean>, key: string): void {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(states));\r\n  } catch {\r\n    try {\r\n      const reducedStates: Record<string, boolean> = {};\r\n      Object.keys(states).forEach(k => {\r\n        if (states[k]) reducedStates[k] = true;\r\n      });\r\n      localStorage.setItem(key, JSON.stringify(reducedStates));\r\n    } catch {}\r\n  }\r\n}","export function createStyles(cssText: string): HTMLStyleElement {\r\n  const style = document.createElement('style');\r\n  style.textContent = cssText;\r\n  return style;\r\n}\r\n\r\nexport const cardStyles = `\r\n  :host {\r\n    --card-padding: 16px;\r\n    --entity-height: 12px;\r\n    --entity-width: 240px;\r\n    --button-height: 32px;\r\n    --entity-font-size: 0.95em;\r\n    --section-title-font-size: 0.9975em;\r\n  }\r\n  .card-header {\r\n    padding: var(--card-padding);\r\n    font-family: var(--paper-font-headline_-_font-family);\r\n    -webkit-font-smoothing: var(--paper-font-headline_-_-webkit-font-smoothing);\r\n    font-size: var(--paper-font-headline_-_font-size);\r\n    font-weight: var(--paper-font-headline_-_font-weight);\r\n    letter-spacing: var(--paper-font-headline_-_letter-spacing);\r\n    line-height: var(--paper-font-headline_-_line-height);\r\n    color: var(--ha-card-header-color, --primary-text-color);\r\n  }\r\n  .control-buttons {\r\n    padding: 0 var(--card-padding) 8px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .control-button {\r\n    background-color: var(--secondary-background-color);\r\n    border: none;\r\n    border-radius: 8px;\r\n    padding: 6px 12px;\r\n    color: var(--primary-text-color);\r\n    font-size: 0.9em;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: background-color 0.3s ease;\r\n    flex: 1;\r\n    margin: 0 4px;\r\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);\r\n    height: var(--button-height);\r\n    min-height: var(--button-height);\r\n    box-sizing: border-box;\r\n  }\r\n  .control-button:first-child {\r\n    margin-left: 0;\r\n  }\r\n  .control-button:last-child {\r\n    margin-right: 0;\r\n  }\r\n  .control-button:hover {\r\n    background-color: var(--primary-color);\r\n    color: var(--text-primary-color);\r\n  }\r\n  .control-button ha-icon {\r\n    margin-right: 4px;\r\n    --mdc-icon-size: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .section-title {\r\n    padding: 6px var(--card-padding);\r\n    font-size: var(--section-title-font-size);\r\n    font-weight: 500;\r\n    color: var(--primary-text-color);\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .entities-container {\r\n    padding: 0 var(--card-padding) var(--card-padding);\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    justify-content: flex-start;\r\n    overflow-y: auto;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: var(--scrollbar-thumb-color) transparent;\r\n    width: calc(100% - (var(--card-padding) * 2));\r\n    box-sizing: border-box;\r\n    min-width: 100%;\r\n  }\r\n  .entities-container::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n  .entities-container::-webkit-scrollbar-track {\r\n    background: transparent;\r\n  }\r\n  .entities-container::-webkit-scrollbar-thumb {\r\n    background-color: var(--scrollbar-thumb-color, var(--divider-color, #e0e0e0));\r\n    border-radius: 3px;\r\n  }\r\n  .entity-item {\r\n    background-color: var(--ha-card-background, var(--card-background-color, white));\r\n    border-radius: 12px;\r\n    padding: 8px 16px;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: auto;\r\n    min-height: var(--entity-height);\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    flex-grow: 1;\r\n    flex-shrink: 0;\r\n    min-width: 100%;\r\n    max-width: 100%;\r\n    margin-bottom: 2px;\r\n  }\r\n  .entity-item:hover {\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n    transform: translateY(-1px);\r\n  }\r\n  .entity-item.on {\r\n    background-color: var(--primary-color);\r\n    color: var(--text-primary-color);\r\n  }\r\n  .entity-left {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    flex: 3;\r\n    min-width: 0;\r\n    margin-top: -1px;\r\n    margin-bottom: -1px;\r\n  }\r\n  .entity-name {\r\n    font-weight: bold;\r\n    font-size: 0.95em;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    max-width: 100%;\r\n    flex: 1;\r\n    margin-right: 16px;\r\n  }\r\n  .entity-state {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    min-width: 85px;\r\n    max-width: 85px;\r\n    white-space: nowrap;\r\n    flex: 0 0 auto;\r\n    font-size: 0.95em;\r\n  }\r\n  .power-value {\r\n    font-weight: 500;\r\n  }\r\n  .empty-message {\r\n    padding: var(--card-padding);\r\n    text-align: center;\r\n    color: var(--secondary-text-color);\r\n  }\r\n  .section-separator {\r\n    height: 1px;\r\n    background-color: var(--divider-color, #e0e0e0);\r\n    margin: 12px var(--card-padding) 8px;\r\n    opacity: 0.6;\r\n  }\r\n`;\r\n\r\nexport const editorStyles = `\r\n  .form {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .row {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    padding: 8px 16px;\r\n  }\r\n  .title {\r\n    padding-left: 16px;\r\n    margin-top: 8px;\r\n    font-weight: 500;\r\n  }\r\n  .value {\r\n    width: 100%;\r\n  }\r\n  ha-switch {\r\n    margin-right: 16px;\r\n  }\r\n`;","import { EntityInfo, EnergyDashboardConfig } from './types';\r\nimport { getPowerEntities, getEnergyEntities, loadToggleStates, saveToggleStates } from './entity-utils';\r\nimport { createStyles, cardStyles } from './styles';\r\n\r\nexport class EnergyDashboardEntityCard extends HTMLElement {\r\n  // Properties\r\n  private _hass: any;\r\n  config?: EnergyDashboardConfig;\r\n  powerEntities: EntityInfo[] = [];\r\n  energyEntities: EntityInfo[] = [];\r\n  entityToggleStates: Record<string, boolean> = {};\r\n  energyEntityToggleStates: Record<string, boolean> = {};\r\n  private _initialized: boolean = false;\r\n  private _energyInitialized: boolean = false;\r\n  private _root: ShadowRoot;\r\n\r\n  constructor() {\r\n    super();\r\n    this._root = this.attachShadow({ mode: 'open' });\r\n    this._root.appendChild(createStyles(cardStyles));\r\n    \r\n    // Initialize properties\r\n    this._hass = undefined;\r\n    this.powerEntities = [];\r\n    this.energyEntities = [];\r\n    this.entityToggleStates = {};\r\n    this.energyEntityToggleStates = {};\r\n    this._initialized = false;\r\n    this._energyInitialized = false;\r\n    \r\n    // Create the card element\r\n    const card = document.createElement('ha-card');\r\n    this._root.appendChild(card);\r\n  }\r\n\r\n  // Called when the element is added to the DOM\r\n  connectedCallback() {\r\n    this._updateContent();\r\n  }\r\n\r\n  // Home Assistant specific method to set config\r\n  setConfig(config: EnergyDashboardConfig) {\r\n    if (!config) {\r\n      throw new Error(\"Invalid configuration\");\r\n    }\r\n    // Create a merged config object correctly by spreading config first\r\n    this.config = {\r\n      ...config,\r\n      // Then set defaults only for missing properties\r\n      title: config.title ?? 'Energy Dashboard',\r\n      show_header: config.show_header ?? true,\r\n      show_state: config.show_state ?? true,\r\n      show_toggle: config.show_toggle ?? true,\r\n      auto_select_count: config.auto_select_count ?? 6,\r\n      max_height: config.max_height ?? 400,\r\n      show_energy_section: config.show_energy_section ?? true,\r\n      energy_auto_select_count: config.energy_auto_select_count ?? 6,\r\n    };\r\n    \r\n    this._updateContent();\r\n  }\r\n\r\n  // Home Assistant specific methods\r\n  static getConfigElement() {\r\n    return document.createElement('energy-dashboard-entity-card-editor');\r\n  }\r\n\r\n  static getStubConfig() {\r\n    return {\r\n      title: 'Energy Dashboard',\r\n      show_header: true,\r\n      show_state: true,\r\n      show_toggle: true,\r\n      auto_select_count: 6,\r\n      max_height: 400,\r\n      show_energy_section: true,\r\n      energy_auto_select_count: 6\r\n    };\r\n  }\r\n\r\n  getCardSize() {\r\n    let rows = 0;\r\n\r\n    if (this.powerEntities && this.powerEntities.length > 0) {\r\n      rows += this.powerEntities.length * 0.7;\r\n      rows += 2;\r\n    }\r\n\r\n    if (this.config?.show_energy_section && this.energyEntities && this.energyEntities.length > 0) {\r\n      rows += this.energyEntities.length * 0.7;\r\n      rows += 2;\r\n    }\r\n\r\n    return rows > 0 ? rows : 1;\r\n  }\r\n\r\n  // Called when Home Assistant updates\r\n  set hass(hass: any) {\r\n    this._hass = hass;\r\n    this._updateEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  get hass() {\r\n    return this._hass;\r\n  }\r\n\r\n  _updateEntities() {\r\n    if (!this._hass) return;\r\n\r\n    try {\r\n      this._updatePowerEntities();\r\n      if (this.config?.show_energy_section) {\r\n        this._updateEnergyEntities();\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Error updating entities:\", e);\r\n    }\r\n  }\r\n\r\n  _updatePowerEntities() {\r\n    const newPowerEntities = getPowerEntities(this._hass);\r\n    if (!this._initialized || Object.keys(this.entityToggleStates).length === 0) {\r\n      this._initializePowerToggleStates(newPowerEntities);\r\n      this._initialized = true;\r\n    }\r\n    this.powerEntities = newPowerEntities.map(entity => ({\r\n      ...entity,\r\n      isOn: this.entityToggleStates[entity.entityId] || false\r\n    }));\r\n    this._savePowerToggleStates();\r\n  }\r\n\r\n  _updateEnergyEntities() {\r\n    const newEnergyEntities = getEnergyEntities(this._hass);\r\n    if (!this._energyInitialized || Object.keys(this.energyEntityToggleStates).length === 0) {\r\n      this._initializeEnergyToggleStates(newEnergyEntities);\r\n      this._energyInitialized = true;\r\n    }\r\n    this.energyEntities = newEnergyEntities.map(entity => ({\r\n      ...entity,\r\n      isOn: this.energyEntityToggleStates[entity.entityId] || false\r\n    }));\r\n    this._saveEnergyToggleStates();\r\n  }\r\n\r\n  _initializePowerToggleStates(entities: EntityInfo[]) {\r\n    const savedStates = loadToggleStates('energy-dashboard-power-toggle-states');\r\n    if (savedStates && Object.keys(savedStates).length > 0) {\r\n      this.entityToggleStates = savedStates;\r\n    } else {\r\n      const toggleStates: Record<string, boolean> = {};\r\n      const count = this.config?.auto_select_count ?? 6;\r\n      entities.slice(0, count).forEach(entity => {\r\n        toggleStates[entity.entityId] = true;\r\n      });\r\n      this.entityToggleStates = toggleStates;\r\n    }\r\n  }\r\n\r\n  _initializeEnergyToggleStates(entities: EntityInfo[]) {\r\n    const savedStates = loadToggleStates('energy-dashboard-energy-toggle-states');\r\n    if (savedStates && Object.keys(savedStates).length > 0) {\r\n      this.energyEntityToggleStates = savedStates;\r\n    } else {\r\n      const toggleStates: Record<string, boolean> = {};\r\n      const count = this.config?.energy_auto_select_count ?? 6;\r\n      entities.slice(0, count).forEach(entity => {\r\n        toggleStates[entity.entityId] = true;\r\n      });\r\n      this.energyEntityToggleStates = toggleStates;\r\n    }\r\n  }\r\n\r\n  _savePowerToggleStates() {\r\n    saveToggleStates(this.entityToggleStates, 'energy-dashboard-power-toggle-states');\r\n  }\r\n\r\n  _saveEnergyToggleStates() {\r\n    saveToggleStates(this.energyEntityToggleStates, 'energy-dashboard-energy-toggle-states');\r\n  }\r\n\r\n  _resetToPowerDefaultEntities = () => {\r\n    this._initializePowerToggleStates(getPowerEntities(this._hass));\r\n    this._updatePowerEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _clearAllPowerEntities = () => {\r\n    this.entityToggleStates = {};\r\n    this._updatePowerEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _selectAllPowerEntities = () => {\r\n    const entities = getPowerEntities(this._hass);\r\n    entities.forEach(entity => {\r\n      this.entityToggleStates[entity.entityId] = true;\r\n    });\r\n    this._updatePowerEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _togglePowerEntity = (e: Event) => {\r\n    const target = e.currentTarget as HTMLElement;\r\n    const entityId = target.dataset.entity;\r\n    if (entityId) {\r\n      this.entityToggleStates[entityId] = !this.entityToggleStates[entityId];\r\n      this._updatePowerEntities();\r\n      this._updateContent();\r\n    }\r\n  }\r\n\r\n  _resetToEnergyDefaultEntities = () => {\r\n    this._initializeEnergyToggleStates(getEnergyEntities(this._hass));\r\n    this._updateEnergyEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _clearAllEnergyEntities = () => {\r\n    this.energyEntityToggleStates = {};\r\n    this._updateEnergyEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _selectAllEnergyEntities = () => {\r\n    const entities = getEnergyEntities(this._hass);\r\n    entities.forEach(entity => {\r\n      this.energyEntityToggleStates[entity.entityId] = true;\r\n    });\r\n    this._updateEnergyEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _toggleEnergyEntity = (e: Event) => {\r\n    const target = e.currentTarget as HTMLElement;\r\n    const entityId = target.dataset.entity;\r\n    if (entityId) {\r\n      this.energyEntityToggleStates[entityId] = !this.energyEntityToggleStates[entityId];\r\n      this._updateEnergyEntities();\r\n      this._updateContent();\r\n    }\r\n  }\r\n\r\n  _renderPowerSection(): HTMLElement {\r\n    const section = document.createElement('div');\r\n\r\n    if (this.powerEntities.length > 0) {\r\n      // Control buttons\r\n      const controlButtons = document.createElement('div');\r\n      controlButtons.className = 'control-buttons';\r\n      \r\n      const resetButton = document.createElement('button');\r\n      resetButton.className = 'control-button';\r\n      resetButton.innerHTML = '<ha-icon icon=\"mdi:refresh\"></ha-icon><span>Reset</span>';\r\n      resetButton.addEventListener('click', this._resetToPowerDefaultEntities);\r\n      \r\n      const clearButton = document.createElement('button');\r\n      clearButton.className = 'control-button';\r\n      clearButton.innerHTML = '<ha-icon icon=\"mdi:close-circle-outline\"></ha-icon><span>Clear</span>';\r\n      clearButton.addEventListener('click', this._clearAllPowerEntities);\r\n      \r\n      const selectAllButton = document.createElement('button');\r\n      selectAllButton.className = 'control-button';\r\n      selectAllButton.innerHTML = '<ha-icon icon=\"mdi:check-circle-outline\"></ha-icon><span>Select All</span>';\r\n      selectAllButton.addEventListener('click', this._selectAllPowerEntities);\r\n      \r\n      controlButtons.appendChild(resetButton);\r\n      controlButtons.appendChild(clearButton);\r\n      controlButtons.appendChild(selectAllButton);\r\n      section.appendChild(controlButtons);\r\n      \r\n      // Section title\r\n      const sectionTitle = document.createElement('div');\r\n      sectionTitle.className = 'section-title';\r\n      sectionTitle.textContent = 'Power Entities';\r\n      section.appendChild(sectionTitle);\r\n      \r\n      // Container\r\n      const containerWrapper = document.createElement('div');\r\n      containerWrapper.style.width = '100%';\r\n      containerWrapper.style.boxSizing = 'border-box';\r\n      \r\n      const entitiesContainer = document.createElement('div');\r\n      entitiesContainer.className = 'entities-container';\r\n      \r\n      if (this.config?.max_height && this.config.max_height > 0) {\r\n        entitiesContainer.style.maxHeight = `${Math.min(this.config.max_height, 400)}px`;\r\n        entitiesContainer.style.overflowY = 'auto';\r\n      }\r\n      \r\n      // Add entities\r\n      this.powerEntities.forEach(entity => {\r\n        const entityItem = document.createElement('div');\r\n        entityItem.className = `entity-item ${entity.isOn ? 'on' : 'off'}`;\r\n        entityItem.dataset.entity = entity.entityId;\r\n        entityItem.style.gap = '4px';\r\n        entityItem.addEventListener('click', this._togglePowerEntity);\r\n        \r\n        const entityLeft = document.createElement('div');\r\n        entityLeft.className = 'entity-left';\r\n        \r\n        const entityName = document.createElement('div');\r\n        entityName.className = 'entity-name';\r\n        entityName.title = entity.name;\r\n        entityName.textContent = entity.name;\r\n        \r\n        entityLeft.appendChild(entityName);\r\n        entityItem.appendChild(entityLeft);\r\n        \r\n        const entityState = document.createElement('div');\r\n        entityState.className = 'entity-state';\r\n        \r\n        const statusIndicator = document.createElement('div');\r\n        statusIndicator.className = 'status-indicator';\r\n        statusIndicator.textContent = entity.isToggleable ? (entity.isOn ? 'ON' : 'OFF') : '';\r\n        \r\n        const powerValue = document.createElement('div');\r\n        powerValue.className = 'power-value';\r\n        \r\n        if (this.config?.show_state) {\r\n          powerValue.textContent = `${entity.unit === 'kW' ? entity.state : Math.round(entity.powerValue || 0)} ${entity.unit || 'W'}`;\r\n        }\r\n        \r\n        entityState.appendChild(statusIndicator);\r\n        entityState.appendChild(powerValue);\r\n        entityItem.appendChild(entityState);\r\n        \r\n        entitiesContainer.appendChild(entityItem);\r\n      });\r\n      \r\n      containerWrapper.appendChild(entitiesContainer);\r\n      section.appendChild(containerWrapper);\r\n    } else {\r\n      // Empty message\r\n      const emptyMessage = document.createElement('div');\r\n      emptyMessage.className = 'empty-message';\r\n      emptyMessage.textContent = 'No power entities found. Make sure you have entities with unit set to W or kW.';\r\n      section.appendChild(emptyMessage);\r\n    }\r\n    \r\n    return section;\r\n  }\r\n\r\n  _renderEnergySection(): HTMLElement {\r\n    const section = document.createElement('div');\r\n\r\n    // Only render if energy section is enabled\r\n    if (!this.config?.show_energy_section) {\r\n      return section;\r\n    }\r\n    \r\n    const separator = document.createElement('div');\r\n    separator.className = 'section-separator';\r\n    section.appendChild(separator);\r\n\r\n    if (this.energyEntities.length > 0) {\r\n      // Control buttons for energy section\r\n      const controlButtons = document.createElement('div');\r\n      controlButtons.className = 'control-buttons';\r\n      \r\n      const resetButton = document.createElement('button');\r\n      resetButton.className = 'control-button';\r\n      resetButton.innerHTML = '<ha-icon icon=\"mdi:refresh\"></ha-icon><span>Reset</span>';\r\n      resetButton.addEventListener('click', this._resetToEnergyDefaultEntities);\r\n      \r\n      const clearButton = document.createElement('button');\r\n      clearButton.className = 'control-button';\r\n      clearButton.innerHTML = '<ha-icon icon=\"mdi:close-circle-outline\"></ha-icon><span>Clear</span>';\r\n      clearButton.addEventListener('click', this._clearAllEnergyEntities);\r\n      \r\n      const selectAllButton = document.createElement('button');\r\n      selectAllButton.className = 'control-button';\r\n      selectAllButton.innerHTML = '<ha-icon icon=\"mdi:check-circle-outline\"></ha-icon><span>Select All</span>';\r\n      selectAllButton.addEventListener('click', this._selectAllEnergyEntities);\r\n      \r\n      controlButtons.appendChild(resetButton);\r\n      controlButtons.appendChild(clearButton);\r\n      controlButtons.appendChild(selectAllButton);\r\n      section.appendChild(controlButtons);\r\n      \r\n      // Section title\r\n      const sectionTitle = document.createElement('div');\r\n      sectionTitle.className = 'section-title';\r\n      sectionTitle.textContent = 'Energy Entities';\r\n      section.appendChild(sectionTitle);\r\n      \r\n      // Container\r\n      const containerWrapper = document.createElement('div');\r\n      containerWrapper.style.width = '100%';\r\n      containerWrapper.style.boxSizing = 'border-box';\r\n      \r\n      const entitiesContainer = document.createElement('div');\r\n      entitiesContainer.className = 'entities-container';\r\n      \r\n      if (this.config?.max_height && this.config.max_height > 0) {\r\n        entitiesContainer.style.maxHeight = `${Math.min(this.config.max_height, 400)}px`;\r\n        entitiesContainer.style.overflowY = 'auto';\r\n      }\r\n      \r\n      // Add entities\r\n      this.energyEntities.forEach(entity => {\r\n        const entityItem = document.createElement('div');\r\n        entityItem.className = `entity-item ${entity.isOn ? 'on' : 'off'}`;\r\n        entityItem.dataset.entity = entity.entityId;\r\n        entityItem.style.gap = '4px';\r\n        entityItem.addEventListener('click', this._toggleEnergyEntity);\r\n        \r\n        const entityLeft = document.createElement('div');\r\n        entityLeft.className = 'entity-left';\r\n        \r\n        const entityName = document.createElement('div');\r\n        entityName.className = 'entity-name';\r\n        entityName.title = entity.name;\r\n        entityName.textContent = entity.name;\r\n        \r\n        entityLeft.appendChild(entityName);\r\n        entityItem.appendChild(entityLeft);\r\n        \r\n        const entityState = document.createElement('div');\r\n        entityState.className = 'entity-state';\r\n        \r\n        const statusIndicator = document.createElement('div');\r\n        statusIndicator.className = 'status-indicator';\r\n        statusIndicator.textContent = entity.isToggleable ? (entity.isOn ? 'ON' : 'OFF') : '';\r\n        \r\n        const powerValue = document.createElement('div');\r\n        powerValue.className = 'power-value';\r\n        \r\n        if (this.config?.show_state) {\r\n          powerValue.textContent = `${entity.state} ${entity.unit}`;\r\n        }\r\n        \r\n        entityState.appendChild(statusIndicator);\r\n        entityState.appendChild(powerValue);\r\n        entityItem.appendChild(entityState);\r\n        \r\n        entitiesContainer.appendChild(entityItem);\r\n      });\r\n      \r\n      containerWrapper.appendChild(entitiesContainer);\r\n      section.appendChild(containerWrapper);\r\n    } else {\r\n      // Section title\r\n      const sectionTitle = document.createElement('div');\r\n      sectionTitle.className = 'section-title';\r\n      sectionTitle.textContent = 'Energy Entities';\r\n      section.appendChild(sectionTitle);\r\n      \r\n      // Empty message\r\n      const emptyMessage = document.createElement('div');\r\n      emptyMessage.className = 'empty-message';\r\n      emptyMessage.textContent = 'No energy entities found. Make sure you have entities with unit set to Wh or kWh.';\r\n      section.appendChild(emptyMessage);\r\n    }\r\n    \r\n    return section;\r\n  }\r\n\r\n  _updateContent() {\r\n    if (!this.config) {\r\n      const card = this._root.querySelector('ha-card');\r\n      if (card) {\r\n        card.innerHTML = '<div class=\"empty-message\">Card not configured</div>';\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Get the ha-card element\r\n    const card = this._root.querySelector('ha-card');\r\n    if (!card) return;\r\n\r\n    // Clear previous content\r\n    card.innerHTML = '';\r\n\r\n    // Header\r\n    if (this.config.show_header) {\r\n      const header = document.createElement('div');\r\n      header.className = 'card-header';\r\n      header.textContent = this.config.title;\r\n      card.appendChild(header);\r\n    }\r\n\r\n    // Power section\r\n    const powerSection = this._renderPowerSection();\r\n    card.appendChild(powerSection);\r\n\r\n    // Energy section (if enabled)\r\n    if (this.config.show_energy_section) {\r\n      const energySection = this._renderEnergySection();\r\n      card.appendChild(energySection);\r\n    }\r\n  }\r\n}\r\n\r\n// Register the card with the custom elements registry\r\ncustomElements.define('energy-dashboard-entity-card', EnergyDashboardEntityCard);","import { EnergyDashboardConfig } from './types';\r\nimport { createStyles, editorStyles } from './styles';\r\n\r\n// Extend HTMLInputElement to include the configValue property\r\ninterface CustomHTMLInputElement extends HTMLInputElement {\r\n  configValue?: string;\r\n}\r\n\r\n// Define a type for HA elements used in the editor\r\ninterface HaFormElement extends HTMLElement {\r\n  label?: string;\r\n  value?: string | number | boolean;\r\n  type?: string;\r\n  min?: string;\r\n  max?: string;\r\n  configValue?: string;\r\n  checked?: boolean;\r\n  helperText?: string;\r\n  helperPersistent?: boolean;\r\n  addEventListener(event: string, handler: (event: Event) => void): void;\r\n}\r\n\r\nexport class EnergyDashboardEntityCardEditor extends HTMLElement {\r\n  // Properties\r\n  hass: any;\r\n  config: EnergyDashboardConfig;\r\n  private _root: ShadowRoot;\r\n\r\n  constructor() {\r\n    super();\r\n    this._root = this.attachShadow({ mode: 'open' });\r\n    this._root.appendChild(createStyles(editorStyles));\r\n    \r\n    // Initialize properties\r\n    this.hass = undefined;\r\n    this.config = undefined as unknown as EnergyDashboardConfig;\r\n\r\n    // Create the form container\r\n    const form = document.createElement('div');\r\n    form.className = 'form';\r\n    this._root.appendChild(form);\r\n  }\r\n\r\n  // Called when the element is added to the DOM\r\n  connectedCallback() {\r\n    this._updateForm();\r\n  }\r\n\r\n  setConfig(config: EnergyDashboardConfig) {\r\n    this.config = {\r\n      // First spread the provided config\r\n      ...config,\r\n      // Then apply defaults for any missing properties\r\n      show_header: config.show_header !== undefined ? config.show_header : true,\r\n      show_state: config.show_state !== undefined ? config.show_state : true,\r\n      show_toggle: config.show_toggle !== undefined ? config.show_toggle : true,\r\n      auto_select_count: config.auto_select_count !== undefined ? config.auto_select_count : 6,\r\n      max_height: config.max_height !== undefined ? config.max_height : 400, // Default to ~15 entities\r\n      show_energy_section: config.show_energy_section !== undefined ? config.show_energy_section : true,\r\n      energy_auto_select_count: config.energy_auto_select_count !== undefined ? config.energy_auto_select_count : 6,\r\n      title: config.title !== undefined ? config.title : 'Energy Dashboard',\r\n    };\r\n    this._updateForm();\r\n  }\r\n\r\n  valueChanged = (ev: Event) => {\r\n    if (!this.config) return;\r\n    \r\n    const target = ev.target as CustomHTMLInputElement;\r\n    const configValue = target.configValue;\r\n    if (!configValue) return;\r\n\r\n    let newValue;\r\n    if (typeof target.checked === 'boolean') {\r\n      newValue = target.checked;\r\n    } else if (target.value !== undefined) {\r\n      if (target.type === 'number') {\r\n        newValue = Number(target.value);\r\n      } else {\r\n        newValue = target.value;\r\n      }\r\n    }\r\n\r\n    if (this.config[configValue] === newValue) return;\r\n\r\n    const newConfig = {\r\n      ...this.config,\r\n      [configValue]: newValue\r\n    };\r\n\r\n    this.dispatchEvent(new CustomEvent('config-changed', {\r\n      detail: { config: newConfig },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n  }\r\n\r\n  private _updateForm() {\r\n    if (!this.config) return;\r\n\r\n    // Get or create the form element\r\n    let form = this._root.querySelector('.form');\r\n    if (!form) {\r\n      form = document.createElement('div');\r\n      form.className = 'form';\r\n      this._root.appendChild(form);\r\n    }\r\n    form.innerHTML = '';\r\n\r\n    // Create title\r\n    const title = document.createElement('div');\r\n    title.className = 'title';\r\n    title.textContent = 'Card Settings';\r\n    form.appendChild(title);\r\n\r\n    // Title field\r\n    const titleRow = this._createRow();\r\n    const titleField = document.createElement('ha-textfield') as HaFormElement;\r\n    titleField.className = 'value';\r\n    titleField.label = 'Title';\r\n    titleField.value = this.config.title || '';\r\n    titleField.configValue = 'title';\r\n    titleField.addEventListener('change', this.valueChanged);\r\n    titleRow.appendChild(titleField);\r\n    form.appendChild(titleRow);\r\n\r\n    // Show Header toggle\r\n    const headerRow = this._createRow();\r\n    const headerSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    headerSwitch.checked = this.config.show_header !== false;\r\n    headerSwitch.configValue = 'show_header';\r\n    headerSwitch.addEventListener('change', this.valueChanged);\r\n    const headerLabel = document.createElement('div');\r\n    headerLabel.textContent = 'Show Header';\r\n    headerRow.appendChild(headerSwitch);\r\n    headerRow.appendChild(headerLabel);\r\n    form.appendChild(headerRow);\r\n\r\n    // Show State toggle\r\n    const stateRow = this._createRow();\r\n    const stateSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    stateSwitch.checked = this.config.show_state !== false;\r\n    stateSwitch.configValue = 'show_state';\r\n    stateSwitch.addEventListener('change', this.valueChanged);\r\n    const stateLabel = document.createElement('div');\r\n    stateLabel.textContent = 'Show State';\r\n    stateRow.appendChild(stateSwitch);\r\n    stateRow.appendChild(stateLabel);\r\n    form.appendChild(stateRow);\r\n\r\n    // Allow Toggling toggle\r\n    const toggleRow = this._createRow();\r\n    const toggleSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    toggleSwitch.checked = this.config.show_toggle !== false;\r\n    toggleSwitch.configValue = 'show_toggle';\r\n    toggleSwitch.addEventListener('change', this.valueChanged);\r\n    const toggleLabel = document.createElement('div');\r\n    toggleLabel.textContent = 'Allow Toggling';\r\n    toggleRow.appendChild(toggleSwitch);\r\n    toggleRow.appendChild(toggleLabel);\r\n    form.appendChild(toggleRow);\r\n\r\n    // Auto-select Count field\r\n    const autoSelectRow = this._createRow();\r\n    const autoSelectField = document.createElement('ha-textfield') as HaFormElement;\r\n    autoSelectField.className = 'value';\r\n    autoSelectField.label = 'Auto-select Count';\r\n    autoSelectField.type = 'number';\r\n    autoSelectField.min = '0';\r\n    autoSelectField.max = '50';\r\n    autoSelectField.value = String(this.config.auto_select_count || 6);\r\n    autoSelectField.configValue = 'auto_select_count';\r\n    autoSelectField.addEventListener('change', this.valueChanged);\r\n    autoSelectRow.appendChild(autoSelectField);\r\n    form.appendChild(autoSelectRow);\r\n\r\n    // Energy Auto-select Count field\r\n    const energyAutoSelectRow = this._createRow();\r\n    const energyAutoSelectField = document.createElement('ha-textfield') as HaFormElement;\r\n    energyAutoSelectField.className = 'value';\r\n    energyAutoSelectField.label = 'Energy Auto-select Count';\r\n    energyAutoSelectField.type = 'number';\r\n    energyAutoSelectField.min = '0';\r\n    energyAutoSelectField.max = '50';\r\n    energyAutoSelectField.value = String(this.config.energy_auto_select_count || 6);\r\n    energyAutoSelectField.configValue = 'energy_auto_select_count';\r\n    energyAutoSelectField.addEventListener('change', this.valueChanged);\r\n    energyAutoSelectRow.appendChild(energyAutoSelectField);\r\n    form.appendChild(energyAutoSelectRow);\r\n\r\n    // Show Energy Section toggle\r\n    const energySectionRow = this._createRow();\r\n    const energySectionSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    energySectionSwitch.checked = this.config.show_energy_section !== false;\r\n    energySectionSwitch.configValue = 'show_energy_section';\r\n    energySectionSwitch.addEventListener('change', this.valueChanged);\r\n    const energySectionLabel = document.createElement('div');\r\n    energySectionLabel.textContent = 'Show Energy Section';\r\n    energySectionRow.appendChild(energySectionSwitch);\r\n    energySectionRow.appendChild(energySectionLabel);\r\n    form.appendChild(energySectionRow);\r\n\r\n    // Max Height field\r\n    const maxHeightRow = this._createRow();\r\n    const maxHeightField = document.createElement('ha-textfield') as HaFormElement;\r\n    maxHeightField.className = 'value';\r\n    maxHeightField.label = 'Max Height (0 for no limit)';\r\n    maxHeightField.type = 'number';\r\n    maxHeightField.min = '0';\r\n    maxHeightField.max = '1000';\r\n    maxHeightField.value = String(this.config.max_height || 0);\r\n    maxHeightField.configValue = 'max_height';\r\n    maxHeightField.addEventListener('change', this.valueChanged);\r\n    maxHeightField.helperText = 'Set maximum height in pixels (0 = no limit)';\r\n    maxHeightField.helperPersistent = true;\r\n    maxHeightRow.appendChild(maxHeightField);\r\n    form.appendChild(maxHeightRow);\r\n  }\r\n\r\n  private _createRow(): HTMLDivElement {\r\n    const row = document.createElement('div');\r\n    row.className = 'row';\r\n    return row;\r\n  }\r\n}\r\n\r\n// Register the editor with the custom elements registry\r\ncustomElements.define('energy-dashboard-entity-card-editor', EnergyDashboardEntityCardEditor);"],"names":[],"mappings":"AAEM,SAAU,gBAAgB,CAAC,IAAS,EAAA;AACxC,IAAA,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;SAC5B,MAAM,CAAC,QAAQ,IAAG;QACjB,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACvC,QAAA,OAAO,QAAQ,IAAI,QAAQ,CAAC,UAAU;AACpC,aAAC,QAAQ,CAAC,UAAU,CAAC,mBAAmB,KAAK,GAAG;AAC/C,gBAAA,QAAQ,CAAC,UAAU,CAAC,mBAAmB,KAAK,IAAI,CAAC,CAAC;AACvD,KAAC,CAAC;SACD,GAAG,CAAC,QAAQ,IAAG;QACd,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACvC,MAAM,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,QAAA,MAAM,YAAY,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,eAAe,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAEhG,IAAI,UAAU,GAAG,CAAC,CAAC;AACnB,QAAA,IAAI;YACF,IAAI,QAAQ,CAAC,UAAU,CAAC,mBAAmB,KAAK,IAAI,EAAE;gBACpD,UAAU,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;aAChD;iBAAM;gBACL,UAAU,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC9C;SACF;AAAC,QAAA,MAAM;YACN,UAAU,GAAG,CAAC,CAAC;SAChB;QAED,OAAO;YACL,QAAQ;AACR,YAAA,IAAI,EAAE,QAAQ,CAAC,UAAU,CAAC,aAAa,IAAI,QAAQ;YACnD,KAAK,EAAE,QAAQ,CAAC,KAAK;AACrB,YAAA,IAAI,EAAE,QAAQ,CAAC,UAAU,CAAC,mBAAmB;YAC7C,UAAU;YACV,YAAY;SACb,CAAC;AACJ,KAAC,CAAC;AACD,SAAA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,UAAW,GAAG,CAAC,CAAC,UAAW,CAAC,CAAC;AACnD,CAAC;AAEK,SAAU,iBAAiB,CAAC,IAAS,EAAA;AACzC,IAAA,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;SAC5B,MAAM,CAAC,QAAQ,IAAG;QACjB,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACvC,QAAA,OAAO,QAAQ,IAAI,QAAQ,CAAC,UAAU;AACpC,aAAC,QAAQ,CAAC,UAAU,CAAC,mBAAmB,KAAK,IAAI;AAChD,gBAAA,QAAQ,CAAC,UAAU,CAAC,mBAAmB,KAAK,KAAK,CAAC,CAAC;AACxD,KAAC,CAAC;SACD,GAAG,CAAC,QAAQ,IAAG;QACd,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACvC,MAAM,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,QAAA,MAAM,YAAY,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,eAAe,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAEhG,IAAI,WAAW,GAAG,CAAC,CAAC;AACpB,QAAA,IAAI;YACF,IAAI,QAAQ,CAAC,UAAU,CAAC,mBAAmB,KAAK,IAAI,EAAE;gBACpD,WAAW,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;aACjD;iBAAM;gBACL,WAAW,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC/C;SACF;AAAC,QAAA,MAAM;YACN,WAAW,GAAG,CAAC,CAAC;SACjB;QAED,OAAO;YACL,QAAQ;AACR,YAAA,IAAI,EAAE,QAAQ,CAAC,UAAU,CAAC,aAAa,IAAI,QAAQ;YACnD,KAAK,EAAE,QAAQ,CAAC,KAAK;AACrB,YAAA,IAAI,EAAE,QAAQ,CAAC,UAAU,CAAC,mBAAmB;YAC7C,WAAW;YACX,YAAY;SACb,CAAC;AACJ,KAAC,CAAC;AACD,SAAA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,WAAY,GAAG,CAAC,CAAC,WAAY,CAAC,CAAC;AACrD,CAAC;AAEK,SAAU,gBAAgB,CAAC,GAAW,EAAA;AAC1C,IAAA,IAAI;QACF,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACzC,QAAA,OAAO,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;KAC3C;AAAC,IAAA,MAAM;AACN,QAAA,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AAEe,SAAA,gBAAgB,CAAC,MAA+B,EAAE,GAAW,EAAA;AAC3E,IAAA,IAAI;AACF,QAAA,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;KACnD;AAAC,IAAA,MAAM;AACN,QAAA,IAAI;YACF,MAAM,aAAa,GAA4B,EAAE,CAAC;YAClD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,IAAG;gBAC9B,IAAI,MAAM,CAAC,CAAC,CAAC;AAAE,oBAAA,aAAa,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;AACzC,aAAC,CAAC,CAAC;AACH,YAAA,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;SAC1D;QAAC,MAAM,GAAE;KACX;AACH;;AC/FM,SAAU,YAAY,CAAC,OAAe,EAAA;IAC1C,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,IAAA,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC;AAC5B,IAAA,OAAO,KAAK,CAAC;AACf,CAAC;AAEM,MAAM,UAAU,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAsKzB,CAAC;AAEK,MAAM,YAAY,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;CAsB3B;;AChMK,MAAO,yBAA0B,SAAQ,WAAW,CAAA;AAYxD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE,CAAC;QATV,IAAa,CAAA,aAAA,GAAiB,EAAE,CAAC;QACjC,IAAc,CAAA,cAAA,GAAiB,EAAE,CAAC;QAClC,IAAkB,CAAA,kBAAA,GAA4B,EAAE,CAAC;QACjD,IAAwB,CAAA,wBAAA,GAA4B,EAAE,CAAC;QAC/C,IAAY,CAAA,YAAA,GAAY,KAAK,CAAC;QAC9B,IAAkB,CAAA,kBAAA,GAAY,KAAK,CAAC;QAyK5C,IAA4B,CAAA,4BAAA,GAAG,MAAK;YAClC,IAAI,CAAC,4BAA4B,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;AACxB,SAAC,CAAA;QAED,IAAsB,CAAA,sBAAA,GAAG,MAAK;AAC5B,YAAA,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;AACxB,SAAC,CAAA;QAED,IAAuB,CAAA,uBAAA,GAAG,MAAK;YAC7B,MAAM,QAAQ,GAAG,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC9C,YAAA,QAAQ,CAAC,OAAO,CAAC,MAAM,IAAG;gBACxB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AAClD,aAAC,CAAC,CAAC;YACH,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;AACxB,SAAC,CAAA;AAED,QAAA,IAAA,CAAA,kBAAkB,GAAG,CAAC,CAAQ,KAAI;AAChC,YAAA,MAAM,MAAM,GAAG,CAAC,CAAC,aAA4B,CAAC;AAC9C,YAAA,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YACvC,IAAI,QAAQ,EAAE;AACZ,gBAAA,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;gBACvE,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;AACH,SAAC,CAAA;QAED,IAA6B,CAAA,6BAAA,GAAG,MAAK;YACnC,IAAI,CAAC,6BAA6B,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAClE,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,EAAE,CAAC;AACxB,SAAC,CAAA;QAED,IAAuB,CAAA,uBAAA,GAAG,MAAK;AAC7B,YAAA,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;YACnC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,EAAE,CAAC;AACxB,SAAC,CAAA;QAED,IAAwB,CAAA,wBAAA,GAAG,MAAK;YAC9B,MAAM,QAAQ,GAAG,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC/C,YAAA,QAAQ,CAAC,OAAO,CAAC,MAAM,IAAG;gBACxB,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AACxD,aAAC,CAAC,CAAC;YACH,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,EAAE,CAAC;AACxB,SAAC,CAAA;AAED,QAAA,IAAA,CAAA,mBAAmB,GAAG,CAAC,CAAQ,KAAI;AACjC,YAAA,MAAM,MAAM,GAAG,CAAC,CAAC,aAA4B,CAAC;AAC9C,YAAA,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YACvC,IAAI,QAAQ,EAAE;AACZ,gBAAA,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;gBACnF,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;AACH,SAAC,CAAA;AAhOC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC;;AAGjD,QAAA,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;AACvB,QAAA,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;AACxB,QAAA,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;AACzB,QAAA,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;AAC7B,QAAA,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;AACnC,QAAA,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAC1B,QAAA,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;;QAGhC,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AAC/C,QAAA,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KAC9B;;IAGD,iBAAiB,GAAA;QACf,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;AAGD,IAAA,SAAS,CAAC,MAA6B,EAAA;;QACrC,IAAI,CAAC,MAAM,EAAE;AACX,YAAA,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;SAC1C;;QAED,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,MAAM;;AAET,YAAA,KAAK,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,KAAK,mCAAI,kBAAkB;AACzC,YAAA,WAAW,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,WAAW,mCAAI,IAAI;AACvC,YAAA,UAAU,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,UAAU,mCAAI,IAAI;AACrC,YAAA,WAAW,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,WAAW,mCAAI,IAAI;AACvC,YAAA,iBAAiB,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,iBAAiB,mCAAI,CAAC;AAChD,YAAA,UAAU,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,UAAU,mCAAI,GAAG;AACpC,YAAA,mBAAmB,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,mBAAmB,mCAAI,IAAI;AACvD,YAAA,wBAAwB,EAAE,CAAA,EAAA,GAAA,MAAM,CAAC,wBAAwB,mCAAI,CAAC;SAC/D,CAAC;QAEF,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;AAGD,IAAA,OAAO,gBAAgB,GAAA;AACrB,QAAA,OAAO,QAAQ,CAAC,aAAa,CAAC,qCAAqC,CAAC,CAAC;KACtE;AAED,IAAA,OAAO,aAAa,GAAA;QAClB,OAAO;AACL,YAAA,KAAK,EAAE,kBAAkB;AACzB,YAAA,WAAW,EAAE,IAAI;AACjB,YAAA,UAAU,EAAE,IAAI;AAChB,YAAA,WAAW,EAAE,IAAI;AACjB,YAAA,iBAAiB,EAAE,CAAC;AACpB,YAAA,UAAU,EAAE,GAAG;AACf,YAAA,mBAAmB,EAAE,IAAI;AACzB,YAAA,wBAAwB,EAAE,CAAC;SAC5B,CAAC;KACH;IAED,WAAW,GAAA;;QACT,IAAI,IAAI,GAAG,CAAC,CAAC;AAEb,QAAA,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YACvD,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,CAAC;YACxC,IAAI,IAAI,CAAC,CAAC;SACX;QAED,IAAI,CAAA,MAAA,IAAI,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,KAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7F,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,GAAG,CAAC;YACzC,IAAI,IAAI,CAAC,CAAC;SACX;QAED,OAAO,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC;KAC5B;;IAGD,IAAI,IAAI,CAAC,IAAS,EAAA;AAChB,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;AAED,IAAA,IAAI,IAAI,GAAA;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;IAED,eAAe,GAAA;;QACb,IAAI,CAAC,IAAI,CAAC,KAAK;YAAE,OAAO;AAExB,QAAA,IAAI;YACF,IAAI,CAAC,oBAAoB,EAAE,CAAC;AAC5B,YAAA,IAAI,MAAA,IAAI,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,EAAE;gBACpC,IAAI,CAAC,qBAAqB,EAAE,CAAC;aAC9B;SACF;QAAC,OAAO,CAAC,EAAE;AACV,YAAA,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,CAAC,CAAC,CAAC;SAC9C;KACF;IAED,oBAAoB,GAAA;QAClB,MAAM,gBAAgB,GAAG,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACtD,QAAA,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;AAC3E,YAAA,IAAI,CAAC,4BAA4B,CAAC,gBAAgB,CAAC,CAAC;AACpD,YAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B;QACD,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,GAAG,CAAC,MAAM,KAAK;AACnD,YAAA,GAAG,MAAM;YACT,IAAI,EAAE,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,KAAK;AACxD,SAAA,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,sBAAsB,EAAE,CAAC;KAC/B;IAED,qBAAqB,GAAA;QACnB,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACxD,QAAA,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;AACvF,YAAA,IAAI,CAAC,6BAA6B,CAAC,iBAAiB,CAAC,CAAC;AACtD,YAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;QACD,IAAI,CAAC,cAAc,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,KAAK;AACrD,YAAA,GAAG,MAAM;YACT,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,KAAK;AAC9D,SAAA,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,uBAAuB,EAAE,CAAC;KAChC;AAED,IAAA,4BAA4B,CAAC,QAAsB,EAAA;;AACjD,QAAA,MAAM,WAAW,GAAG,gBAAgB,CAAC,sCAAsC,CAAC,CAAC;AAC7E,QAAA,IAAI,WAAW,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;AACtD,YAAA,IAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC;SACvC;aAAM;YACL,MAAM,YAAY,GAA4B,EAAE,CAAC;YACjD,MAAM,KAAK,GAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,iBAAiB,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,CAAC,CAAC;AAClD,YAAA,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,IAAG;AACxC,gBAAA,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AACvC,aAAC,CAAC,CAAC;AACH,YAAA,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC;SACxC;KACF;AAED,IAAA,6BAA6B,CAAC,QAAsB,EAAA;;AAClD,QAAA,MAAM,WAAW,GAAG,gBAAgB,CAAC,uCAAuC,CAAC,CAAC;AAC9E,QAAA,IAAI,WAAW,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;AACtD,YAAA,IAAI,CAAC,wBAAwB,GAAG,WAAW,CAAC;SAC7C;aAAM;YACL,MAAM,YAAY,GAA4B,EAAE,CAAC;YACjD,MAAM,KAAK,GAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,wBAAwB,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,CAAC,CAAC;AACzD,YAAA,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,IAAG;AACxC,gBAAA,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AACvC,aAAC,CAAC,CAAC;AACH,YAAA,IAAI,CAAC,wBAAwB,GAAG,YAAY,CAAC;SAC9C;KACF;IAED,sBAAsB,GAAA;AACpB,QAAA,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,EAAE,sCAAsC,CAAC,CAAC;KACnF;IAED,uBAAuB,GAAA;AACrB,QAAA,gBAAgB,CAAC,IAAI,CAAC,wBAAwB,EAAE,uCAAuC,CAAC,CAAC;KAC1F;IAgED,mBAAmB,GAAA;;QACjB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAE9C,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;;YAEjC,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACrD,YAAA,cAAc,CAAC,SAAS,GAAG,iBAAiB,CAAC;YAE7C,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACrD,YAAA,WAAW,CAAC,SAAS,GAAG,gBAAgB,CAAC;AACzC,YAAA,WAAW,CAAC,SAAS,GAAG,0DAA0D,CAAC;YACnF,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,4BAA4B,CAAC,CAAC;YAEzE,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACrD,YAAA,WAAW,CAAC,SAAS,GAAG,gBAAgB,CAAC;AACzC,YAAA,WAAW,CAAC,SAAS,GAAG,uEAAuE,CAAC;YAChG,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAEnE,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACzD,YAAA,eAAe,CAAC,SAAS,GAAG,gBAAgB,CAAC;AAC7C,YAAA,eAAe,CAAC,SAAS,GAAG,4EAA4E,CAAC;YACzG,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAExE,YAAA,cAAc,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AACxC,YAAA,cAAc,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AACxC,YAAA,cAAc,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;AAC5C,YAAA,OAAO,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;;YAGpC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnD,YAAA,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;AACzC,YAAA,YAAY,CAAC,WAAW,GAAG,gBAAgB,CAAC;AAC5C,YAAA,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;;YAGlC,MAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACvD,YAAA,gBAAgB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;AACtC,YAAA,gBAAgB,CAAC,KAAK,CAAC,SAAS,GAAG,YAAY,CAAC;YAEhD,MAAM,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACxD,YAAA,iBAAiB,CAAC,SAAS,GAAG,oBAAoB,CAAC;AAEnD,YAAA,IAAI,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,0CAAE,UAAU,KAAI,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,EAAE;AACzD,gBAAA,iBAAiB,CAAC,KAAK,CAAC,SAAS,GAAG,CAAA,EAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC;AACjF,gBAAA,iBAAiB,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;aAC5C;;AAGD,YAAA,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,IAAG;;gBAClC,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,CAAe,YAAA,EAAA,MAAM,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,EAAE,CAAC;gBACnE,UAAU,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC;AAC5C,gBAAA,UAAU,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;gBAC7B,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBAE9D,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;gBAErC,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;AACrC,gBAAA,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AAC/B,gBAAA,UAAU,CAAC,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC;AAErC,gBAAA,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AACnC,gBAAA,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;gBAEnC,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAClD,gBAAA,WAAW,CAAC,SAAS,GAAG,cAAc,CAAC;gBAEvC,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACtD,gBAAA,eAAe,CAAC,SAAS,GAAG,kBAAkB,CAAC;gBAC/C,eAAe,CAAC,WAAW,GAAG,MAAM,CAAC,YAAY,IAAI,MAAM,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,IAAI,EAAE,CAAC;gBAEtF,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;AAErC,gBAAA,IAAI,MAAA,IAAI,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,UAAU,EAAE;AAC3B,oBAAA,UAAU,CAAC,WAAW,GAAG,CAAA,EAAG,MAAM,CAAC,IAAI,KAAK,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,IAAI,CAAC,CAAC,CAAA,CAAA,EAAI,MAAM,CAAC,IAAI,IAAI,GAAG,EAAE,CAAC;iBAC9H;AAED,gBAAA,WAAW,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;AACzC,gBAAA,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AACpC,gBAAA,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AAEpC,gBAAA,iBAAiB,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAC5C,aAAC,CAAC,CAAC;AAEH,YAAA,gBAAgB,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;AAChD,YAAA,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;SACvC;aAAM;;YAEL,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnD,YAAA,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;AACzC,YAAA,YAAY,CAAC,WAAW,GAAG,gFAAgF,CAAC;AAC5G,YAAA,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;SACnC;AAED,QAAA,OAAO,OAAO,CAAC;KAChB;IAED,oBAAoB,GAAA;;QAClB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;;QAG9C,IAAI,EAAC,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,CAAA,EAAE;AACrC,YAAA,OAAO,OAAO,CAAC;SAChB;QAED,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAChD,QAAA,SAAS,CAAC,SAAS,GAAG,mBAAmB,CAAC;AAC1C,QAAA,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAE/B,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;;YAElC,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACrD,YAAA,cAAc,CAAC,SAAS,GAAG,iBAAiB,CAAC;YAE7C,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACrD,YAAA,WAAW,CAAC,SAAS,GAAG,gBAAgB,CAAC;AACzC,YAAA,WAAW,CAAC,SAAS,GAAG,0DAA0D,CAAC;YACnF,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,6BAA6B,CAAC,CAAC;YAE1E,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACrD,YAAA,WAAW,CAAC,SAAS,GAAG,gBAAgB,CAAC;AACzC,YAAA,WAAW,CAAC,SAAS,GAAG,uEAAuE,CAAC;YAChG,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAEpE,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACzD,YAAA,eAAe,CAAC,SAAS,GAAG,gBAAgB,CAAC;AAC7C,YAAA,eAAe,CAAC,SAAS,GAAG,4EAA4E,CAAC;YACzG,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAEzE,YAAA,cAAc,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AACxC,YAAA,cAAc,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AACxC,YAAA,cAAc,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;AAC5C,YAAA,OAAO,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;;YAGpC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnD,YAAA,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;AACzC,YAAA,YAAY,CAAC,WAAW,GAAG,iBAAiB,CAAC;AAC7C,YAAA,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;;YAGlC,MAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACvD,YAAA,gBAAgB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;AACtC,YAAA,gBAAgB,CAAC,KAAK,CAAC,SAAS,GAAG,YAAY,CAAC;YAEhD,MAAM,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACxD,YAAA,iBAAiB,CAAC,SAAS,GAAG,oBAAoB,CAAC;AAEnD,YAAA,IAAI,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,0CAAE,UAAU,KAAI,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,EAAE;AACzD,gBAAA,iBAAiB,CAAC,KAAK,CAAC,SAAS,GAAG,CAAA,EAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC;AACjF,gBAAA,iBAAiB,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;aAC5C;;AAGD,YAAA,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,IAAG;;gBACnC,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,CAAe,YAAA,EAAA,MAAM,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,EAAE,CAAC;gBACnE,UAAU,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC;AAC5C,gBAAA,UAAU,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;gBAC7B,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBAE/D,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;gBAErC,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;AACrC,gBAAA,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AAC/B,gBAAA,UAAU,CAAC,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC;AAErC,gBAAA,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AACnC,gBAAA,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;gBAEnC,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAClD,gBAAA,WAAW,CAAC,SAAS,GAAG,cAAc,CAAC;gBAEvC,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACtD,gBAAA,eAAe,CAAC,SAAS,GAAG,kBAAkB,CAAC;gBAC/C,eAAe,CAAC,WAAW,GAAG,MAAM,CAAC,YAAY,IAAI,MAAM,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,IAAI,EAAE,CAAC;gBAEtF,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAA,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;AAErC,gBAAA,IAAI,MAAA,IAAI,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,UAAU,EAAE;AAC3B,oBAAA,UAAU,CAAC,WAAW,GAAG,CAAA,EAAG,MAAM,CAAC,KAAK,CAAA,CAAA,EAAI,MAAM,CAAC,IAAI,CAAA,CAAE,CAAC;iBAC3D;AAED,gBAAA,WAAW,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;AACzC,gBAAA,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AACpC,gBAAA,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AAEpC,gBAAA,iBAAiB,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAC5C,aAAC,CAAC,CAAC;AAEH,YAAA,gBAAgB,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;AAChD,YAAA,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;SACvC;aAAM;;YAEL,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnD,YAAA,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;AACzC,YAAA,YAAY,CAAC,WAAW,GAAG,iBAAiB,CAAC;AAC7C,YAAA,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;;YAGlC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnD,YAAA,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;AACzC,YAAA,YAAY,CAAC,WAAW,GAAG,mFAAmF,CAAC;AAC/G,YAAA,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;SACnC;AAED,QAAA,OAAO,OAAO,CAAC;KAChB;IAED,cAAc,GAAA;AACZ,QAAA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAChB,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACjD,IAAI,IAAI,EAAE;AACR,gBAAA,IAAI,CAAC,SAAS,GAAG,sDAAsD,CAAC;aACzE;YACD,OAAO;SACR;;QAGD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AACjD,QAAA,IAAI,CAAC,IAAI;YAAE,OAAO;;AAGlB,QAAA,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;;AAGpB,QAAA,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YAC3B,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC7C,YAAA,MAAM,CAAC,SAAS,GAAG,aAAa,CAAC;YACjC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AACvC,YAAA,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SAC1B;;AAGD,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;AAChD,QAAA,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;;AAG/B,QAAA,IAAI,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;AACnC,YAAA,MAAM,aAAa,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;AAClD,YAAA,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;SACjC;KACF;AACF,CAAA;AAED;AACA,cAAc,CAAC,MAAM,CAAC,8BAA8B,EAAE,yBAAyB,CAAC;;AC1d1E,MAAO,+BAAgC,SAAQ,WAAW,CAAA;AAM9D,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE,CAAC;AAoCV,QAAA,IAAA,CAAA,YAAY,GAAG,CAAC,EAAS,KAAI;YAC3B,IAAI,CAAC,IAAI,CAAC,MAAM;gBAAE,OAAO;AAEzB,YAAA,MAAM,MAAM,GAAG,EAAE,CAAC,MAAgC,CAAC;AACnD,YAAA,MAAM,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;AACvC,YAAA,IAAI,CAAC,WAAW;gBAAE,OAAO;AAEzB,YAAA,IAAI,QAAQ,CAAC;AACb,YAAA,IAAI,OAAO,MAAM,CAAC,OAAO,KAAK,SAAS,EAAE;AACvC,gBAAA,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;aAC3B;AAAM,iBAAA,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS,EAAE;AACrC,gBAAA,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;AAC5B,oBAAA,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBACjC;qBAAM;AACL,oBAAA,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC;iBACzB;aACF;AAED,YAAA,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,QAAQ;gBAAE,OAAO;AAElD,YAAA,MAAM,SAAS,GAAG;gBAChB,GAAG,IAAI,CAAC,MAAM;gBACd,CAAC,WAAW,GAAG,QAAQ;aACxB,CAAC;AAEF,YAAA,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,gBAAgB,EAAE;AACnD,gBAAA,MAAM,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE;AAC7B,gBAAA,OAAO,EAAE,IAAI;AACb,gBAAA,QAAQ,EAAE,IAAI;AACf,aAAA,CAAC,CAAC,CAAC;AACN,SAAC,CAAA;AAjEC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC;;AAGnD,QAAA,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;AACtB,QAAA,IAAI,CAAC,MAAM,GAAG,SAA6C,CAAC;;QAG5D,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC3C,QAAA,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;AACxB,QAAA,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KAC9B;;IAGD,iBAAiB,GAAA;QACf,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,SAAS,CAAC,MAA6B,EAAA;QACrC,IAAI,CAAC,MAAM,GAAG;;AAEZ,YAAA,GAAG,MAAM;;AAET,YAAA,WAAW,EAAE,MAAM,CAAC,WAAW,KAAK,SAAS,GAAG,MAAM,CAAC,WAAW,GAAG,IAAI;AACzE,YAAA,UAAU,EAAE,MAAM,CAAC,UAAU,KAAK,SAAS,GAAG,MAAM,CAAC,UAAU,GAAG,IAAI;AACtE,YAAA,WAAW,EAAE,MAAM,CAAC,WAAW,KAAK,SAAS,GAAG,MAAM,CAAC,WAAW,GAAG,IAAI;AACzE,YAAA,iBAAiB,EAAE,MAAM,CAAC,iBAAiB,KAAK,SAAS,GAAG,MAAM,CAAC,iBAAiB,GAAG,CAAC;AACxF,YAAA,UAAU,EAAE,MAAM,CAAC,UAAU,KAAK,SAAS,GAAG,MAAM,CAAC,UAAU,GAAG,GAAG;AACrE,YAAA,mBAAmB,EAAE,MAAM,CAAC,mBAAmB,KAAK,SAAS,GAAG,MAAM,CAAC,mBAAmB,GAAG,IAAI;AACjG,YAAA,wBAAwB,EAAE,MAAM,CAAC,wBAAwB,KAAK,SAAS,GAAG,MAAM,CAAC,wBAAwB,GAAG,CAAC;AAC7G,YAAA,KAAK,EAAE,MAAM,CAAC,KAAK,KAAK,SAAS,GAAG,MAAM,CAAC,KAAK,GAAG,kBAAkB;SACtE,CAAC;QACF,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;IAkCO,WAAW,GAAA;QACjB,IAAI,CAAC,IAAI,CAAC,MAAM;YAAE,OAAO;;QAGzB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,EAAE;AACT,YAAA,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACrC,YAAA,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;AACxB,YAAA,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC9B;AACD,QAAA,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;;QAGpB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC5C,QAAA,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;AAC1B,QAAA,KAAK,CAAC,WAAW,GAAG,eAAe,CAAC;AACpC,QAAA,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;AAGxB,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACnC,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAkB,CAAC;AAC3E,QAAA,UAAU,CAAC,SAAS,GAAG,OAAO,CAAC;AAC/B,QAAA,UAAU,CAAC,KAAK,GAAG,OAAO,CAAC;QAC3B,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC;AAC3C,QAAA,UAAU,CAAC,WAAW,GAAG,OAAO,CAAC;QACjC,UAAU,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AACzD,QAAA,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AACjC,QAAA,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;AAG3B,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACpC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAkB,CAAC;QAC1E,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,KAAK,KAAK,CAAC;AACzD,QAAA,YAAY,CAAC,WAAW,GAAG,aAAa,CAAC;QACzC,YAAY,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAClD,QAAA,WAAW,CAAC,WAAW,GAAG,aAAa,CAAC;AACxC,QAAA,SAAS,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AACpC,QAAA,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AACnC,QAAA,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;;AAG5B,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACnC,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAkB,CAAC;QACzE,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,KAAK,KAAK,CAAC;AACvD,QAAA,WAAW,CAAC,WAAW,GAAG,YAAY,CAAC;QACvC,WAAW,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC1D,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjD,QAAA,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC;AACtC,QAAA,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AAClC,QAAA,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AACjC,QAAA,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;AAG3B,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACpC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAkB,CAAC;QAC1E,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,KAAK,KAAK,CAAC;AACzD,QAAA,YAAY,CAAC,WAAW,GAAG,aAAa,CAAC;QACzC,YAAY,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAClD,QAAA,WAAW,CAAC,WAAW,GAAG,gBAAgB,CAAC;AAC3C,QAAA,SAAS,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AACpC,QAAA,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AACnC,QAAA,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;;AAG5B,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACxC,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAkB,CAAC;AAChF,QAAA,eAAe,CAAC,SAAS,GAAG,OAAO,CAAC;AACpC,QAAA,eAAe,CAAC,KAAK,GAAG,mBAAmB,CAAC;AAC5C,QAAA,eAAe,CAAC,IAAI,GAAG,QAAQ,CAAC;AAChC,QAAA,eAAe,CAAC,GAAG,GAAG,GAAG,CAAC;AAC1B,QAAA,eAAe,CAAC,GAAG,GAAG,IAAI,CAAC;AAC3B,QAAA,eAAe,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC;AACnE,QAAA,eAAe,CAAC,WAAW,GAAG,mBAAmB,CAAC;QAClD,eAAe,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AAC9D,QAAA,aAAa,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;AAC3C,QAAA,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;;AAGhC,QAAA,MAAM,mBAAmB,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAC9C,MAAM,qBAAqB,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAkB,CAAC;AACtF,QAAA,qBAAqB,CAAC,SAAS,GAAG,OAAO,CAAC;AAC1C,QAAA,qBAAqB,CAAC,KAAK,GAAG,0BAA0B,CAAC;AACzD,QAAA,qBAAqB,CAAC,IAAI,GAAG,QAAQ,CAAC;AACtC,QAAA,qBAAqB,CAAC,GAAG,GAAG,GAAG,CAAC;AAChC,QAAA,qBAAqB,CAAC,GAAG,GAAG,IAAI,CAAC;AACjC,QAAA,qBAAqB,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,IAAI,CAAC,CAAC,CAAC;AAChF,QAAA,qBAAqB,CAAC,WAAW,GAAG,0BAA0B,CAAC;QAC/D,qBAAqB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AACpE,QAAA,mBAAmB,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;AACvD,QAAA,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;;AAGtC,QAAA,MAAM,gBAAgB,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAC3C,MAAM,mBAAmB,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAkB,CAAC;QACjF,mBAAmB,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,mBAAmB,KAAK,KAAK,CAAC;AACxE,QAAA,mBAAmB,CAAC,WAAW,GAAG,qBAAqB,CAAC;QACxD,mBAAmB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAClE,MAAM,kBAAkB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACzD,QAAA,kBAAkB,CAAC,WAAW,GAAG,qBAAqB,CAAC;AACvD,QAAA,gBAAgB,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;AAClD,QAAA,gBAAgB,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;AACjD,QAAA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;;AAGnC,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACvC,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAkB,CAAC;AAC/E,QAAA,cAAc,CAAC,SAAS,GAAG,OAAO,CAAC;AACnC,QAAA,cAAc,CAAC,KAAK,GAAG,6BAA6B,CAAC;AACrD,QAAA,cAAc,CAAC,IAAI,GAAG,QAAQ,CAAC;AAC/B,QAAA,cAAc,CAAC,GAAG,GAAG,GAAG,CAAC;AACzB,QAAA,cAAc,CAAC,GAAG,GAAG,MAAM,CAAC;AAC5B,QAAA,cAAc,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;AAC3D,QAAA,cAAc,CAAC,WAAW,GAAG,YAAY,CAAC;QAC1C,cAAc,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AAC7D,QAAA,cAAc,CAAC,UAAU,GAAG,6CAA6C,CAAC;AAC1E,QAAA,cAAc,CAAC,gBAAgB,GAAG,IAAI,CAAC;AACvC,QAAA,YAAY,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;AACzC,QAAA,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;KAChC;IAEO,UAAU,GAAA;QAChB,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC1C,QAAA,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;AACtB,QAAA,OAAO,GAAG,CAAC;KACZ;AACF,CAAA;AAED;AACA,cAAc,CAAC,MAAM,CAAC,qCAAqC,EAAE,+BAA+B,CAAC"}