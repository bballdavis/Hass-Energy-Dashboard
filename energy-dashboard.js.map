{"version":3,"file":"energy-dashboard.js","sources":["src/entity-utils.ts","src/styles.ts","src/energy-dashboard-entity-card.ts","src/energy-dashboard-entity-card-editor.ts","src/energy-dashboard-chart-config.ts","src/energy-dashboard-chart-card.ts","src/energy-dashboard-chart-card-editor.ts","src/card-registration.ts"],"sourcesContent":["import { EntityInfo } from './types';\n\nexport function getPowerEntities(hass: any): EntityInfo[] {\n  return Object.keys(hass.states)\n    .filter(entityId => {\n      const stateObj = hass.states[entityId];\n      return stateObj && stateObj.attributes &&\n        (stateObj.attributes.unit_of_measurement === 'W' ||\n         stateObj.attributes.unit_of_measurement === 'kW');\n    })\n    .map(entityId => {\n      const stateObj = hass.states[entityId];\n      const domain = entityId.split('.')[0];\n      const isToggleable = ['switch', 'light', 'input_boolean', 'fan', 'automation'].includes(domain);\n\n      let powerValue = 0;\n      try {\n        if (stateObj.attributes.unit_of_measurement === 'kW') {\n          powerValue = parseFloat(stateObj.state) * 1000;\n        } else {\n          powerValue = parseFloat(stateObj.state) || 0;\n        }\n      } catch {\n        powerValue = 0;\n      }\n\n      return {\n        entityId,\n        name: stateObj.attributes.friendly_name || entityId,\n        state: stateObj.state,\n        unit: stateObj.attributes.unit_of_measurement,\n        powerValue,\n        isToggleable\n      };\n    })\n    .sort((a, b) => b.powerValue! - a.powerValue!);\n}\n\nexport function getEnergyEntities(hass: any): EntityInfo[] {\n  return Object.keys(hass.states)\n    .filter(entityId => {\n      const stateObj = hass.states[entityId];\n      return stateObj && stateObj.attributes &&\n        (stateObj.attributes.unit_of_measurement === 'Wh' ||\n         stateObj.attributes.unit_of_measurement === 'kWh');\n    })\n    .map(entityId => {\n      const stateObj = hass.states[entityId];\n      const domain = entityId.split('.')[0];\n      const isToggleable = ['switch', 'light', 'input_boolean', 'fan', 'automation'].includes(domain);\n\n      let energyValue = 0;\n      try {\n        if (stateObj.attributes.unit_of_measurement === 'Wh') {\n          energyValue = parseFloat(stateObj.state) / 1000;\n        } else {\n          energyValue = parseFloat(stateObj.state) || 0;\n        }\n      } catch {\n        energyValue = 0;\n      }\n\n      return {\n        entityId,\n        name: stateObj.attributes.friendly_name || entityId,\n        state: stateObj.state,\n        unit: stateObj.attributes.unit_of_measurement,\n        energyValue,\n        isToggleable\n      };\n    })\n    .sort((a, b) => b.energyValue! - a.energyValue!);\n}\n\nexport function loadToggleStates(key: string): Record<string, boolean> | null {\n  try {\n    const stored = localStorage.getItem(key);\n    return stored ? JSON.parse(stored) : null;\n  } catch {\n    return null;\n  }\n}\n\nexport function saveToggleStates(states: Record<string, boolean>, key: string): void {\n  try {\n    localStorage.setItem(key, JSON.stringify(states));\n  } catch {\n    try {\n      const reducedStates: Record<string, boolean> = {};\n      Object.keys(states).forEach(k => {\n        if (states[k]) reducedStates[k] = true;\n      });\n      localStorage.setItem(key, JSON.stringify(reducedStates));\n    } catch {}\n  }\n}","export function createStyles(cssText: string): HTMLStyleElement {\n  const style = document.createElement('style');\n  style.textContent = cssText;\n  return style;\n}\n\nexport const cardStyles = `\n  :host {\n    --card-padding: 16px;\n    --entity-height: 12px;\n    --entity-width: 240px;\n    --button-height: 32px;\n    --entity-font-size: 0.95em;\n    --section-title-font-size: 0.9975em;\n  }\n  .card-header {\n    padding: var(--card-padding);\n    font-family: var(--paper-font-headline_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-headline_-_-webkit-font-smoothing);\n    font-size: var(--paper-font-headline_-_font-size);\n    font-weight: var(--paper-font-headline_-_font-weight);\n    letter-spacing: var(--paper-font-headline_-_letter-spacing);\n    line-height: var(--paper-font-headline_-_line-height);\n    color: var(--ha-card-header-color, --primary-text-color);\n  }\n  .control-buttons {\n    padding: 0 var(--card-padding) 8px;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .control-button {\n    background-color: var(--secondary-background-color);\n    border: none;\n    border-radius: 8px;\n    padding: 6px 12px;\n    color: var(--primary-text-color);\n    font-size: 0.9em;\n    font-weight: 500;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background-color 0.3s ease;\n    flex: 1;\n    margin: 0 4px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);\n    height: var(--button-height);\n    min-height: var(--button-height);\n    box-sizing: border-box;\n  }\n  .control-button:first-child {\n    margin-left: 0;\n  }\n  .control-button:last-child {\n    margin-right: 0;\n  }\n  .control-button:hover {\n    background-color: var(--primary-color);\n    color: var(--text-primary-color);\n  }\n  .control-button ha-icon {\n    margin-right: 4px;\n    --mdc-icon-size: 18px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .section-title {\n    padding: 6px var(--card-padding);\n    font-size: var(--section-title-font-size);\n    font-weight: 500;\n    color: var(--primary-text-color);\n    display: flex;\n    align-items: center;\n  }\n  .entities-container {\n    padding: 0 var(--card-padding) var(--card-padding);\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    justify-content: flex-start;\n    overflow-y: auto;\n    scrollbar-width: thin;\n    scrollbar-color: var(--scrollbar-thumb-color) transparent;\n    width: calc(100% - (var(--card-padding) * 2));\n    box-sizing: border-box;\n    min-width: 100%;\n  }\n  .entities-container::-webkit-scrollbar {\n    width: 6px;\n  }\n  .entities-container::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  .entities-container::-webkit-scrollbar-thumb {\n    background-color: var(--scrollbar-thumb-color, var(--divider-color, #e0e0e0));\n    border-radius: 3px;\n  }\n  .entity-item {\n    background-color: var(--ha-card-background, var(--card-background-color, white));\n    border-radius: 12px;\n    padding: 8px 16px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n    transition: all 0.3s ease;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    height: auto;\n    min-height: var(--entity-height);\n    width: 100%;\n    box-sizing: border-box;\n    flex-grow: 1;\n    flex-shrink: 0;\n    min-width: 100%;\n    max-width: 100%;\n    margin-bottom: 2px;\n  }\n  .entity-item:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    transform: translateY(-1px);\n  }\n  .entity-item.on {\n    background-color: var(--primary-color);\n    color: var(--text-primary-color);\n  }\n  .entity-left {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    flex: 3;\n    min-width: 0;\n    margin-top: -1px;\n    margin-bottom: -1px;\n  }\n  .entity-name {\n    font-weight: bold;\n    font-size: 0.95em;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 100%;\n    flex: 1;\n    margin-right: 16px;\n  }\n  .entity-state {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    min-width: 85px;\n    max-width: 85px;\n    white-space: nowrap;\n    flex: 0 0 auto;\n    font-size: 0.95em;\n  }\n  .power-value {\n    font-weight: 500;\n  }\n  .empty-message {\n    padding: var(--card-padding);\n    text-align: center;\n    color: var(--secondary-text-color);\n  }\n  .section-separator {\n    height: 1px;\n    background-color: var(--divider-color, #e0e0e0);\n    margin: 12px var(--card-padding) 8px;\n    opacity: 0.6;\n  }\n  \n  /* Loading and error states */\n  .loading-container {\n    padding: 16px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: var(--loading-height, 300px);\n    border-radius: 8px;\n    animation: fadeIn 0.3s ease-in-out;\n  }\n  \n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  \n  @keyframes pulse {\n    0% { opacity: 0.6; }\n    50% { opacity: 1; }\n    100% { opacity: 0.6; }\n  }\n  \n  .loading-container .loading-text {\n    margin-top: 16px;\n    color: var(--secondary-text-color);\n    animation: pulse 1.5s infinite;\n  }\n  \n  .error-container {\n    border: 1px dashed var(--error-color, red);\n    border-radius: 8px;\n    padding: 16px;\n    margin: 8px 16px;\n    transition: all 0.3s ease;\n  }\n  \n  .error-container:hover {\n    background-color: rgba(var(--error-color-rgb, 244, 67, 54), 0.05);\n  }\n  \n  .error-container ul {\n    margin-top: 8px;\n    margin-bottom: 4px;\n  }\n  \n  .chart-container {\n    transition: opacity 0.3s ease-in-out;\n  }\n`;\n\nexport const editorStyles = `\n  .form {\n    display: flex;\n    flex-direction: column;\n  }\n  .row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 8px 16px;\n  }\n  .title {\n    padding-left: 16px;\n    margin-top: 8px;\n    font-weight: 500;\n  }\n  .value {\n    width: 100%;\n  }\n  ha-switch {\n    margin-right: 16px;\n  }\n`;","import { EntityInfo, EnergyDashboardConfig } from './types';\nimport { getPowerEntities, getEnergyEntities, loadToggleStates, saveToggleStates } from './entity-utils';\nimport { createStyles, cardStyles } from './styles';\n\nexport class EnergyDashboardEntityCard extends HTMLElement {\n  // Properties\n  private _hass: any;\n  config?: EnergyDashboardConfig;\n  powerEntities: EntityInfo[] = [];\n  energyEntities: EntityInfo[] = [];\n  entityToggleStates: Record<string, boolean> = {};\n  energyEntityToggleStates: Record<string, boolean> = {};\n  private _initialized: boolean = false;\n  private _energyInitialized: boolean = false;\n  private _root: ShadowRoot;\n\n  // Define card name and icon for card picker\n  static get cardType() {\n    return 'energy-dashboard-entity-card';\n  }\n\n  static get displayName() {\n    return 'Energy Dashboard Entity Card';\n  }\n\n  static get description() {\n    return 'Card that displays power and energy consumption entities';\n  }\n\n  static get icon() {\n    return 'mdi:lightning-bolt';\n  }\n\n  constructor() {\n    super();\n    this._root = this.attachShadow({ mode: 'open' });\n    this._root.appendChild(createStyles(cardStyles));\n    \n    // Initialize properties\n    this._hass = undefined;\n    this.powerEntities = [];\n    this.energyEntities = [];\n    this.entityToggleStates = {};\n    this.energyEntityToggleStates = {};\n    this._initialized = false;\n    this._energyInitialized = false;\n    \n    // Create the card element\n    const card = document.createElement('ha-card');\n    this._root.appendChild(card);\n  }\n\n  // Called when the element is added to the DOM\n  connectedCallback() {\n    this._updateContent();\n  }\n\n  // Home Assistant specific method to set config\n  setConfig(config: EnergyDashboardConfig) {\n    if (!config) {\n      throw new Error(\"Invalid configuration\");\n    }\n    // Create a merged config object correctly by spreading config first\n    this.config = {\n      ...config,\n      // Then set defaults only for missing properties\n      title: config.title ?? 'Energy Dashboard',\n      show_header: config.show_header ?? true,\n      show_state: config.show_state ?? true,\n      show_toggle: config.show_toggle ?? true,\n      auto_select_count: config.auto_select_count ?? 6,\n      max_height: config.max_height ?? 400,\n      show_energy_section: config.show_energy_section ?? true,\n      energy_auto_select_count: config.energy_auto_select_count ?? 6,\n    };\n    \n    this._updateContent();\n  }\n\n  // Home Assistant specific methods\n  static getConfigElement() {\n    return document.createElement('energy-dashboard-entity-card-editor');\n  }\n\n  static getStubConfig() {\n    return {\n      title: 'Energy Dashboard',\n      show_header: true,\n      show_state: true,\n      show_toggle: true,\n      auto_select_count: 6,\n      max_height: 400,\n      show_energy_section: true,\n      energy_auto_select_count: 6\n    };\n  }\n\n  getCardSize() {\n    let rows = 0;\n\n    if (this.powerEntities && this.powerEntities.length > 0) {\n      rows += this.powerEntities.length * 0.7;\n      rows += 2;\n    }\n\n    if (this.config?.show_energy_section && this.energyEntities && this.energyEntities.length > 0) {\n      rows += this.energyEntities.length * 0.7;\n      rows += 2;\n    }\n\n    return rows > 0 ? rows : 1;\n  }\n\n  // Called when Home Assistant updates\n  set hass(hass: any) {\n    this._hass = hass;\n    this._updateEntities();\n    this._updateContent();\n  }\n\n  get hass() {\n    return this._hass;\n  }\n\n  _updateEntities() {\n    if (!this._hass) return;\n\n    try {\n      this._updatePowerEntities();\n      if (this.config?.show_energy_section) {\n        this._updateEnergyEntities();\n      }\n    } catch (e) {\n      console.error(\"Error updating entities:\", e);\n    }\n  }\n\n  _updatePowerEntities() {\n    const newPowerEntities = getPowerEntities(this._hass);\n    if (!this._initialized || Object.keys(this.entityToggleStates).length === 0) {\n      this._initializePowerToggleStates(newPowerEntities);\n      this._initialized = true;\n    }\n    this.powerEntities = newPowerEntities.map(entity => ({\n      ...entity,\n      isOn: this.entityToggleStates[entity.entityId] || false\n    }));\n    this._savePowerToggleStates();\n  }\n\n  _updateEnergyEntities() {\n    const newEnergyEntities = getEnergyEntities(this._hass);\n    if (!this._energyInitialized || Object.keys(this.energyEntityToggleStates).length === 0) {\n      this._initializeEnergyToggleStates(newEnergyEntities);\n      this._energyInitialized = true;\n    }\n    this.energyEntities = newEnergyEntities.map(entity => ({\n      ...entity,\n      isOn: this.energyEntityToggleStates[entity.entityId] || false\n    }));\n    this._saveEnergyToggleStates();\n  }\n\n  _initializePowerToggleStates(entities: EntityInfo[]) {\n    const savedStates = loadToggleStates('energy-dashboard-power-toggle-states');\n    if (savedStates && Object.keys(savedStates).length > 0) {\n      this.entityToggleStates = savedStates;\n    } else {\n      const toggleStates: Record<string, boolean> = {};\n      const count = this.config?.auto_select_count ?? 6;\n      entities.slice(0, count).forEach(entity => {\n        toggleStates[entity.entityId] = true;\n      });\n      this.entityToggleStates = toggleStates;\n    }\n  }\n\n  _initializeEnergyToggleStates(entities: EntityInfo[]) {\n    const savedStates = loadToggleStates('energy-dashboard-energy-toggle-states');\n    if (savedStates && Object.keys(savedStates).length > 0) {\n      this.energyEntityToggleStates = savedStates;\n    } else {\n      const toggleStates: Record<string, boolean> = {};\n      const count = this.config?.energy_auto_select_count ?? 6;\n      entities.slice(0, count).forEach(entity => {\n        toggleStates[entity.entityId] = true;\n      });\n      this.energyEntityToggleStates = toggleStates;\n    }\n  }\n\n  _savePowerToggleStates() {\n    saveToggleStates(this.entityToggleStates, 'energy-dashboard-power-toggle-states');\n  }\n\n  _saveEnergyToggleStates() {\n    saveToggleStates(this.energyEntityToggleStates, 'energy-dashboard-energy-toggle-states');\n  }\n\n  _resetToPowerDefaultEntities = () => {\n    this._initializePowerToggleStates(getPowerEntities(this._hass));\n    this._updatePowerEntities();\n    this._updateContent();\n  }\n\n  _clearAllPowerEntities = () => {\n    this.entityToggleStates = {};\n    this._updatePowerEntities();\n    this._updateContent();\n  }\n\n  _selectAllPowerEntities = () => {\n    const entities = getPowerEntities(this._hass);\n    entities.forEach(entity => {\n      this.entityToggleStates[entity.entityId] = true;\n    });\n    this._updatePowerEntities();\n    this._updateContent();\n  }\n\n  _togglePowerEntity = (e: Event) => {\n    const target = e.currentTarget as HTMLElement;\n    const entityId = target.dataset.entity;\n    if (entityId) {\n      this.entityToggleStates[entityId] = !this.entityToggleStates[entityId];\n      this._updatePowerEntities();\n      this._updateContent();\n    }\n  }\n\n  _resetToEnergyDefaultEntities = () => {\n    this._initializeEnergyToggleStates(getEnergyEntities(this._hass));\n    this._updateEnergyEntities();\n    this._updateContent();\n  }\n\n  _clearAllEnergyEntities = () => {\n    this.energyEntityToggleStates = {};\n    this._updateEnergyEntities();\n    this._updateContent();\n  }\n\n  _selectAllEnergyEntities = () => {\n    const entities = getEnergyEntities(this._hass);\n    entities.forEach(entity => {\n      this.energyEntityToggleStates[entity.entityId] = true;\n    });\n    this._updateEnergyEntities();\n    this._updateContent();\n  }\n\n  _toggleEnergyEntity = (e: Event) => {\n    const target = e.currentTarget as HTMLElement;\n    const entityId = target.dataset.entity;\n    if (entityId) {\n      this.energyEntityToggleStates[entityId] = !this.energyEntityToggleStates[entityId];\n      this._updateEnergyEntities();\n      this._updateContent();\n    }\n  }\n\n  _renderPowerSection(): HTMLElement {\n    const section = document.createElement('div');\n\n    if (this.powerEntities.length > 0) {\n      // Control buttons\n      const controlButtons = document.createElement('div');\n      controlButtons.className = 'control-buttons';\n      \n      const resetButton = document.createElement('button');\n      resetButton.className = 'control-button';\n      resetButton.innerHTML = '<ha-icon icon=\"mdi:refresh\"></ha-icon><span>Reset</span>';\n      resetButton.addEventListener('click', this._resetToPowerDefaultEntities);\n      \n      const clearButton = document.createElement('button');\n      clearButton.className = 'control-button';\n      clearButton.innerHTML = '<ha-icon icon=\"mdi:close-circle-outline\"></ha-icon><span>Clear</span>';\n      clearButton.addEventListener('click', this._clearAllPowerEntities);\n      \n      const selectAllButton = document.createElement('button');\n      selectAllButton.className = 'control-button';\n      selectAllButton.innerHTML = '<ha-icon icon=\"mdi:check-circle-outline\"></ha-icon><span>Select All</span>';\n      selectAllButton.addEventListener('click', this._selectAllPowerEntities);\n      \n      controlButtons.appendChild(resetButton);\n      controlButtons.appendChild(clearButton);\n      controlButtons.appendChild(selectAllButton);\n      section.appendChild(controlButtons);\n      \n      // Section title\n      const sectionTitle = document.createElement('div');\n      sectionTitle.className = 'section-title';\n      sectionTitle.textContent = 'Power Entities';\n      section.appendChild(sectionTitle);\n      \n      // Container\n      const containerWrapper = document.createElement('div');\n      containerWrapper.style.width = '100%';\n      containerWrapper.style.boxSizing = 'border-box';\n      \n      const entitiesContainer = document.createElement('div');\n      entitiesContainer.className = 'entities-container';\n      \n      if (this.config?.max_height && this.config.max_height > 0) {\n        entitiesContainer.style.maxHeight = `${Math.min(this.config.max_height, 400)}px`;\n        entitiesContainer.style.overflowY = 'auto';\n      }\n      \n      // Add entities\n      this.powerEntities.forEach(entity => {\n        const entityItem = document.createElement('div');\n        entityItem.className = `entity-item ${entity.isOn ? 'on' : 'off'}`;\n        entityItem.dataset.entity = entity.entityId;\n        entityItem.style.gap = '4px';\n        entityItem.addEventListener('click', this._togglePowerEntity);\n        \n        const entityLeft = document.createElement('div');\n        entityLeft.className = 'entity-left';\n        \n        const entityName = document.createElement('div');\n        entityName.className = 'entity-name';\n        entityName.title = entity.name;\n        entityName.textContent = entity.name;\n        \n        entityLeft.appendChild(entityName);\n        entityItem.appendChild(entityLeft);\n        \n        const entityState = document.createElement('div');\n        entityState.className = 'entity-state';\n        \n        const statusIndicator = document.createElement('div');\n        statusIndicator.className = 'status-indicator';\n        statusIndicator.textContent = entity.isToggleable ? (entity.isOn ? 'ON' : 'OFF') : '';\n        \n        const powerValue = document.createElement('div');\n        powerValue.className = 'power-value';\n        \n        if (this.config?.show_state) {\n          powerValue.textContent = `${entity.unit === 'kW' ? entity.state : Math.round(entity.powerValue || 0)} ${entity.unit || 'W'}`;\n        }\n        \n        entityState.appendChild(statusIndicator);\n        entityState.appendChild(powerValue);\n        entityItem.appendChild(entityState);\n        \n        entitiesContainer.appendChild(entityItem);\n      });\n      \n      containerWrapper.appendChild(entitiesContainer);\n      section.appendChild(containerWrapper);\n    } else {\n      // Empty message\n      const emptyMessage = document.createElement('div');\n      emptyMessage.className = 'empty-message';\n      emptyMessage.textContent = 'No power entities found. Make sure you have entities with unit set to W or kW.';\n      section.appendChild(emptyMessage);\n    }\n    \n    return section;\n  }\n\n  _renderEnergySection(): HTMLElement {\n    const section = document.createElement('div');\n\n    // Only render if energy section is enabled\n    if (!this.config?.show_energy_section) {\n      return section;\n    }\n    \n    const separator = document.createElement('div');\n    separator.className = 'section-separator';\n    section.appendChild(separator);\n\n    if (this.energyEntities.length > 0) {\n      // Control buttons for energy section\n      const controlButtons = document.createElement('div');\n      controlButtons.className = 'control-buttons';\n      \n      const resetButton = document.createElement('button');\n      resetButton.className = 'control-button';\n      resetButton.innerHTML = '<ha-icon icon=\"mdi:refresh\"></ha-icon><span>Reset</span>';\n      resetButton.addEventListener('click', this._resetToEnergyDefaultEntities);\n      \n      const clearButton = document.createElement('button');\n      clearButton.className = 'control-button';\n      clearButton.innerHTML = '<ha-icon icon=\"mdi:close-circle-outline\"></ha-icon><span>Clear</span>';\n      clearButton.addEventListener('click', this._clearAllEnergyEntities);\n      \n      const selectAllButton = document.createElement('button');\n      selectAllButton.className = 'control-button';\n      selectAllButton.innerHTML = '<ha-icon icon=\"mdi:check-circle-outline\"></ha-icon><span>Select All</span>';\n      selectAllButton.addEventListener('click', this._selectAllEnergyEntities);\n      \n      controlButtons.appendChild(resetButton);\n      controlButtons.appendChild(clearButton);\n      controlButtons.appendChild(selectAllButton);\n      section.appendChild(controlButtons);\n      \n      // Section title\n      const sectionTitle = document.createElement('div');\n      sectionTitle.className = 'section-title';\n      sectionTitle.textContent = 'Energy Entities';\n      section.appendChild(sectionTitle);\n      \n      // Container\n      const containerWrapper = document.createElement('div');\n      containerWrapper.style.width = '100%';\n      containerWrapper.style.boxSizing = 'border-box';\n      \n      const entitiesContainer = document.createElement('div');\n      entitiesContainer.className = 'entities-container';\n      \n      if (this.config?.max_height && this.config.max_height > 0) {\n        entitiesContainer.style.maxHeight = `${Math.min(this.config.max_height, 400)}px`;\n        entitiesContainer.style.overflowY = 'auto';\n      }\n      \n      // Add entities\n      this.energyEntities.forEach(entity => {\n        const entityItem = document.createElement('div');\n        entityItem.className = `entity-item ${entity.isOn ? 'on' : 'off'}`;\n        entityItem.dataset.entity = entity.entityId;\n        entityItem.style.gap = '4px';\n        entityItem.addEventListener('click', this._toggleEnergyEntity);\n        \n        const entityLeft = document.createElement('div');\n        entityLeft.className = 'entity-left';\n        \n        const entityName = document.createElement('div');\n        entityName.className = 'entity-name';\n        entityName.title = entity.name;\n        entityName.textContent = entity.name;\n        \n        entityLeft.appendChild(entityName);\n        entityItem.appendChild(entityLeft);\n        \n        const entityState = document.createElement('div');\n        entityState.className = 'entity-state';\n        \n        const statusIndicator = document.createElement('div');\n        statusIndicator.className = 'status-indicator';\n        statusIndicator.textContent = entity.isToggleable ? (entity.isOn ? 'ON' : 'OFF') : '';\n        \n        const powerValue = document.createElement('div');\n        powerValue.className = 'power-value';\n        \n        if (this.config?.show_state) {\n          powerValue.textContent = `${entity.state} ${entity.unit}`;\n        }\n        \n        entityState.appendChild(statusIndicator);\n        entityState.appendChild(powerValue);\n        entityItem.appendChild(entityState);\n        \n        entitiesContainer.appendChild(entityItem);\n      });\n      \n      containerWrapper.appendChild(entitiesContainer);\n      section.appendChild(containerWrapper);\n    } else {\n      // Section title\n      const sectionTitle = document.createElement('div');\n      sectionTitle.className = 'section-title';\n      sectionTitle.textContent = 'Energy Entities';\n      section.appendChild(sectionTitle);\n      \n      // Empty message\n      const emptyMessage = document.createElement('div');\n      emptyMessage.className = 'empty-message';\n      emptyMessage.textContent = 'No energy entities found. Make sure you have entities with unit set to Wh or kWh.';\n      section.appendChild(emptyMessage);\n    }\n    \n    return section;\n  }\n\n  _updateContent() {\n    if (!this.config) {\n      const card = this._root.querySelector('ha-card');\n      if (card) {\n        card.innerHTML = '<div class=\"empty-message\">Card not configured</div>';\n      }\n      return;\n    }\n\n    // Get the ha-card element\n    const card = this._root.querySelector('ha-card');\n    if (!card) return;\n\n    // Clear previous content\n    card.innerHTML = '';\n\n    // Header\n    if (this.config.show_header) {\n      const header = document.createElement('div');\n      header.className = 'card-header';\n      header.textContent = this.config.title;\n      card.appendChild(header);\n    }\n\n    // Power section\n    const powerSection = this._renderPowerSection();\n    card.appendChild(powerSection);\n\n    // Energy section (if enabled)\n    if (this.config.show_energy_section) {\n      const energySection = this._renderEnergySection();\n      card.appendChild(energySection);\n    }\n  }\n}\n\n// Register the card with the custom elements registry\ncustomElements.define('energy-dashboard-entity-card', EnergyDashboardEntityCard);","import { EnergyDashboardConfig } from './types';\nimport { createStyles, editorStyles } from './styles';\n\n// Extend HTMLInputElement to include the configValue property\ninterface CustomHTMLInputElement extends HTMLInputElement {\n  configValue?: string;\n}\n\n// Define a type for HA elements used in the editor\ninterface HaFormElement extends HTMLElement {\n  label?: string;\n  value?: string | number | boolean;\n  type?: string;\n  min?: string;\n  max?: string;\n  configValue?: string;\n  checked?: boolean;\n  helperText?: string;\n  helperPersistent?: boolean;\n  addEventListener(event: string, handler: (event: Event) => void): void;\n}\n\nexport class EnergyDashboardEntityCardEditor extends HTMLElement {\n  // Properties\n  hass: any;\n  config: EnergyDashboardConfig;\n  private _root: ShadowRoot;\n\n  constructor() {\n    super();\n    this._root = this.attachShadow({ mode: 'open' });\n    this._root.appendChild(createStyles(editorStyles));\n    \n    // Initialize properties\n    this.hass = undefined;\n    this.config = undefined as unknown as EnergyDashboardConfig;\n\n    // Create the form container\n    const form = document.createElement('div');\n    form.className = 'form';\n    this._root.appendChild(form);\n  }\n\n  // Called when the element is added to the DOM\n  connectedCallback() {\n    this._updateForm();\n  }\n\n  setConfig(config: EnergyDashboardConfig) {\n    this.config = {\n      // First spread the provided config\n      ...config,\n      // Then apply defaults for any missing properties\n      show_header: config.show_header !== undefined ? config.show_header : true,\n      show_state: config.show_state !== undefined ? config.show_state : true,\n      show_toggle: config.show_toggle !== undefined ? config.show_toggle : true,\n      auto_select_count: config.auto_select_count !== undefined ? config.auto_select_count : 6,\n      max_height: config.max_height !== undefined ? config.max_height : 400, // Default to ~15 entities\n      show_energy_section: config.show_energy_section !== undefined ? config.show_energy_section : true,\n      energy_auto_select_count: config.energy_auto_select_count !== undefined ? config.energy_auto_select_count : 6,\n      title: config.title !== undefined ? config.title : 'Energy Dashboard',\n    };\n    this._updateForm();\n  }\n\n  valueChanged = (ev: Event) => {\n    if (!this.config) return;\n    \n    const target = ev.target as CustomHTMLInputElement;\n    const configValue = target.configValue;\n    if (!configValue) return;\n\n    let newValue;\n    if (typeof target.checked === 'boolean') {\n      newValue = target.checked;\n    } else if (target.value !== undefined) {\n      if (target.type === 'number') {\n        newValue = Number(target.value);\n      } else {\n        newValue = target.value;\n      }\n    }\n\n    if (this.config[configValue] === newValue) return;\n\n    const newConfig = {\n      ...this.config,\n      [configValue]: newValue\n    };\n\n    this.dispatchEvent(new CustomEvent('config-changed', {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  private _updateForm() {\n    if (!this.config) return;\n\n    // Get or create the form element\n    let form = this._root.querySelector('.form');\n    if (!form) {\n      form = document.createElement('div');\n      form.className = 'form';\n      this._root.appendChild(form);\n    }\n    form.innerHTML = '';\n\n    // Create title\n    const title = document.createElement('div');\n    title.className = 'title';\n    title.textContent = 'Card Settings';\n    form.appendChild(title);\n\n    // Title field\n    const titleRow = this._createRow();\n    const titleField = document.createElement('ha-textfield') as HaFormElement;\n    titleField.className = 'value';\n    titleField.label = 'Title';\n    titleField.value = this.config.title || '';\n    titleField.configValue = 'title';\n    titleField.addEventListener('change', this.valueChanged);\n    titleRow.appendChild(titleField);\n    form.appendChild(titleRow);\n\n    // Show Header toggle\n    const headerRow = this._createRow();\n    const headerSwitch = document.createElement('ha-switch') as HaFormElement;\n    headerSwitch.checked = this.config.show_header !== false;\n    headerSwitch.configValue = 'show_header';\n    headerSwitch.addEventListener('change', this.valueChanged);\n    const headerLabel = document.createElement('div');\n    headerLabel.textContent = 'Show Header';\n    headerRow.appendChild(headerSwitch);\n    headerRow.appendChild(headerLabel);\n    form.appendChild(headerRow);\n\n    // Show State toggle\n    const stateRow = this._createRow();\n    const stateSwitch = document.createElement('ha-switch') as HaFormElement;\n    stateSwitch.checked = this.config.show_state !== false;\n    stateSwitch.configValue = 'show_state';\n    stateSwitch.addEventListener('change', this.valueChanged);\n    const stateLabel = document.createElement('div');\n    stateLabel.textContent = 'Show State';\n    stateRow.appendChild(stateSwitch);\n    stateRow.appendChild(stateLabel);\n    form.appendChild(stateRow);\n\n    // Allow Toggling toggle\n    const toggleRow = this._createRow();\n    const toggleSwitch = document.createElement('ha-switch') as HaFormElement;\n    toggleSwitch.checked = this.config.show_toggle !== false;\n    toggleSwitch.configValue = 'show_toggle';\n    toggleSwitch.addEventListener('change', this.valueChanged);\n    const toggleLabel = document.createElement('div');\n    toggleLabel.textContent = 'Allow Toggling';\n    toggleRow.appendChild(toggleSwitch);\n    toggleRow.appendChild(toggleLabel);\n    form.appendChild(toggleRow);\n\n    // Auto-select Count field\n    const autoSelectRow = this._createRow();\n    const autoSelectField = document.createElement('ha-textfield') as HaFormElement;\n    autoSelectField.className = 'value';\n    autoSelectField.label = 'Auto-select Count';\n    autoSelectField.type = 'number';\n    autoSelectField.min = '0';\n    autoSelectField.max = '50';\n    autoSelectField.value = String(this.config.auto_select_count || 6);\n    autoSelectField.configValue = 'auto_select_count';\n    autoSelectField.addEventListener('change', this.valueChanged);\n    autoSelectRow.appendChild(autoSelectField);\n    form.appendChild(autoSelectRow);\n\n    // Energy Auto-select Count field\n    const energyAutoSelectRow = this._createRow();\n    const energyAutoSelectField = document.createElement('ha-textfield') as HaFormElement;\n    energyAutoSelectField.className = 'value';\n    energyAutoSelectField.label = 'Energy Auto-select Count';\n    energyAutoSelectField.type = 'number';\n    energyAutoSelectField.min = '0';\n    energyAutoSelectField.max = '50';\n    energyAutoSelectField.value = String(this.config.energy_auto_select_count || 6);\n    energyAutoSelectField.configValue = 'energy_auto_select_count';\n    energyAutoSelectField.addEventListener('change', this.valueChanged);\n    energyAutoSelectRow.appendChild(energyAutoSelectField);\n    form.appendChild(energyAutoSelectRow);\n\n    // Show Energy Section toggle\n    const energySectionRow = this._createRow();\n    const energySectionSwitch = document.createElement('ha-switch') as HaFormElement;\n    energySectionSwitch.checked = this.config.show_energy_section !== false;\n    energySectionSwitch.configValue = 'show_energy_section';\n    energySectionSwitch.addEventListener('change', this.valueChanged);\n    const energySectionLabel = document.createElement('div');\n    energySectionLabel.textContent = 'Show Energy Section';\n    energySectionRow.appendChild(energySectionSwitch);\n    energySectionRow.appendChild(energySectionLabel);\n    form.appendChild(energySectionRow);\n\n    // Max Height field\n    const maxHeightRow = this._createRow();\n    const maxHeightField = document.createElement('ha-textfield') as HaFormElement;\n    maxHeightField.className = 'value';\n    maxHeightField.label = 'Max Height (0 for no limit)';\n    maxHeightField.type = 'number';\n    maxHeightField.min = '0';\n    maxHeightField.max = '1000';\n    maxHeightField.value = String(this.config.max_height || 0);\n    maxHeightField.configValue = 'max_height';\n    maxHeightField.addEventListener('change', this.valueChanged);\n    maxHeightField.helperText = 'Set maximum height in pixels (0 = no limit)';\n    maxHeightField.helperPersistent = true;\n    maxHeightRow.appendChild(maxHeightField);\n    form.appendChild(maxHeightRow);\n  }\n\n  private _createRow(): HTMLDivElement {\n    const row = document.createElement('div');\n    row.className = 'row';\n    return row;\n  }\n}\n\n// Register the editor with the custom elements registry\ncustomElements.define('energy-dashboard-entity-card-editor', EnergyDashboardEntityCardEditor);","import { EnergyDashboardConfig } from './types';\n\nexport interface ChartSeries {\n  entity: string;\n  name: string;\n  color?: string;\n  type?: string; // 'line', 'area', etc.\n  stroke_width?: number;\n  curve?: string; // 'smooth', 'straight'\n  show_points?: boolean;\n}\n\nexport interface ChartAxisOptions {\n  min?: number;\n  max?: number;\n  tickAmount?: number;\n  decimals?: number;\n  title?: string;\n  unit?: string;\n}\n\nexport interface EnergyDashboardChartConfig extends EnergyDashboardConfig {\n  // Chart specific options\n  chart_type: string; // 'line', 'area', 'bar'\n  chart_height: number;\n  show_points: boolean;\n  smooth_curve: boolean;\n  update_interval: number; // In seconds\n  hours_to_show: number;\n  aggregate_func: string; // 'avg', 'min', 'max', 'sum', etc.\n  power_chart_options: {\n    y_axis: ChartAxisOptions;\n    x_axis?: ChartAxisOptions;\n  };\n  energy_chart_options: {\n    y_axis: ChartAxisOptions;\n    x_axis?: ChartAxisOptions;\n  };\n  use_custom_colors: boolean;\n  show_legend: boolean;\n}\n\nexport function getDefaultChartConfig(): Partial<EnergyDashboardChartConfig> {\n  return {\n    chart_type: 'line',\n    chart_height: 300,\n    show_points: false,\n    smooth_curve: true,\n    update_interval: 0, // Set default to 0 (disabled) - our UI controls will handle refresh\n    hours_to_show: 24,\n    aggregate_func: 'avg',\n    power_chart_options: {\n      y_axis: {\n        min: 0,\n        decimals: 1,\n        title: 'Power',\n        unit: 'W'\n      }\n    },\n    energy_chart_options: {\n      y_axis: {\n        min: 0,\n        decimals: 2,\n        title: 'Energy',\n        unit: 'kWh'\n      }\n    },\n    use_custom_colors: false,\n    show_legend: true\n  };\n}","import { createStyles, cardStyles } from './styles';\nimport { loadToggleStates } from './entity-utils';\nimport { EnergyDashboardChartConfig, getDefaultChartConfig } from './energy-dashboard-chart-config';\n\nexport class EnergyDashboardChartCard extends HTMLElement {\n  // Properties\n  private _hass: any;\n  config?: EnergyDashboardChartConfig;\n  private _root: ShadowRoot;\n  private _powerChartEl: HTMLElement | null = null;\n  private _energyChartEl: HTMLElement | null = null;\n  private _updateTimer: number | null = null;\n  private _powerEntities: string[] = [];\n  private _energyEntities: string[] = [];\n  private _isLoading: boolean = true;\n  private _apexChartCardRegistered: boolean | null = null;\n  private _currentRefreshInterval: number = 30; // Default to 30 seconds\n\n  // Define card name and icon for card picker\n  static get cardType() {\n    return 'energy-dashboard-chart-card';\n  }\n\n  static get displayName() {\n    return 'Energy Dashboard Chart';\n  }\n\n  static get description() {\n    return 'Chart companion for the Energy Dashboard Entity Card';\n  }\n\n  static get icon() {\n    return 'mdi:chart-line';\n  }\n\n  constructor() {\n    super();\n    this._root = this.attachShadow({ mode: 'open' });\n    this._root.appendChild(createStyles(cardStyles));\n    \n    // Create the card element\n    const card = document.createElement('ha-card');\n    this._root.appendChild(card);\n  }\n\n  // Called when the element is added to the DOM\n  connectedCallback() {\n    this._loadSelectedEntities();\n    this._checkApexChartsRegistration();\n    \n    // First update the content without starting the timer\n    this._updateContent();\n    \n    // Cancel and reset any existing timers and configuration\n    this._stopUpdateInterval();\n    \n    // Wait until the content is fully loaded before starting timers\n    // This ensures all chart elements have properly initialized\n    setTimeout(() => {\n      // Apply our refresh setting and disable any automatic updates from ApexCharts card itself\n      this._disableApexChartsAutoUpdate();\n      \n      // Only start the update timer if explicitly set\n      if (this._currentRefreshInterval > 0) {\n        this._startUpdateInterval();\n      }\n    }, 1000); // Longer timeout to ensure everything is properly loaded\n  }\n\n  disconnectedCallback() {\n    this._stopUpdateInterval();\n  }\n\n  // Home Assistant specific method to set config\n  setConfig(config: Partial<EnergyDashboardChartConfig>) {\n    if (!config) {\n      throw new Error(\"Invalid configuration\");\n    }\n    \n    // Apply default chart config values \n    const defaultConfig = getDefaultChartConfig();\n    \n    // Create a merged config object\n    this.config = {\n      ...defaultConfig,\n      ...config,\n      // Handle nested objects properly\n      power_chart_options: {\n        ...defaultConfig.power_chart_options,\n        ...(config.power_chart_options || {}),\n        y_axis: {\n          ...defaultConfig.power_chart_options?.y_axis,\n          ...(config.power_chart_options?.y_axis || {})\n        }\n      },\n      energy_chart_options: {\n        ...defaultConfig.energy_chart_options,\n        ...(config.energy_chart_options || {}),\n        y_axis: {\n          ...defaultConfig.energy_chart_options?.y_axis,\n          ...(config.energy_chart_options?.y_axis || {})\n        }\n      },\n      // Add base EnergyDashboardConfig properties\n      title: config.title ?? 'Energy Dashboard Chart',\n      show_header: config.show_header ?? true,\n      show_state: config.show_state ?? true,\n      show_toggle: config.show_toggle ?? true,\n      auto_select_count: config.auto_select_count ?? 6,\n      max_height: config.max_height ?? 400,\n      show_energy_section: config.show_energy_section ?? true,\n      energy_auto_select_count: config.energy_auto_select_count ?? 6,\n    } as EnergyDashboardChartConfig;\n    \n    // Set the current refresh interval from config\n    if (this.config.update_interval) {\n      this._currentRefreshInterval = this.config.update_interval;\n    }\n    \n    this._loadSelectedEntities();\n    this._isLoading = true;\n    this._checkApexChartsRegistration();\n    this._updateContent();\n  }\n\n  // Home Assistant specific methods\n  static getConfigElement() {\n    return document.createElement('energy-dashboard-chart-card-editor');\n  }\n\n  static getStubConfig() {\n    return {\n      ...getDefaultChartConfig(),\n      title: 'Energy Dashboard Chart',\n      show_header: true,\n      show_energy_section: true,\n    };\n  }\n\n  getCardSize() {\n    return this.config?.chart_height ? Math.ceil(this.config.chart_height / 50) : 6;\n  }\n\n  // Called when Home Assistant updates\n  set hass(hass: any) {\n    const firstUpdate = !this._hass;\n    this._hass = hass;\n    \n    if (firstUpdate) {\n      // When we get hass for the first time, end the loading state\n      this._isLoading = false;\n      this._updateContent();\n    }\n    // Remove automatic update on every hass change - let the refresh controls handle updates\n  }\n\n  get hass() {\n    return this._hass;\n  }\n\n  private _loadSelectedEntities() {\n    // Load the toggle states from localStorage to get the entities selected in the entity card\n    const powerToggleStates = loadToggleStates('energy-dashboard-power-toggle-states');\n    const energyToggleStates = loadToggleStates('energy-dashboard-energy-toggle-states');\n\n    if (powerToggleStates) {\n      this._powerEntities = Object.keys(powerToggleStates).filter(\n        entityId => powerToggleStates[entityId]\n      );\n    }\n\n    if (energyToggleStates) {\n      this._energyEntities = Object.keys(energyToggleStates).filter(\n        entityId => energyToggleStates[entityId]\n      );\n    }\n  }\n\n  private _startUpdateInterval() {\n    if (this._updateTimer !== null) {\n      window.clearInterval(this._updateTimer);\n    }\n\n    // Set the current refresh interval from config\n    if (this.config?.update_interval) {\n      this._currentRefreshInterval = this.config.update_interval;\n    }\n\n    // Start the timer with the current refresh interval\n    if (this._currentRefreshInterval > 0) {\n      this._updateTimer = window.setInterval(\n        () => this._updateCharts(),\n        this._currentRefreshInterval * 1000\n      );\n    }\n  }\n\n  private _stopUpdateInterval() {\n    if (this._updateTimer !== null) {\n      window.clearInterval(this._updateTimer);\n      this._updateTimer = null;\n    }\n  }\n\n  private _generateApexchartsConfig(entities: string[], isEnergy: boolean) {\n    if (!this.config || !entities.length || !this._hass) return null;\n\n    // Reinstate options to get y-axis config\n    const options = isEnergy\n      ? this.config.energy_chart_options\n      : this.config.power_chart_options;\n\n    const chartType = this.config.chart_type || 'line';\n    const hoursToShow = this.config.hours_to_show || 24;\n    const showPoints = this.config.show_points || false;\n    const aggregateFunc = this.config.aggregate_func || 'avg'; // Keep aggregate func\n    const showLegend = this.config.show_legend !== false;\n    const smoothCurve = this.config.smooth_curve !== false;\n    \n    // Set update_interval to 0 to disable ApexCharts auto-refresh\n    // Our refresh controls will handle updates instead\n    const updateInterval = \"0\";\n\n    // Build series configuration for apexcharts-card\n    const series = entities.map(entityId => {\n      const entityState = this._hass.states[entityId];\n      const name = entityState?.attributes?.friendly_name || entityId;\n      return {\n        entity: entityId,\n        name: name,\n        type: chartType,\n        stroke_width: 2,\n        group_by: {\n          func: aggregateFunc,\n          duration: '1h' // Adjust duration as needed\n        }\n      };\n    });\n\n    // Create the configuration format for apexcharts-card\n    const apexChartCardConfig: any = {\n      // --- Top-level apexcharts-card specific config ---\n      type: 'custom:apexcharts-card',\n      header: {\n        show: false,\n      },\n      graph_span: `${hoursToShow}h`, // Use graph_span\n      chart_type: chartType,\n      cache: true,\n      stacked: false, // Set based on config if needed\n      update_interval: updateInterval, // Set to 0 to disable auto-refresh\n\n      // --- Top-level yaxis configuration ---\n      yaxis: [\n        {\n          min: options?.y_axis?.min,\n          max: options?.y_axis?.max,\n          decimals: options?.y_axis?.decimals ?? (isEnergy ? 2 : 1),\n        }\n      ],\n\n      // --- Standard ApexCharts options nested under apex_config ---\n      apex_config: {\n        chart: {\n          height: this.config.chart_height || 300,\n          toolbar: {\n            show: true,\n            tools: {\n              download: true, selection: true, zoom: true,\n              zoomin: true, zoomout: true, pan: true, reset: true\n            }\n          },\n          animations: {\n            enabled: false // Disable animations to prevent unnecessary rerenders\n          },\n          redrawOnWindowResize: false // Prevent redraw on window resize\n        },\n        stroke: {\n          curve: smoothCurve ? 'smooth' : 'straight'\n        },\n        markers: {\n          size: showPoints ? 4 : 0\n        },\n        legend: {\n          show: showLegend\n        },\n        // Disable any auto update/refresh features\n        annotations: {\n          position: 'front'\n        }\n      },\n\n      // --- Series Data ---\n      series: series,\n    };\n\n    // Clean up potential undefined values from top-level yaxis\n    if (apexChartCardConfig.yaxis[0].min === undefined) delete apexChartCardConfig.yaxis[0].min;\n    if (apexChartCardConfig.yaxis[0].max === undefined) delete apexChartCardConfig.yaxis[0].max;\n    if (apexChartCardConfig.yaxis[0].decimals === undefined) delete apexChartCardConfig.yaxis[0].decimals;\n\n    return apexChartCardConfig;\n  }\n\n  private _createChart(isEnergy: boolean) {\n    // If still loading, show loading indicator\n    if (this._isLoading) {\n      return this._createLoadingIndicator();\n    }\n    \n    const entities = isEnergy ? this._energyEntities : this._powerEntities;\n    \n    // Check if we have any entities selected\n    if (!entities || entities.length === 0) {\n      return this._createEmptyCard(isEnergy);\n    }\n    \n    // Check if hass is available\n    if (!this._hass) {\n      return this._createLoadingIndicator();\n    }\n    \n    // Generate chart config\n    const chartConfig = this._generateApexchartsConfig(entities, isEnergy);\n    \n    if (!chartConfig) {\n      return this._createErrorMessage(\n        `Failed to generate chart configuration for ${isEnergy ? 'energy' : 'power'} chart`,\n        ['Check that all required entities exist in Home Assistant', \n         'Refresh the page and try again']\n      );\n    }\n    \n    // Create the chart container\n    const chartElement = document.createElement('div');\n    chartElement.className = isEnergy ? 'energy-chart-container' : 'power-chart-container';\n    chartElement.style.width = '100%';\n    chartElement.style.marginBottom = '16px';\n    chartElement.style.position = 'relative';\n    chartElement.style.minHeight = `${this.config?.chart_height || 300}px`;\n    \n    try {\n      // Check if apexcharts-card is registered\n      if (this._apexChartCardRegistered === false) {\n        return this._createErrorMessage(\n          'The apexcharts-card integration is not installed',\n          [\n            'Install the apexcharts-card integration from HACS',\n            'Make sure apexcharts-card is correctly loaded in your Home Assistant instance',\n            'Refresh the page after installation to load the custom element'\n          ]\n        );\n      }\n      \n      // Create the apexcharts-card element\n      const apexCard = document.createElement('apexcharts-card') as HTMLElement;\n      \n      // Set card config for apexcharts-card\n      try {\n        (apexCard as any).setConfig(chartConfig);\n        (apexCard as any).hass = this._hass;\n        \n        // Stop any potential auto-refresh by overriding the update method if it exists\n        if (typeof (apexCard as any)._updateChart === 'function') {\n          const originalUpdateChart = (apexCard as any)._updateChart;\n          (apexCard as any)._updateChart = function(...args: any[]) {\n            // Only call the original update if explicitly requested\n            if (args[0] === 'manual-update') {\n              return originalUpdateChart.apply(this, args.slice(1));\n            }\n            // Otherwise prevent automatic updates\n            return;\n          };\n        }\n      } catch (configError) {\n        console.error('Error configuring apexcharts-card:', configError);\n        return this._createErrorMessage(\n          'Error configuring chart',\n          ['The chart configuration is invalid', \n           'Check the console for more details']\n        );\n      }\n      \n      chartElement.appendChild(apexCard);\n    } catch (err) {\n      console.error(`Error creating ${isEnergy ? 'energy' : 'power'} chart:`, err);\n      return this._createErrorMessage(\n        `Error: ${err instanceof Error ? err.message : 'Failed to create chart'}`,\n        [\n          'Check that apexcharts-card is installed correctly',\n          'Make sure all entities exist in Home Assistant',\n          'Check the console for more detailed error information'\n        ]\n      );\n    }\n    \n    return chartElement;\n  }\n\n  private _createEmptyCard(isEnergy: boolean) {\n    const container = document.createElement('div');\n    container.className = 'empty-chart-container';\n    container.style.padding = '16px';\n    container.style.textAlign = 'center';\n    container.style.color = 'var(--secondary-text-color)';\n    container.style.height = `${(this.config?.chart_height || 300) - 32}px`;\n    container.style.display = 'flex';\n    container.style.alignItems = 'center';\n    container.style.justifyContent = 'center';\n    container.style.flexDirection = 'column';\n    container.style.border = '1px dashed var(--divider-color)';\n    container.style.borderRadius = '8px';\n    container.style.margin = '8px 16px';\n    \n    const icon = document.createElement('ha-icon');\n    icon.setAttribute('icon', 'mdi:chart-line-variant');\n    icon.style.marginBottom = '8px';\n    icon.style.color = 'var(--secondary-text-color)';\n    icon.style.width = '48px';\n    icon.style.height = '48px';\n    \n    const message = document.createElement('div');\n    message.textContent = `No ${isEnergy ? 'energy' : 'power'} entities selected. Please select entities in the Energy Dashboard Entity Card.`;\n    \n    container.appendChild(icon);\n    container.appendChild(message);\n    return container;\n  }\n\n  private _createLoadingIndicator(): HTMLElement {\n    const container = document.createElement('div');\n    container.className = 'loading-container';\n    container.style.display = 'flex';\n    container.style.flexDirection = 'column';\n    container.style.alignItems = 'center';\n    container.style.justifyContent = 'center';\n    container.style.height = `${this.config?.chart_height || 200}px`;\n    container.style.width = '100%';\n    container.style.transition = 'opacity 0.3s ease-in-out';\n    \n    // Spinner\n    const spinner = document.createElement('div');\n    spinner.className = 'loading-spinner';\n    spinner.innerHTML = `\n      <style>\n        @keyframes spinner {\n          to { transform: rotate(360deg); }\n        }\n        .loading-spinner:before {\n          content: '';\n          box-sizing: border-box;\n          position: absolute;\n          width: 30px;\n          height: 30px;\n          border-radius: 50%;\n          border: 2px solid var(--secondary-text-color);\n          border-top-color: var(--primary-color);\n          animation: spinner 0.8s linear infinite;\n        }\n      </style>\n    `;\n    spinner.style.position = 'relative';\n    spinner.style.width = '30px';\n    spinner.style.height = '30px';\n    spinner.style.marginBottom = '16px';\n    \n    // Text\n    const text = document.createElement('div');\n    text.textContent = 'Initializing chart...';\n    text.style.color = 'var(--secondary-text-color)';\n    text.style.fontSize = '0.9em';\n    \n    container.appendChild(spinner);\n    container.appendChild(text);\n    \n    return container;\n  }\n\n  private _createErrorMessage(error: string, suggestions: string[]): HTMLElement {\n    const container = document.createElement('div');\n    container.className = 'error-container';\n    container.style.padding = '16px';\n    container.style.display = 'flex';\n    container.style.flexDirection = 'column';\n    container.style.alignItems = 'center';\n    container.style.justifyContent = 'center';\n    container.style.height = `${(this.config?.chart_height || 200) - 32}px`;\n    container.style.border = '1px dashed var(--error-color, red)';\n    container.style.borderRadius = '8px';\n    container.style.margin = '8px 16px';\n    \n    // Error icon\n    const icon = document.createElement('ha-icon');\n    icon.setAttribute('icon', 'mdi:alert-circle-outline');\n    icon.style.color = 'var(--error-color, red)';\n    icon.style.width = '40px';\n    icon.style.height = '40px';\n    icon.style.marginBottom = '8px';\n    \n    // Error message\n    const errorText = document.createElement('div');\n    errorText.textContent = error;\n    errorText.style.color = 'var(--error-color, red)';\n    errorText.style.fontWeight = 'bold';\n    errorText.style.marginBottom = '8px';\n    \n    // Suggestions list\n    const suggestionsList = document.createElement('ul');\n    suggestionsList.style.color = 'var(--secondary-text-color)';\n    suggestionsList.style.textAlign = 'left';\n    suggestionsList.style.margin = '8px 0';\n    suggestionsList.style.paddingLeft = '20px';\n    \n    suggestions.forEach(suggestion => {\n      const item = document.createElement('li');\n      item.textContent = suggestion;\n      item.style.marginBottom = '4px';\n      suggestionsList.appendChild(item);\n    });\n    \n    container.appendChild(icon);\n    container.appendChild(errorText);\n    container.appendChild(suggestionsList);\n    \n    return container;\n  }\n\n  private _updateCharts() {\n    // Check if we need to reload selected entities\n    this._loadSelectedEntities();\n    \n    // Power chart section\n    if (this._powerChartEl) {\n      const parent = this._powerChartEl.parentNode;\n      if (parent) {\n        const newPowerChart = this._createChart(false);\n        parent.replaceChild(newPowerChart, this._powerChartEl);\n        this._powerChartEl = newPowerChart;\n        \n        // Immediately disable any auto-refresh in the newly created ApexCharts card\n        this._disableRefreshForApexChart(this._powerChartEl.querySelector('apexcharts-card'));\n      }\n    }\n    \n    // Energy chart section\n    if (this.config?.show_energy_section && this._energyChartEl) {\n      const parent = this._energyChartEl.parentNode;\n      if (parent) {\n        const newEnergyChart = this._createChart(true);\n        parent.replaceChild(newEnergyChart, this._energyChartEl);\n        this._energyChartEl = newEnergyChart;\n        \n        // Immediately disable any auto-refresh in the newly created ApexCharts card\n        this._disableRefreshForApexChart(this._energyChartEl.querySelector('apexcharts-card'));\n      }\n    }\n  }\n\n  private _disableRefreshForApexChart(apexChart: Element | null) {\n    if (!apexChart) return;\n    try {\n      const card = apexChart as any;\n      if (card._updateTimer) {\n        window.clearInterval(card._updateTimer);\n        card._updateTimer = null;\n      }\n      if (card._config) {\n        card._config.update_interval = '0s';\n      }\n      // Only block auto-refresh, allow manual refresh\n      if (typeof card._updateChart === 'function' && !card._originalUpdateChart) {\n        card._originalUpdateChart = card._updateChart;\n        card._updateChart = function(arg?: any) {\n          if (arg === 'manual-refresh') {\n            return card._originalUpdateChart.apply(this, arguments);\n          }\n          // Block automatic refreshes\n          return;\n        };\n      }\n      if (typeof card._updateData === 'function' && !card._originalUpdateData) {\n        card._originalUpdateData = card._updateData;\n        card._updateData = function(arg?: any) {\n          if (arg === 'manual-refresh') {\n            return card._originalUpdateData.apply(this, arguments);\n          }\n          return;\n        };\n      }\n      if (card.ApexOptions && card.ApexOptions.chart) {\n        if (card.ApexOptions.chart.animations) {\n          card.ApexOptions.chart.animations.enabled = false;\n        }\n        if (card._chart) {\n          const apexInstance = card._chart;\n          if (apexInstance && apexInstance.updateOptions) {\n            apexInstance.updateOptions({\n              chart: {\n                animations: { enabled: false },\n                autoUpdateSeries: false\n              }\n            }, false, false);\n          }\n        }\n      }\n    } catch (error) {\n      // Silently ignore\n    }\n  }\n\n  private _renderSectionTitle(title: string): HTMLElement {\n    const sectionTitle = document.createElement('div');\n    sectionTitle.className = 'section-title';\n    sectionTitle.textContent = title;\n    sectionTitle.style.padding = '8px 16px';\n    sectionTitle.style.fontSize = 'var(--section-title-font-size, 1rem)';\n    sectionTitle.style.fontWeight = '500';\n    return sectionTitle;\n  }\n\n  private _updateContent() {\n    if (!this.config) {\n      const card = this._root.querySelector('ha-card');\n      if (card) {\n        card.innerHTML = '<div class=\"empty-message\">Card not configured</div>';\n      }\n      return;\n    }\n\n    // Get the ha-card element\n    const card = this._root.querySelector('ha-card');\n    if (!card) return;\n\n    // Clear previous content\n    card.innerHTML = '';\n\n    // Header\n    if (this.config.show_header) {\n      const header = document.createElement('div');\n      header.className = 'card-header';\n      header.textContent = this.config.title;\n      card.appendChild(header);\n    }\n\n    // Loading state - show loading indicator for the whole card when initializing\n    if (this._isLoading) {\n      const loadingIndicator = this._createLoadingIndicator();\n      card.appendChild(loadingIndicator);\n      return;\n    }\n\n    // Check if apexcharts-card is available (after loading state has ended)\n    if (this._apexChartCardRegistered === false) {\n      const errorMessage = this._createErrorMessage(\n        'The apexcharts-card integration is not installed',\n        [\n          'Install the apexcharts-card integration from HACS',\n          'Make sure apexcharts-card is correctly loaded in your Home Assistant instance',\n          'Refresh the page after installation to load the custom element'\n        ]\n      );\n      card.appendChild(errorMessage);\n      return;\n    }\n    \n    // Add refresh controls before the charts\n    const refreshControls = this._createRefreshControls();\n    card.appendChild(refreshControls);\n\n    // Container for both charts\n    const chartContainer = document.createElement('div');\n    chartContainer.className = 'chart-container';\n    chartContainer.style.width = '100%';\n    chartContainer.style.display = 'flex';\n    chartContainer.style.flexDirection = 'column';\n    \n    // Power chart section\n    chartContainer.appendChild(this._renderSectionTitle('Power Consumption'));\n    this._powerChartEl = this._createChart(false);\n    chartContainer.appendChild(this._powerChartEl);\n    \n    // Energy chart section (if enabled)\n    if (this.config.show_energy_section) {\n      const separator = document.createElement('div');\n      separator.className = 'section-separator';\n      separator.style.margin = '16px 8px';\n      chartContainer.appendChild(separator);\n      \n      chartContainer.appendChild(this._renderSectionTitle('Energy Consumption'));\n      this._energyChartEl = this._createChart(true);\n      chartContainer.appendChild(this._energyChartEl);\n    }\n    \n    card.appendChild(chartContainer);\n  }\n\n  // Check if apexcharts-card is registered in the DOM\n  private _checkApexChartsRegistration() {\n    this._isLoading = true;\n    this._updateContent();\n    \n    // Use setTimeout to give the browser a chance to register custom elements\n    setTimeout(() => {\n      // Try to check if the element is defined\n      this._apexChartCardRegistered = !!customElements.get('apexcharts-card');\n      this._isLoading = false;\n      this._updateContent();\n    }, 500);\n  }\n\n  private _setRefreshInterval(seconds: number) {\n    if (this.config) {\n      this.config.update_interval = seconds; \n    }\n    this._currentRefreshInterval = seconds;\n    this._updateRefreshControlsUI();\n\n    // Stop our own timer and set up a new one if needed\n    this._stopUpdateInterval();\n    if (seconds > 0) {\n      this._updateTimer = window.setInterval(() => {\n        this._triggerApexChartManualRefresh(); \n      }, seconds * 1000);\n    }\n  }\n\n  private _manualRefresh() {\n    // Reload the apexcharts-card instance(s) by re-creating the chart elements\n    this._updateCharts();\n  }\n  \n  private _createRefreshControls(): HTMLElement {\n    const controlsContainer = document.createElement('div');\n    controlsContainer.className = 'refresh-controls';\n    controlsContainer.style.display = 'flex';\n    controlsContainer.style.justifyContent = 'space-between';\n    controlsContainer.style.alignItems = 'center';\n    controlsContainer.style.padding = '0 16px 8px';\n    controlsContainer.style.gap = '8px';\n    \n    // Add a title for the refresh controls\n    const refreshTitle = document.createElement('div');\n    refreshTitle.className = 'refresh-title';\n    refreshTitle.textContent = 'Refresh Rate:';\n    refreshTitle.style.fontWeight = '500';\n    refreshTitle.style.fontSize = '0.9em';\n    refreshTitle.style.marginRight = '8px';\n    \n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.className = 'buttons-container';\n    buttonsContainer.style.display = 'flex';\n    buttonsContainer.style.justifyContent = 'flex-end';\n    buttonsContainer.style.alignItems = 'center';\n    buttonsContainer.style.gap = '8px';\n    \n    // Manual refresh button\n    const refreshButton = document.createElement('button');\n    refreshButton.className = 'refresh-button control-button';\n    refreshButton.innerHTML = '<ha-icon icon=\"mdi:refresh\"></ha-icon>';\n    refreshButton.title = 'Refresh now';\n    refreshButton.addEventListener('click', () => this._manualRefresh());\n    refreshButton.style.minWidth = '36px';\n    refreshButton.style.width = '36px';\n\n    // Off button (disable automatic refresh)\n    const offButton = document.createElement('button');\n    offButton.className = 'interval-button control-button';\n    offButton.innerText = 'Off';\n    offButton.title = 'Disable automatic refresh';\n    offButton.dataset.seconds = '0';\n    offButton.addEventListener('click', () => this._setRefreshInterval(0));\n    \n    // 15 seconds button\n    const sec15Button = document.createElement('button');\n    sec15Button.className = 'interval-button control-button';\n    sec15Button.innerText = '15s';\n    sec15Button.title = 'Refresh every 15 seconds';\n    sec15Button.dataset.seconds = '15';\n    sec15Button.addEventListener('click', () => this._setRefreshInterval(15));\n    \n    // 30 seconds button\n    const sec30Button = document.createElement('button');\n    sec30Button.className = 'interval-button control-button';\n    sec30Button.innerText = '30s';\n    sec30Button.title = 'Refresh every 30 seconds';\n    sec30Button.dataset.seconds = '30';\n    sec30Button.addEventListener('click', () => this._setRefreshInterval(30));\n    \n    // 60 seconds button\n    const sec60Button = document.createElement('button');\n    sec60Button.className = 'interval-button control-button';\n    sec60Button.innerText = '60s';\n    sec60Button.title = 'Refresh every 60 seconds';\n    sec60Button.dataset.seconds = '60';\n    sec60Button.addEventListener('click', () => this._setRefreshInterval(60));\n    \n    buttonsContainer.appendChild(refreshButton);\n    buttonsContainer.appendChild(offButton);\n    buttonsContainer.appendChild(sec15Button);\n    buttonsContainer.appendChild(sec30Button);\n    buttonsContainer.appendChild(sec60Button);\n    \n    controlsContainer.appendChild(refreshTitle);\n    controlsContainer.appendChild(buttonsContainer);\n    \n    // Set initial active state\n    this._updateRefreshControlsUI(buttonsContainer);\n    \n    return controlsContainer;\n  }\n  \n  private _updateRefreshControlsUI(container?: HTMLElement) {\n    const controls = container || this._root.querySelector('.buttons-container');\n    if (!controls) return;\n    \n    // Clear active state from all buttons\n    const buttons = controls.querySelectorAll('.interval-button');\n    buttons.forEach(btn => {\n      const button = btn as HTMLElement;\n      button.classList.remove('active');\n      button.style.backgroundColor = 'var(--secondary-background-color)';\n      button.style.color = 'var(--primary-text-color)';\n    });\n    \n    // Set active state for the current interval button\n    const activeButton = controls.querySelector(`.interval-button[data-seconds=\"${this._currentRefreshInterval}\"]`) as HTMLElement;\n    if (activeButton) {\n      activeButton.classList.add('active');\n      activeButton.style.backgroundColor = 'var(--primary-color)';\n      activeButton.style.color = 'var(--text-primary-color)';\n    }\n  }\n\n  // Helper method to disable auto-updates in all ApexCharts instances\n  private _disableApexChartsAutoUpdate() {\n    // Find and process all apexcharts-card elements in our shadow root\n    const charts = this._findAllApexChartsCards();\n    \n    if (charts.length > 0) {\n      // Disable timers and auto-refresh for all found charts\n      this._stopAllApexChartTimers();\n      \n      // Log how many charts we disabled\n      console.log(`Disabled auto-refresh for ${charts.length} ApexCharts cards`);\n    }\n  }\n\n  private _findAllApexChartsCards(): Array<any> {\n    // Get all apexcharts-card elements within our shadowRoot\n    const charts: Array<any> = [];\n    \n    // Look for the power chart\n    if (this._powerChartEl) {\n      const powerChart = this._powerChartEl.querySelector('apexcharts-card');\n      if (powerChart) charts.push(powerChart);\n    }\n    \n    // Look for the energy chart if it exists\n    if (this._energyChartEl) {\n      const energyChart = this._energyChartEl.querySelector('apexcharts-card');\n      if (energyChart) charts.push(energyChart);\n    }\n    \n    return charts;\n  }\n  \n  private _stopAllApexChartTimers() {\n    const charts = this._findAllApexChartsCards();\n    \n    charts.forEach(chart => {\n      // If the chart has an update timer, clear it\n      if (chart._updateTimer) {\n        window.clearInterval(chart._updateTimer);\n        chart._updateTimer = null;\n      }\n      \n      // If the chart has a config, make sure update_interval is set to 0\n      if (chart._config) {\n        chart._config.update_interval = 0;\n      }\n      \n      // If the chart has internal data refreshing methods, intercept them\n      this._interceptApexChartRefresh(chart);\n    });\n  }\n  \n  private _interceptApexChartRefresh(chart: any) {\n    // Try to intercept the update method if it exists\n    if (chart._updateChart && !chart._originalUpdateChart) {\n      chart._originalUpdateChart = chart._updateChart;\n      chart._updateChart = function() {\n        // Prevent automatic updates\n        console.log('ApexCharts auto refresh prevented');\n        return Promise.resolve();\n      };\n    }\n    \n    // Try to intercept the data update method if it exists\n    if (chart._updateData && !chart._originalUpdateData) {\n      chart._originalUpdateData = chart._updateData;\n      chart._updateData = function() {\n        // Prevent automatic updates\n        console.log('ApexCharts data update prevented');\n        return Promise.resolve();\n      };\n    }\n    \n    // Disable any other auto-update mechanism the chart might have\n    if (chart._chart && chart._chart.updateOptions) {\n      try {\n        chart._chart.updateOptions({\n          chart: {\n            animations: {\n              enabled: false\n            },\n            autoUpdateSeries: false\n          }\n        }, false, false);\n      } catch (e) {\n        console.warn('Failed to update ApexCharts options:', e);\n      }\n    }\n  }\n  \n  private _triggerApexChartManualRefresh() {\n    if (!this._hass) {\n      console.warn('Cannot refresh charts: hass object not available.');\n      return;\n    }\n    const charts = this._findAllApexChartsCards();\n    charts.forEach(chart => {\n      try {\n        // Re-assign the hass object to potentially trigger an update in apexcharts-card\n        chart.hass = this._hass;\n        // console.log('Attempted refresh by re-assigning hass object to chart:', chart);\n      } catch (e) {\n        // Log error but don't crash if hass assignment fails for some reason\n        console.error('Error during hass re-assignment refresh:', e);\n      }\n    });\n  }\n}\n\n// Register the card with the custom elements registry\ncustomElements.define('energy-dashboard-chart-card', EnergyDashboardChartCard);","import { EnergyDashboardChartConfig, getDefaultChartConfig } from './energy-dashboard-chart-config';\nimport { createStyles, editorStyles } from './styles';\n\n// Extend HTMLInputElement to include the configValue property\ninterface CustomHTMLInputElement extends HTMLInputElement {\n  configValue?: string;\n}\n\n// Define a type for HA elements used in the editor\ninterface HaFormElement extends HTMLElement {\n  label?: string;\n  value?: string | number | boolean;\n  type?: string;\n  min?: string;\n  max?: string;\n  configValue?: string;\n  checked?: boolean;\n  helperText?: string;\n  helperPersistent?: boolean;\n  options?: Array<{value: string, label: string}>;\n  addEventListener(event: string, handler: (event: Event) => void): void;\n}\n\nexport class EnergyDashboardChartCardEditor extends HTMLElement {\n  // Properties\n  hass: any;\n  config?: EnergyDashboardChartConfig;\n  private _root: ShadowRoot;\n\n  constructor() {\n    super();\n    this._root = this.attachShadow({ mode: 'open' });\n    this._root.appendChild(createStyles(editorStyles));\n    \n    // Create the form container\n    const form = document.createElement('div');\n    form.className = 'form';\n    this._root.appendChild(form);\n  }\n\n  // Called when the element is added to the DOM\n  connectedCallback() {\n    this._updateForm();\n  }\n\n  setConfig(config: Partial<EnergyDashboardChartConfig>) {\n    // Apply default chart config values \n    const defaultConfig = getDefaultChartConfig();\n    \n    // Create a merged config object\n    this.config = {\n      ...defaultConfig,\n      ...config,\n      // Handle nested objects properly\n      power_chart_options: {\n        ...defaultConfig.power_chart_options,\n        ...(config.power_chart_options || {}),\n        y_axis: {\n          ...defaultConfig.power_chart_options?.y_axis,\n          ...(config.power_chart_options?.y_axis || {})\n        }\n      },\n      energy_chart_options: {\n        ...defaultConfig.energy_chart_options,\n        ...(config.energy_chart_options || {}),\n        y_axis: {\n          ...defaultConfig.energy_chart_options?.y_axis,\n          ...(config.energy_chart_options?.y_axis || {})\n        }\n      },\n      // Add base EnergyDashboardConfig properties\n      title: config.title ?? 'Energy Dashboard Chart',\n      show_header: config.show_header ?? true,\n      show_state: config.show_state ?? true,\n      show_toggle: config.show_toggle ?? true,\n      auto_select_count: config.auto_select_count ?? 6,\n      max_height: config.max_height ?? 400,\n      show_energy_section: config.show_energy_section ?? true,\n      energy_auto_select_count: config.energy_auto_select_count ?? 6,\n      show_legend: config.show_legend ?? true,\n    } as EnergyDashboardChartConfig;\n    \n    this._updateForm();\n  }\n\n  valueChanged = (ev: Event) => {\n    if (!this.config) return;\n    \n    const target = ev.target as CustomHTMLInputElement;\n    const configValue = target.configValue;\n    if (!configValue) return;\n\n    let newValue;\n    if (typeof target.checked === 'boolean') {\n      newValue = target.checked;\n    } else if (target.value !== undefined) {\n      if (target.type === 'number') {\n        newValue = Number(target.value);\n      } else {\n        newValue = target.value;\n      }\n    }\n\n    // Handle nested properties like power_chart_options.y_axis.title\n    if (configValue.includes('.')) {\n      const parts = configValue.split('.');\n      const newConfig = { ...this.config };\n      let currentObj: any = newConfig;\n      \n      for (let i = 0; i < parts.length - 1; i++) {\n        const part = parts[i];\n        if (!currentObj[part]) currentObj[part] = {};\n        currentObj[part] = { ...currentObj[part] };\n        currentObj = currentObj[part];\n      }\n      \n      currentObj[parts[parts.length - 1]] = newValue;\n      this.dispatchEvent(new CustomEvent('config-changed', {\n        detail: { config: newConfig },\n        bubbles: true,\n        composed: true\n      }));\n      return;\n    }\n\n    if (this.config[configValue] === newValue) return;\n\n    const newConfig = {\n      ...this.config,\n      [configValue]: newValue\n    };\n\n    this.dispatchEvent(new CustomEvent('config-changed', {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  private _updateForm() {\n    if (!this.config) return;\n\n    // Get or create the form element\n    let form = this._root.querySelector('.form');\n    if (!form) {\n      form = document.createElement('div');\n      form.className = 'form';\n      this._root.appendChild(form);\n    }\n    form.innerHTML = '';\n\n    // SECTION: General Settings\n    this._addSectionTitle(form as HTMLElement, 'General Settings');\n\n    // Title field\n    const titleRow = this._createRow();\n    const titleField = document.createElement('ha-textfield') as HaFormElement;\n    titleField.className = 'value';\n    titleField.label = 'Title';\n    titleField.value = this.config.title || 'Energy Dashboard Chart';\n    titleField.configValue = 'title';\n    titleField.addEventListener('change', this.valueChanged);\n    titleRow.appendChild(titleField);\n    form.appendChild(titleRow);\n\n    // Show Header toggle\n    const headerRow = this._createRow();\n    const headerSwitch = document.createElement('ha-switch') as HaFormElement;\n    headerSwitch.checked = this.config.show_header !== false;\n    headerSwitch.configValue = 'show_header';\n    headerSwitch.addEventListener('change', this.valueChanged);\n    const headerLabel = document.createElement('div');\n    headerLabel.textContent = 'Show Header';\n    headerRow.appendChild(headerSwitch);\n    headerRow.appendChild(headerLabel);\n    form.appendChild(headerRow);\n\n    // Show Energy Section toggle\n    const energySectionRow = this._createRow();\n    const energySectionSwitch = document.createElement('ha-switch') as HaFormElement;\n    energySectionSwitch.checked = this.config.show_energy_section !== false;\n    energySectionSwitch.configValue = 'show_energy_section';\n    energySectionSwitch.addEventListener('change', this.valueChanged);\n    const energySectionLabel = document.createElement('div');\n    energySectionLabel.textContent = 'Show Energy Section';\n    energySectionRow.appendChild(energySectionSwitch);\n    energySectionRow.appendChild(energySectionLabel);\n    form.appendChild(energySectionRow);\n\n    // SECTION: Chart Settings\n    this._addSectionTitle(form as HTMLElement, 'Chart Settings');\n\n    // Chart Type dropdown\n    const chartTypeRow = this._createRow();\n    const chartTypeField = document.createElement('ha-select') as HaFormElement;\n    chartTypeField.className = 'value';\n    chartTypeField.label = 'Chart Type';\n    chartTypeField.configValue = 'chart_type';\n    \n    // Set options for the chart type dropdown\n    chartTypeField.options = [\n      { value: 'line', label: 'Line' },\n      { value: 'area', label: 'Area' },\n      { value: 'bar', label: 'Bar' }\n    ];\n    \n    chartTypeField.value = this.config.chart_type || 'line';\n    chartTypeField.addEventListener('change', this.valueChanged);\n    chartTypeRow.appendChild(chartTypeField);\n    form.appendChild(chartTypeRow);\n\n    // Chart Height field\n    const chartHeightRow = this._createRow();\n    const chartHeightField = document.createElement('ha-textfield') as HaFormElement;\n    chartHeightField.className = 'value';\n    chartHeightField.label = 'Chart Height (pixels)';\n    chartHeightField.type = 'number';\n    chartHeightField.min = '100';\n    chartHeightField.max = '1000';\n    chartHeightField.value = String(this.config.chart_height || 300);\n    chartHeightField.configValue = 'chart_height';\n    chartHeightField.addEventListener('change', this.valueChanged);\n    chartHeightRow.appendChild(chartHeightField);\n    form.appendChild(chartHeightRow);\n\n    // Hours to Show field\n    const hoursToShowRow = this._createRow();\n    const hoursToShowField = document.createElement('ha-textfield') as HaFormElement;\n    hoursToShowField.className = 'value';\n    hoursToShowField.label = 'Hours to Show';\n    hoursToShowField.type = 'number';\n    hoursToShowField.min = '1';\n    hoursToShowField.max = '168'; // 7 days\n    hoursToShowField.value = String(this.config.hours_to_show || 24);\n    hoursToShowField.configValue = 'hours_to_show';\n    hoursToShowField.addEventListener('change', this.valueChanged);\n    hoursToShowRow.appendChild(hoursToShowField);\n    form.appendChild(hoursToShowRow);\n\n    // Update Interval field\n    const updateIntervalRow = this._createRow();\n    const updateIntervalField = document.createElement('ha-textfield') as HaFormElement;\n    updateIntervalField.className = 'value';\n    updateIntervalField.label = 'Update Interval (seconds)';\n    updateIntervalField.type = 'number';\n    updateIntervalField.min = '10';\n    updateIntervalField.max = '3600';\n    updateIntervalField.value = String(this.config.update_interval || 60);\n    updateIntervalField.configValue = 'update_interval';\n    updateIntervalField.addEventListener('change', this.valueChanged);\n    updateIntervalRow.appendChild(updateIntervalField);\n    form.appendChild(updateIntervalRow);\n\n    // Show Points toggle\n    const showPointsRow = this._createRow();\n    const showPointsSwitch = document.createElement('ha-switch') as HaFormElement;\n    showPointsSwitch.checked = this.config.show_points === true;\n    showPointsSwitch.configValue = 'show_points';\n    showPointsSwitch.addEventListener('change', this.valueChanged);\n    const showPointsLabel = document.createElement('div');\n    showPointsLabel.textContent = 'Show Data Points';\n    showPointsRow.appendChild(showPointsSwitch);\n    showPointsRow.appendChild(showPointsLabel);\n    form.appendChild(showPointsRow);\n\n    // Smooth Curve toggle\n    const smoothCurveRow = this._createRow();\n    const smoothCurveSwitch = document.createElement('ha-switch') as HaFormElement;\n    smoothCurveSwitch.checked = this.config.smooth_curve !== false;\n    smoothCurveSwitch.configValue = 'smooth_curve';\n    smoothCurveSwitch.addEventListener('change', this.valueChanged);\n    const smoothCurveLabel = document.createElement('div');\n    smoothCurveLabel.textContent = 'Smooth Curve';\n    smoothCurveRow.appendChild(smoothCurveSwitch);\n    smoothCurveRow.appendChild(smoothCurveLabel);\n    form.appendChild(smoothCurveRow);\n\n    // Show Legend toggle\n    const showLegendRow = this._createRow();\n    const showLegendSwitch = document.createElement('ha-switch') as HaFormElement;\n    showLegendSwitch.checked = this.config.show_legend !== false;\n    showLegendSwitch.configValue = 'show_legend';\n    showLegendSwitch.addEventListener('change', this.valueChanged);\n    const showLegendLabel = document.createElement('div');\n    showLegendLabel.textContent = 'Show Legend';\n    showLegendRow.appendChild(showLegendSwitch);\n    showLegendRow.appendChild(showLegendLabel);\n    form.appendChild(showLegendRow);\n\n    // Use Custom Colors toggle\n    const customColorsRow = this._createRow();\n    const customColorsSwitch = document.createElement('ha-switch') as HaFormElement;\n    customColorsSwitch.checked = this.config.use_custom_colors === true;\n    customColorsSwitch.configValue = 'use_custom_colors';\n    customColorsSwitch.addEventListener('change', this.valueChanged);\n    const customColorsLabel = document.createElement('div');\n    customColorsLabel.textContent = 'Use Custom Colors';\n    customColorsRow.appendChild(customColorsSwitch);\n    customColorsRow.appendChild(customColorsLabel);\n    form.appendChild(customColorsRow);\n\n    // Aggregate Function dropdown\n    const aggregateRow = this._createRow();\n    const aggregateField = document.createElement('ha-select') as HaFormElement;\n    aggregateField.className = 'value';\n    aggregateField.label = 'Aggregate Function';\n    aggregateField.configValue = 'aggregate_func';\n    \n    // Set options for the aggregate function dropdown\n    aggregateField.options = [\n      { value: 'avg', label: 'Average' },\n      { value: 'min', label: 'Minimum' },\n      { value: 'max', label: 'Maximum' },\n      { value: 'sum', label: 'Sum' },\n      { value: 'first', label: 'First' },\n      { value: 'last', label: 'Last' }\n    ];\n    \n    aggregateField.value = this.config.aggregate_func || 'avg';\n    aggregateField.addEventListener('change', this.valueChanged);\n    aggregateRow.appendChild(aggregateField);\n    form.appendChild(aggregateRow);\n\n    // SECTION: Power Chart Settings\n    this._addSectionTitle(form as HTMLElement, 'Power Chart Y-Axis Settings');\n\n    // Power Y-Axis Title\n    const powerYTitleRow = this._createRow();\n    const powerYTitleField = document.createElement('ha-textfield') as HaFormElement;\n    powerYTitleField.className = 'value';\n    powerYTitleField.label = 'Y-Axis Title';\n    powerYTitleField.value = this.config.power_chart_options?.y_axis?.title || 'Power';\n    powerYTitleField.configValue = 'power_chart_options.y_axis.title';\n    powerYTitleField.addEventListener('change', this.valueChanged);\n    powerYTitleRow.appendChild(powerYTitleField);\n    form.appendChild(powerYTitleRow);\n\n    // Power Y-Axis Unit\n    const powerYUnitRow = this._createRow();\n    const powerYUnitField = document.createElement('ha-textfield') as HaFormElement;\n    powerYUnitField.className = 'value';\n    powerYUnitField.label = 'Y-Axis Unit';\n    powerYUnitField.value = this.config.power_chart_options?.y_axis?.unit || 'W';\n    powerYUnitField.configValue = 'power_chart_options.y_axis.unit';\n    powerYUnitField.addEventListener('change', this.valueChanged);\n    powerYUnitRow.appendChild(powerYUnitField);\n    form.appendChild(powerYUnitRow);\n\n    // Power Y-Axis Decimals\n    const powerYDecimalsRow = this._createRow();\n    const powerYDecimalsField = document.createElement('ha-textfield') as HaFormElement;\n    powerYDecimalsField.className = 'value';\n    powerYDecimalsField.label = 'Y-Axis Decimals';\n    powerYDecimalsField.type = 'number';\n    powerYDecimalsField.min = '0';\n    powerYDecimalsField.max = '5';\n    powerYDecimalsField.value = String(this.config.power_chart_options?.y_axis?.decimals ?? 1);\n    powerYDecimalsField.configValue = 'power_chart_options.y_axis.decimals';\n    powerYDecimalsField.addEventListener('change', this.valueChanged);\n    powerYDecimalsRow.appendChild(powerYDecimalsField);\n    form.appendChild(powerYDecimalsRow);\n\n    // Power Y-Axis Min\n    const powerYMinRow = this._createRow();\n    const powerYMinField = document.createElement('ha-textfield') as HaFormElement;\n    powerYMinField.className = 'value';\n    powerYMinField.label = 'Y-Axis Minimum (empty for auto)';\n    powerYMinField.type = 'number';\n    powerYMinField.value = this.config.power_chart_options?.y_axis?.min !== undefined ? \n      String(this.config.power_chart_options.y_axis.min) : '';\n    powerYMinField.configValue = 'power_chart_options.y_axis.min';\n    powerYMinField.addEventListener('change', this.valueChanged);\n    powerYMinRow.appendChild(powerYMinField);\n    form.appendChild(powerYMinRow);\n\n    // Power Y-Axis Max\n    const powerYMaxRow = this._createRow();\n    const powerYMaxField = document.createElement('ha-textfield') as HaFormElement;\n    powerYMaxField.className = 'value';\n    powerYMaxField.label = 'Y-Axis Maximum (empty for auto)';\n    powerYMaxField.type = 'number';\n    powerYMaxField.value = this.config.power_chart_options?.y_axis?.max !== undefined ? \n      String(this.config.power_chart_options.y_axis.max) : '';\n    powerYMaxField.configValue = 'power_chart_options.y_axis.max';\n    powerYMaxField.addEventListener('change', this.valueChanged);\n    powerYMaxRow.appendChild(powerYMaxField);\n    form.appendChild(powerYMaxRow);\n\n    // Only show Energy Chart settings if energy section is enabled\n    if (this.config.show_energy_section) {\n      // SECTION: Energy Chart Settings\n      this._addSectionTitle(form as HTMLElement, 'Energy Chart Y-Axis Settings');\n\n      // Energy Y-Axis Title\n      const energyYTitleRow = this._createRow();\n      const energyYTitleField = document.createElement('ha-textfield') as HaFormElement;\n      energyYTitleField.className = 'value';\n      energyYTitleField.label = 'Y-Axis Title';\n      energyYTitleField.value = this.config.energy_chart_options?.y_axis?.title || 'Energy';\n      energyYTitleField.configValue = 'energy_chart_options.y_axis.title';\n      energyYTitleField.addEventListener('change', this.valueChanged);\n      energyYTitleRow.appendChild(energyYTitleField);\n      form.appendChild(energyYTitleRow);\n\n      // Energy Y-Axis Unit\n      const energyYUnitRow = this._createRow();\n      const energyYUnitField = document.createElement('ha-textfield') as HaFormElement;\n      energyYUnitField.className = 'value';\n      energyYUnitField.label = 'Y-Axis Unit';\n      energyYUnitField.value = this.config.energy_chart_options?.y_axis?.unit || 'kWh';\n      energyYUnitField.configValue = 'energy_chart_options.y_axis.unit';\n      energyYUnitField.addEventListener('change', this.valueChanged);\n      energyYUnitRow.appendChild(energyYUnitField);\n      form.appendChild(energyYUnitRow);\n\n      // Energy Y-Axis Decimals\n      const energyYDecimalsRow = this._createRow();\n      const energyYDecimalsField = document.createElement('ha-textfield') as HaFormElement;\n      energyYDecimalsField.className = 'value';\n      energyYDecimalsField.label = 'Y-Axis Decimals';\n      energyYDecimalsField.type = 'number';\n      energyYDecimalsField.min = '0';\n      energyYDecimalsField.max = '5';\n      energyYDecimalsField.value = String(this.config.energy_chart_options?.y_axis?.decimals ?? 2);\n      energyYDecimalsField.configValue = 'energy_chart_options.y_axis.decimals';\n      energyYDecimalsField.addEventListener('change', this.valueChanged);\n      energyYDecimalsRow.appendChild(energyYDecimalsField);\n      form.appendChild(energyYDecimalsRow);\n\n      // Energy Y-Axis Min\n      const energyYMinRow = this._createRow();\n      const energyYMinField = document.createElement('ha-textfield') as HaFormElement;\n      energyYMinField.className = 'value';\n      energyYMinField.label = 'Y-Axis Minimum (empty for auto)';\n      energyYMinField.type = 'number';\n      energyYMinField.value = this.config.energy_chart_options?.y_axis?.min !== undefined ? \n        String(this.config.energy_chart_options.y_axis.min) : '';\n      energyYMinField.configValue = 'energy_chart_options.y_axis.min';\n      energyYMinField.addEventListener('change', this.valueChanged);\n      energyYMinRow.appendChild(energyYMinField);\n      form.appendChild(energyYMinRow);\n\n      // Energy Y-Axis Max\n      const energyYMaxRow = this._createRow();\n      const energyYMaxField = document.createElement('ha-textfield') as HaFormElement;\n      energyYMaxField.className = 'value';\n      energyYMaxField.label = 'Y-Axis Maximum (empty for auto)';\n      energyYMaxField.type = 'number';\n      energyYMaxField.value = this.config.energy_chart_options?.y_axis?.max !== undefined ? \n        String(this.config.energy_chart_options.y_axis.max) : '';\n      energyYMaxField.configValue = 'energy_chart_options.y_axis.max';\n      energyYMaxField.addEventListener('change', this.valueChanged);\n      energyYMaxRow.appendChild(energyYMaxField);\n      form.appendChild(energyYMaxRow);\n    }\n  }\n\n  private _createRow(): HTMLDivElement {\n    const row = document.createElement('div');\n    row.className = 'row';\n    return row;\n  }\n\n  private _addSectionTitle(parent: HTMLElement, title: string) {\n    const titleEl = document.createElement('div');\n    titleEl.className = 'title';\n    titleEl.textContent = title;\n    parent.appendChild(titleEl);\n  }\n}\n\n// Register the editor with the custom elements registry\ncustomElements.define('energy-dashboard-chart-card-editor', EnergyDashboardChartCardEditor);","import { EnergyDashboardEntityCard } from './energy-dashboard-entity-card';\nimport { EnergyDashboardChartCard } from './energy-dashboard-chart-card';\n\n// This file is specifically for registering the card with Home Assistant's card picker UI\n\n// Define the customCards property for window\ndeclare global {\n  interface Window {\n    customCards: Array<{\n      type: string;\n      name: string;\n      description: string;\n      preview: boolean;\n      documentationURL?: string;\n    }>;\n  }\n}\n\n// Provide card information to the Home Assistant card catalog\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\n  type: 'energy-dashboard-entity-card',\n  name: EnergyDashboardEntityCard.displayName,\n  description: EnergyDashboardEntityCard.description,\n  preview: false,\n  documentationURL: 'https://github.com/bballdavis/Hass-Energy-Dashboard'\n});\n\n// Add the chart card to the Home Assistant card catalog\nwindow.customCards.push({\n  type: 'energy-dashboard-chart-card',\n  name: EnergyDashboardChartCard.displayName,\n  description: EnergyDashboardChartCard.description,\n  preview: false,\n  documentationURL: 'https://github.com/bballdavis/Hass-Energy-Dashboard'\n});"],"names":[],"mappings":"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"}