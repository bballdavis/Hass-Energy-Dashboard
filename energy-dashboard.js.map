{"version":3,"file":"energy-dashboard.js","sources":["src/entity-utils.ts","src/styles.ts","src/energy-dashboard-entity-card.ts","src/energy-dashboard-entity-card-editor.ts","src/energy-dashboard-chart-config.ts","src/energy-dashboard-chart-card.ts","src/energy-dashboard-chart-card-editor.ts","src/card-registration.ts"],"sourcesContent":["import { EntityInfo } from './types';\r\n\r\nexport function getPowerEntities(hass: any): EntityInfo[] {\r\n  return Object.keys(hass.states)\r\n    .filter(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      return stateObj && stateObj.attributes &&\r\n        (stateObj.attributes.unit_of_measurement === 'W' ||\r\n         stateObj.attributes.unit_of_measurement === 'kW');\r\n    })\r\n    .map(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      const domain = entityId.split('.')[0];\r\n      const isToggleable = ['switch', 'light', 'input_boolean', 'fan', 'automation'].includes(domain);\r\n\r\n      let powerValue = 0;\r\n      try {\r\n        if (stateObj.attributes.unit_of_measurement === 'kW') {\r\n          powerValue = parseFloat(stateObj.state) * 1000;\r\n        } else {\r\n          powerValue = parseFloat(stateObj.state) || 0;\r\n        }\r\n      } catch {\r\n        powerValue = 0;\r\n      }\r\n\r\n      return {\r\n        entityId,\r\n        name: stateObj.attributes.friendly_name || entityId,\r\n        state: stateObj.state,\r\n        unit: stateObj.attributes.unit_of_measurement,\r\n        powerValue,\r\n        isToggleable\r\n      };\r\n    })\r\n    .sort((a, b) => b.powerValue! - a.powerValue!);\r\n}\r\n\r\nexport function getEnergyEntities(hass: any): EntityInfo[] {\r\n  return Object.keys(hass.states)\r\n    .filter(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      return stateObj && stateObj.attributes &&\r\n        (stateObj.attributes.unit_of_measurement === 'Wh' ||\r\n         stateObj.attributes.unit_of_measurement === 'kWh');\r\n    })\r\n    .map(entityId => {\r\n      const stateObj = hass.states[entityId];\r\n      const domain = entityId.split('.')[0];\r\n      const isToggleable = ['switch', 'light', 'input_boolean', 'fan', 'automation'].includes(domain);\r\n\r\n      let energyValue = 0;\r\n      try {\r\n        if (stateObj.attributes.unit_of_measurement === 'Wh') {\r\n          energyValue = parseFloat(stateObj.state) / 1000;\r\n        } else {\r\n          energyValue = parseFloat(stateObj.state) || 0;\r\n        }\r\n      } catch {\r\n        energyValue = 0;\r\n      }\r\n\r\n      return {\r\n        entityId,\r\n        name: stateObj.attributes.friendly_name || entityId,\r\n        state: stateObj.state,\r\n        unit: stateObj.attributes.unit_of_measurement,\r\n        energyValue,\r\n        isToggleable\r\n      };\r\n    })\r\n    .sort((a, b) => b.energyValue! - a.energyValue!);\r\n}\r\n\r\nexport function loadToggleStates(key: string): Record<string, boolean> | null {\r\n  try {\r\n    const stored = localStorage.getItem(key);\r\n    return stored ? JSON.parse(stored) : null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function saveToggleStates(states: Record<string, boolean>, key: string): void {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(states));\r\n  } catch {\r\n    try {\r\n      const reducedStates: Record<string, boolean> = {};\r\n      Object.keys(states).forEach(k => {\r\n        if (states[k]) reducedStates[k] = true;\r\n      });\r\n      localStorage.setItem(key, JSON.stringify(reducedStates));\r\n    } catch {}\r\n  }\r\n}","export function createStyles(cssText: string): HTMLStyleElement {\r\n  const style = document.createElement('style');\r\n  style.textContent = cssText;\r\n  return style;\r\n}\r\n\r\nexport const cardStyles = `\r\n  :host {\r\n    --card-padding: 16px;\r\n    --entity-height: 12px;\r\n    --entity-width: 240px;\r\n    --button-height: 32px;\r\n    --entity-font-size: 0.95em;\r\n    --section-title-font-size: 0.9975em;\r\n  }\r\n  .card-header {\r\n    padding: var(--card-padding);\r\n    font-family: var(--paper-font-headline_-_font-family);\r\n    -webkit-font-smoothing: var(--paper-font-headline_-_-webkit-font-smoothing);\r\n    font-size: var(--paper-font-headline_-_font-size);\r\n    font-weight: var(--paper-font-headline_-_font-weight);\r\n    letter-spacing: var(--paper-font-headline_-_letter-spacing);\r\n    line-height: var(--paper-font-headline_-_line-height);\r\n    color: var(--ha-card-header-color, --primary-text-color);\r\n  }\r\n  .control-buttons {\r\n    padding: 0 var(--card-padding) 8px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .control-button {\r\n    background-color: var(--secondary-background-color);\r\n    border: none;\r\n    border-radius: 8px;\r\n    padding: 6px 12px;\r\n    color: var(--primary-text-color);\r\n    font-size: 0.9em;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: background-color 0.3s ease;\r\n    flex: 1;\r\n    margin: 0 4px;\r\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);\r\n    height: var(--button-height);\r\n    min-height: var(--button-height);\r\n    box-sizing: border-box;\r\n  }\r\n  .control-button:first-child {\r\n    margin-left: 0;\r\n  }\r\n  .control-button:last-child {\r\n    margin-right: 0;\r\n  }\r\n  .control-button:hover {\r\n    background-color: var(--primary-color);\r\n    color: var(--text-primary-color);\r\n  }\r\n  .control-button ha-icon {\r\n    margin-right: 4px;\r\n    --mdc-icon-size: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .section-title {\r\n    padding: 6px var(--card-padding);\r\n    font-size: var(--section-title-font-size);\r\n    font-weight: 500;\r\n    color: var(--primary-text-color);\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .entities-container {\r\n    padding: 0 var(--card-padding) var(--card-padding);\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    justify-content: flex-start;\r\n    overflow-y: auto;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: var(--scrollbar-thumb-color) transparent;\r\n    width: calc(100% - (var(--card-padding) * 2));\r\n    box-sizing: border-box;\r\n    min-width: 100%;\r\n  }\r\n  .entities-container::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n  .entities-container::-webkit-scrollbar-track {\r\n    background: transparent;\r\n  }\r\n  .entities-container::-webkit-scrollbar-thumb {\r\n    background-color: var(--scrollbar-thumb-color, var(--divider-color, #e0e0e0));\r\n    border-radius: 3px;\r\n  }\r\n  .entity-item {\r\n    background-color: var(--ha-card-background, var(--card-background-color, white));\r\n    border-radius: 12px;\r\n    padding: 8px 16px;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: auto;\r\n    min-height: var(--entity-height);\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    flex-grow: 1;\r\n    flex-shrink: 0;\r\n    min-width: 100%;\r\n    max-width: 100%;\r\n    margin-bottom: 2px;\r\n  }\r\n  .entity-item:hover {\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n    transform: translateY(-1px);\r\n  }\r\n  .entity-item.on {\r\n    background-color: var(--primary-color);\r\n    color: var(--text-primary-color);\r\n  }\r\n  .entity-left {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    flex: 3;\r\n    min-width: 0;\r\n    margin-top: -1px;\r\n    margin-bottom: -1px;\r\n  }\r\n  .entity-name {\r\n    font-weight: bold;\r\n    font-size: 0.95em;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    max-width: 100%;\r\n    flex: 1;\r\n    margin-right: 16px;\r\n  }\r\n  .entity-state {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    min-width: 85px;\r\n    max-width: 85px;\r\n    white-space: nowrap;\r\n    flex: 0 0 auto;\r\n    font-size: 0.95em;\r\n  }\r\n  .power-value {\r\n    font-weight: 500;\r\n  }\r\n  .empty-message {\r\n    padding: var(--card-padding);\r\n    text-align: center;\r\n    color: var(--secondary-text-color);\r\n  }\r\n  .section-separator {\r\n    height: 1px;\r\n    background-color: var(--divider-color, #e0e0e0);\r\n    margin: 12px var(--card-padding) 8px;\r\n    opacity: 0.6;\r\n  }\r\n`;\r\n\r\nexport const editorStyles = `\r\n  .form {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .row {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    padding: 8px 16px;\r\n  }\r\n  .title {\r\n    padding-left: 16px;\r\n    margin-top: 8px;\r\n    font-weight: 500;\r\n  }\r\n  .value {\r\n    width: 100%;\r\n  }\r\n  ha-switch {\r\n    margin-right: 16px;\r\n  }\r\n`;","import { EntityInfo, EnergyDashboardConfig } from './types';\r\nimport { getPowerEntities, getEnergyEntities, loadToggleStates, saveToggleStates } from './entity-utils';\r\nimport { createStyles, cardStyles } from './styles';\r\n\r\nexport class EnergyDashboardEntityCard extends HTMLElement {\r\n  // Properties\r\n  private _hass: any;\r\n  config?: EnergyDashboardConfig;\r\n  powerEntities: EntityInfo[] = [];\r\n  energyEntities: EntityInfo[] = [];\r\n  entityToggleStates: Record<string, boolean> = {};\r\n  energyEntityToggleStates: Record<string, boolean> = {};\r\n  private _initialized: boolean = false;\r\n  private _energyInitialized: boolean = false;\r\n  private _root: ShadowRoot;\r\n\r\n  // Define card name and icon for card picker\r\n  static get cardType() {\r\n    return 'energy-dashboard-entity-card';\r\n  }\r\n\r\n  static get displayName() {\r\n    return 'Energy Dashboard Entity Card';\r\n  }\r\n\r\n  static get description() {\r\n    return 'Card that displays power and energy consumption entities';\r\n  }\r\n\r\n  static get icon() {\r\n    return 'mdi:lightning-bolt';\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this._root = this.attachShadow({ mode: 'open' });\r\n    this._root.appendChild(createStyles(cardStyles));\r\n    \r\n    // Initialize properties\r\n    this._hass = undefined;\r\n    this.powerEntities = [];\r\n    this.energyEntities = [];\r\n    this.entityToggleStates = {};\r\n    this.energyEntityToggleStates = {};\r\n    this._initialized = false;\r\n    this._energyInitialized = false;\r\n    \r\n    // Create the card element\r\n    const card = document.createElement('ha-card');\r\n    this._root.appendChild(card);\r\n  }\r\n\r\n  // Called when the element is added to the DOM\r\n  connectedCallback() {\r\n    this._updateContent();\r\n  }\r\n\r\n  // Home Assistant specific method to set config\r\n  setConfig(config: EnergyDashboardConfig) {\r\n    if (!config) {\r\n      throw new Error(\"Invalid configuration\");\r\n    }\r\n    // Create a merged config object correctly by spreading config first\r\n    this.config = {\r\n      ...config,\r\n      // Then set defaults only for missing properties\r\n      title: config.title ?? 'Energy Dashboard',\r\n      show_header: config.show_header ?? true,\r\n      show_state: config.show_state ?? true,\r\n      show_toggle: config.show_toggle ?? true,\r\n      auto_select_count: config.auto_select_count ?? 6,\r\n      max_height: config.max_height ?? 400,\r\n      show_energy_section: config.show_energy_section ?? true,\r\n      energy_auto_select_count: config.energy_auto_select_count ?? 6,\r\n    };\r\n    \r\n    this._updateContent();\r\n  }\r\n\r\n  // Home Assistant specific methods\r\n  static getConfigElement() {\r\n    return document.createElement('energy-dashboard-entity-card-editor');\r\n  }\r\n\r\n  static getStubConfig() {\r\n    return {\r\n      title: 'Energy Dashboard',\r\n      show_header: true,\r\n      show_state: true,\r\n      show_toggle: true,\r\n      auto_select_count: 6,\r\n      max_height: 400,\r\n      show_energy_section: true,\r\n      energy_auto_select_count: 6\r\n    };\r\n  }\r\n\r\n  getCardSize() {\r\n    let rows = 0;\r\n\r\n    if (this.powerEntities && this.powerEntities.length > 0) {\r\n      rows += this.powerEntities.length * 0.7;\r\n      rows += 2;\r\n    }\r\n\r\n    if (this.config?.show_energy_section && this.energyEntities && this.energyEntities.length > 0) {\r\n      rows += this.energyEntities.length * 0.7;\r\n      rows += 2;\r\n    }\r\n\r\n    return rows > 0 ? rows : 1;\r\n  }\r\n\r\n  // Called when Home Assistant updates\r\n  set hass(hass: any) {\r\n    this._hass = hass;\r\n    this._updateEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  get hass() {\r\n    return this._hass;\r\n  }\r\n\r\n  _updateEntities() {\r\n    if (!this._hass) return;\r\n\r\n    try {\r\n      this._updatePowerEntities();\r\n      if (this.config?.show_energy_section) {\r\n        this._updateEnergyEntities();\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Error updating entities:\", e);\r\n    }\r\n  }\r\n\r\n  _updatePowerEntities() {\r\n    const newPowerEntities = getPowerEntities(this._hass);\r\n    if (!this._initialized || Object.keys(this.entityToggleStates).length === 0) {\r\n      this._initializePowerToggleStates(newPowerEntities);\r\n      this._initialized = true;\r\n    }\r\n    this.powerEntities = newPowerEntities.map(entity => ({\r\n      ...entity,\r\n      isOn: this.entityToggleStates[entity.entityId] || false\r\n    }));\r\n    this._savePowerToggleStates();\r\n  }\r\n\r\n  _updateEnergyEntities() {\r\n    const newEnergyEntities = getEnergyEntities(this._hass);\r\n    if (!this._energyInitialized || Object.keys(this.energyEntityToggleStates).length === 0) {\r\n      this._initializeEnergyToggleStates(newEnergyEntities);\r\n      this._energyInitialized = true;\r\n    }\r\n    this.energyEntities = newEnergyEntities.map(entity => ({\r\n      ...entity,\r\n      isOn: this.energyEntityToggleStates[entity.entityId] || false\r\n    }));\r\n    this._saveEnergyToggleStates();\r\n  }\r\n\r\n  _initializePowerToggleStates(entities: EntityInfo[]) {\r\n    const savedStates = loadToggleStates('energy-dashboard-power-toggle-states');\r\n    if (savedStates && Object.keys(savedStates).length > 0) {\r\n      this.entityToggleStates = savedStates;\r\n    } else {\r\n      const toggleStates: Record<string, boolean> = {};\r\n      const count = this.config?.auto_select_count ?? 6;\r\n      entities.slice(0, count).forEach(entity => {\r\n        toggleStates[entity.entityId] = true;\r\n      });\r\n      this.entityToggleStates = toggleStates;\r\n    }\r\n  }\r\n\r\n  _initializeEnergyToggleStates(entities: EntityInfo[]) {\r\n    const savedStates = loadToggleStates('energy-dashboard-energy-toggle-states');\r\n    if (savedStates && Object.keys(savedStates).length > 0) {\r\n      this.energyEntityToggleStates = savedStates;\r\n    } else {\r\n      const toggleStates: Record<string, boolean> = {};\r\n      const count = this.config?.energy_auto_select_count ?? 6;\r\n      entities.slice(0, count).forEach(entity => {\r\n        toggleStates[entity.entityId] = true;\r\n      });\r\n      this.energyEntityToggleStates = toggleStates;\r\n    }\r\n  }\r\n\r\n  _savePowerToggleStates() {\r\n    saveToggleStates(this.entityToggleStates, 'energy-dashboard-power-toggle-states');\r\n  }\r\n\r\n  _saveEnergyToggleStates() {\r\n    saveToggleStates(this.energyEntityToggleStates, 'energy-dashboard-energy-toggle-states');\r\n  }\r\n\r\n  _resetToPowerDefaultEntities = () => {\r\n    this._initializePowerToggleStates(getPowerEntities(this._hass));\r\n    this._updatePowerEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _clearAllPowerEntities = () => {\r\n    this.entityToggleStates = {};\r\n    this._updatePowerEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _selectAllPowerEntities = () => {\r\n    const entities = getPowerEntities(this._hass);\r\n    entities.forEach(entity => {\r\n      this.entityToggleStates[entity.entityId] = true;\r\n    });\r\n    this._updatePowerEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _togglePowerEntity = (e: Event) => {\r\n    const target = e.currentTarget as HTMLElement;\r\n    const entityId = target.dataset.entity;\r\n    if (entityId) {\r\n      this.entityToggleStates[entityId] = !this.entityToggleStates[entityId];\r\n      this._updatePowerEntities();\r\n      this._updateContent();\r\n    }\r\n  }\r\n\r\n  _resetToEnergyDefaultEntities = () => {\r\n    this._initializeEnergyToggleStates(getEnergyEntities(this._hass));\r\n    this._updateEnergyEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _clearAllEnergyEntities = () => {\r\n    this.energyEntityToggleStates = {};\r\n    this._updateEnergyEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _selectAllEnergyEntities = () => {\r\n    const entities = getEnergyEntities(this._hass);\r\n    entities.forEach(entity => {\r\n      this.energyEntityToggleStates[entity.entityId] = true;\r\n    });\r\n    this._updateEnergyEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  _toggleEnergyEntity = (e: Event) => {\r\n    const target = e.currentTarget as HTMLElement;\r\n    const entityId = target.dataset.entity;\r\n    if (entityId) {\r\n      this.energyEntityToggleStates[entityId] = !this.energyEntityToggleStates[entityId];\r\n      this._updateEnergyEntities();\r\n      this._updateContent();\r\n    }\r\n  }\r\n\r\n  _renderPowerSection(): HTMLElement {\r\n    const section = document.createElement('div');\r\n\r\n    if (this.powerEntities.length > 0) {\r\n      // Control buttons\r\n      const controlButtons = document.createElement('div');\r\n      controlButtons.className = 'control-buttons';\r\n      \r\n      const resetButton = document.createElement('button');\r\n      resetButton.className = 'control-button';\r\n      resetButton.innerHTML = '<ha-icon icon=\"mdi:refresh\"></ha-icon><span>Reset</span>';\r\n      resetButton.addEventListener('click', this._resetToPowerDefaultEntities);\r\n      \r\n      const clearButton = document.createElement('button');\r\n      clearButton.className = 'control-button';\r\n      clearButton.innerHTML = '<ha-icon icon=\"mdi:close-circle-outline\"></ha-icon><span>Clear</span>';\r\n      clearButton.addEventListener('click', this._clearAllPowerEntities);\r\n      \r\n      const selectAllButton = document.createElement('button');\r\n      selectAllButton.className = 'control-button';\r\n      selectAllButton.innerHTML = '<ha-icon icon=\"mdi:check-circle-outline\"></ha-icon><span>Select All</span>';\r\n      selectAllButton.addEventListener('click', this._selectAllPowerEntities);\r\n      \r\n      controlButtons.appendChild(resetButton);\r\n      controlButtons.appendChild(clearButton);\r\n      controlButtons.appendChild(selectAllButton);\r\n      section.appendChild(controlButtons);\r\n      \r\n      // Section title\r\n      const sectionTitle = document.createElement('div');\r\n      sectionTitle.className = 'section-title';\r\n      sectionTitle.textContent = 'Power Entities';\r\n      section.appendChild(sectionTitle);\r\n      \r\n      // Container\r\n      const containerWrapper = document.createElement('div');\r\n      containerWrapper.style.width = '100%';\r\n      containerWrapper.style.boxSizing = 'border-box';\r\n      \r\n      const entitiesContainer = document.createElement('div');\r\n      entitiesContainer.className = 'entities-container';\r\n      \r\n      if (this.config?.max_height && this.config.max_height > 0) {\r\n        entitiesContainer.style.maxHeight = `${Math.min(this.config.max_height, 400)}px`;\r\n        entitiesContainer.style.overflowY = 'auto';\r\n      }\r\n      \r\n      // Add entities\r\n      this.powerEntities.forEach(entity => {\r\n        const entityItem = document.createElement('div');\r\n        entityItem.className = `entity-item ${entity.isOn ? 'on' : 'off'}`;\r\n        entityItem.dataset.entity = entity.entityId;\r\n        entityItem.style.gap = '4px';\r\n        entityItem.addEventListener('click', this._togglePowerEntity);\r\n        \r\n        const entityLeft = document.createElement('div');\r\n        entityLeft.className = 'entity-left';\r\n        \r\n        const entityName = document.createElement('div');\r\n        entityName.className = 'entity-name';\r\n        entityName.title = entity.name;\r\n        entityName.textContent = entity.name;\r\n        \r\n        entityLeft.appendChild(entityName);\r\n        entityItem.appendChild(entityLeft);\r\n        \r\n        const entityState = document.createElement('div');\r\n        entityState.className = 'entity-state';\r\n        \r\n        const statusIndicator = document.createElement('div');\r\n        statusIndicator.className = 'status-indicator';\r\n        statusIndicator.textContent = entity.isToggleable ? (entity.isOn ? 'ON' : 'OFF') : '';\r\n        \r\n        const powerValue = document.createElement('div');\r\n        powerValue.className = 'power-value';\r\n        \r\n        if (this.config?.show_state) {\r\n          powerValue.textContent = `${entity.unit === 'kW' ? entity.state : Math.round(entity.powerValue || 0)} ${entity.unit || 'W'}`;\r\n        }\r\n        \r\n        entityState.appendChild(statusIndicator);\r\n        entityState.appendChild(powerValue);\r\n        entityItem.appendChild(entityState);\r\n        \r\n        entitiesContainer.appendChild(entityItem);\r\n      });\r\n      \r\n      containerWrapper.appendChild(entitiesContainer);\r\n      section.appendChild(containerWrapper);\r\n    } else {\r\n      // Empty message\r\n      const emptyMessage = document.createElement('div');\r\n      emptyMessage.className = 'empty-message';\r\n      emptyMessage.textContent = 'No power entities found. Make sure you have entities with unit set to W or kW.';\r\n      section.appendChild(emptyMessage);\r\n    }\r\n    \r\n    return section;\r\n  }\r\n\r\n  _renderEnergySection(): HTMLElement {\r\n    const section = document.createElement('div');\r\n\r\n    // Only render if energy section is enabled\r\n    if (!this.config?.show_energy_section) {\r\n      return section;\r\n    }\r\n    \r\n    const separator = document.createElement('div');\r\n    separator.className = 'section-separator';\r\n    section.appendChild(separator);\r\n\r\n    if (this.energyEntities.length > 0) {\r\n      // Control buttons for energy section\r\n      const controlButtons = document.createElement('div');\r\n      controlButtons.className = 'control-buttons';\r\n      \r\n      const resetButton = document.createElement('button');\r\n      resetButton.className = 'control-button';\r\n      resetButton.innerHTML = '<ha-icon icon=\"mdi:refresh\"></ha-icon><span>Reset</span>';\r\n      resetButton.addEventListener('click', this._resetToEnergyDefaultEntities);\r\n      \r\n      const clearButton = document.createElement('button');\r\n      clearButton.className = 'control-button';\r\n      clearButton.innerHTML = '<ha-icon icon=\"mdi:close-circle-outline\"></ha-icon><span>Clear</span>';\r\n      clearButton.addEventListener('click', this._clearAllEnergyEntities);\r\n      \r\n      const selectAllButton = document.createElement('button');\r\n      selectAllButton.className = 'control-button';\r\n      selectAllButton.innerHTML = '<ha-icon icon=\"mdi:check-circle-outline\"></ha-icon><span>Select All</span>';\r\n      selectAllButton.addEventListener('click', this._selectAllEnergyEntities);\r\n      \r\n      controlButtons.appendChild(resetButton);\r\n      controlButtons.appendChild(clearButton);\r\n      controlButtons.appendChild(selectAllButton);\r\n      section.appendChild(controlButtons);\r\n      \r\n      // Section title\r\n      const sectionTitle = document.createElement('div');\r\n      sectionTitle.className = 'section-title';\r\n      sectionTitle.textContent = 'Energy Entities';\r\n      section.appendChild(sectionTitle);\r\n      \r\n      // Container\r\n      const containerWrapper = document.createElement('div');\r\n      containerWrapper.style.width = '100%';\r\n      containerWrapper.style.boxSizing = 'border-box';\r\n      \r\n      const entitiesContainer = document.createElement('div');\r\n      entitiesContainer.className = 'entities-container';\r\n      \r\n      if (this.config?.max_height && this.config.max_height > 0) {\r\n        entitiesContainer.style.maxHeight = `${Math.min(this.config.max_height, 400)}px`;\r\n        entitiesContainer.style.overflowY = 'auto';\r\n      }\r\n      \r\n      // Add entities\r\n      this.energyEntities.forEach(entity => {\r\n        const entityItem = document.createElement('div');\r\n        entityItem.className = `entity-item ${entity.isOn ? 'on' : 'off'}`;\r\n        entityItem.dataset.entity = entity.entityId;\r\n        entityItem.style.gap = '4px';\r\n        entityItem.addEventListener('click', this._toggleEnergyEntity);\r\n        \r\n        const entityLeft = document.createElement('div');\r\n        entityLeft.className = 'entity-left';\r\n        \r\n        const entityName = document.createElement('div');\r\n        entityName.className = 'entity-name';\r\n        entityName.title = entity.name;\r\n        entityName.textContent = entity.name;\r\n        \r\n        entityLeft.appendChild(entityName);\r\n        entityItem.appendChild(entityLeft);\r\n        \r\n        const entityState = document.createElement('div');\r\n        entityState.className = 'entity-state';\r\n        \r\n        const statusIndicator = document.createElement('div');\r\n        statusIndicator.className = 'status-indicator';\r\n        statusIndicator.textContent = entity.isToggleable ? (entity.isOn ? 'ON' : 'OFF') : '';\r\n        \r\n        const powerValue = document.createElement('div');\r\n        powerValue.className = 'power-value';\r\n        \r\n        if (this.config?.show_state) {\r\n          powerValue.textContent = `${entity.state} ${entity.unit}`;\r\n        }\r\n        \r\n        entityState.appendChild(statusIndicator);\r\n        entityState.appendChild(powerValue);\r\n        entityItem.appendChild(entityState);\r\n        \r\n        entitiesContainer.appendChild(entityItem);\r\n      });\r\n      \r\n      containerWrapper.appendChild(entitiesContainer);\r\n      section.appendChild(containerWrapper);\r\n    } else {\r\n      // Section title\r\n      const sectionTitle = document.createElement('div');\r\n      sectionTitle.className = 'section-title';\r\n      sectionTitle.textContent = 'Energy Entities';\r\n      section.appendChild(sectionTitle);\r\n      \r\n      // Empty message\r\n      const emptyMessage = document.createElement('div');\r\n      emptyMessage.className = 'empty-message';\r\n      emptyMessage.textContent = 'No energy entities found. Make sure you have entities with unit set to Wh or kWh.';\r\n      section.appendChild(emptyMessage);\r\n    }\r\n    \r\n    return section;\r\n  }\r\n\r\n  _updateContent() {\r\n    if (!this.config) {\r\n      const card = this._root.querySelector('ha-card');\r\n      if (card) {\r\n        card.innerHTML = '<div class=\"empty-message\">Card not configured</div>';\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Get the ha-card element\r\n    const card = this._root.querySelector('ha-card');\r\n    if (!card) return;\r\n\r\n    // Clear previous content\r\n    card.innerHTML = '';\r\n\r\n    // Header\r\n    if (this.config.show_header) {\r\n      const header = document.createElement('div');\r\n      header.className = 'card-header';\r\n      header.textContent = this.config.title;\r\n      card.appendChild(header);\r\n    }\r\n\r\n    // Power section\r\n    const powerSection = this._renderPowerSection();\r\n    card.appendChild(powerSection);\r\n\r\n    // Energy section (if enabled)\r\n    if (this.config.show_energy_section) {\r\n      const energySection = this._renderEnergySection();\r\n      card.appendChild(energySection);\r\n    }\r\n  }\r\n}\r\n\r\n// Register the card with the custom elements registry\r\ncustomElements.define('energy-dashboard-entity-card', EnergyDashboardEntityCard);","import { EnergyDashboardConfig } from './types';\r\nimport { createStyles, editorStyles } from './styles';\r\n\r\n// Extend HTMLInputElement to include the configValue property\r\ninterface CustomHTMLInputElement extends HTMLInputElement {\r\n  configValue?: string;\r\n}\r\n\r\n// Define a type for HA elements used in the editor\r\ninterface HaFormElement extends HTMLElement {\r\n  label?: string;\r\n  value?: string | number | boolean;\r\n  type?: string;\r\n  min?: string;\r\n  max?: string;\r\n  configValue?: string;\r\n  checked?: boolean;\r\n  helperText?: string;\r\n  helperPersistent?: boolean;\r\n  addEventListener(event: string, handler: (event: Event) => void): void;\r\n}\r\n\r\nexport class EnergyDashboardEntityCardEditor extends HTMLElement {\r\n  // Properties\r\n  hass: any;\r\n  config: EnergyDashboardConfig;\r\n  private _root: ShadowRoot;\r\n\r\n  constructor() {\r\n    super();\r\n    this._root = this.attachShadow({ mode: 'open' });\r\n    this._root.appendChild(createStyles(editorStyles));\r\n    \r\n    // Initialize properties\r\n    this.hass = undefined;\r\n    this.config = undefined as unknown as EnergyDashboardConfig;\r\n\r\n    // Create the form container\r\n    const form = document.createElement('div');\r\n    form.className = 'form';\r\n    this._root.appendChild(form);\r\n  }\r\n\r\n  // Called when the element is added to the DOM\r\n  connectedCallback() {\r\n    this._updateForm();\r\n  }\r\n\r\n  setConfig(config: EnergyDashboardConfig) {\r\n    this.config = {\r\n      // First spread the provided config\r\n      ...config,\r\n      // Then apply defaults for any missing properties\r\n      show_header: config.show_header !== undefined ? config.show_header : true,\r\n      show_state: config.show_state !== undefined ? config.show_state : true,\r\n      show_toggle: config.show_toggle !== undefined ? config.show_toggle : true,\r\n      auto_select_count: config.auto_select_count !== undefined ? config.auto_select_count : 6,\r\n      max_height: config.max_height !== undefined ? config.max_height : 400, // Default to ~15 entities\r\n      show_energy_section: config.show_energy_section !== undefined ? config.show_energy_section : true,\r\n      energy_auto_select_count: config.energy_auto_select_count !== undefined ? config.energy_auto_select_count : 6,\r\n      title: config.title !== undefined ? config.title : 'Energy Dashboard',\r\n    };\r\n    this._updateForm();\r\n  }\r\n\r\n  valueChanged = (ev: Event) => {\r\n    if (!this.config) return;\r\n    \r\n    const target = ev.target as CustomHTMLInputElement;\r\n    const configValue = target.configValue;\r\n    if (!configValue) return;\r\n\r\n    let newValue;\r\n    if (typeof target.checked === 'boolean') {\r\n      newValue = target.checked;\r\n    } else if (target.value !== undefined) {\r\n      if (target.type === 'number') {\r\n        newValue = Number(target.value);\r\n      } else {\r\n        newValue = target.value;\r\n      }\r\n    }\r\n\r\n    if (this.config[configValue] === newValue) return;\r\n\r\n    const newConfig = {\r\n      ...this.config,\r\n      [configValue]: newValue\r\n    };\r\n\r\n    this.dispatchEvent(new CustomEvent('config-changed', {\r\n      detail: { config: newConfig },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n  }\r\n\r\n  private _updateForm() {\r\n    if (!this.config) return;\r\n\r\n    // Get or create the form element\r\n    let form = this._root.querySelector('.form');\r\n    if (!form) {\r\n      form = document.createElement('div');\r\n      form.className = 'form';\r\n      this._root.appendChild(form);\r\n    }\r\n    form.innerHTML = '';\r\n\r\n    // Create title\r\n    const title = document.createElement('div');\r\n    title.className = 'title';\r\n    title.textContent = 'Card Settings';\r\n    form.appendChild(title);\r\n\r\n    // Title field\r\n    const titleRow = this._createRow();\r\n    const titleField = document.createElement('ha-textfield') as HaFormElement;\r\n    titleField.className = 'value';\r\n    titleField.label = 'Title';\r\n    titleField.value = this.config.title || '';\r\n    titleField.configValue = 'title';\r\n    titleField.addEventListener('change', this.valueChanged);\r\n    titleRow.appendChild(titleField);\r\n    form.appendChild(titleRow);\r\n\r\n    // Show Header toggle\r\n    const headerRow = this._createRow();\r\n    const headerSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    headerSwitch.checked = this.config.show_header !== false;\r\n    headerSwitch.configValue = 'show_header';\r\n    headerSwitch.addEventListener('change', this.valueChanged);\r\n    const headerLabel = document.createElement('div');\r\n    headerLabel.textContent = 'Show Header';\r\n    headerRow.appendChild(headerSwitch);\r\n    headerRow.appendChild(headerLabel);\r\n    form.appendChild(headerRow);\r\n\r\n    // Show State toggle\r\n    const stateRow = this._createRow();\r\n    const stateSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    stateSwitch.checked = this.config.show_state !== false;\r\n    stateSwitch.configValue = 'show_state';\r\n    stateSwitch.addEventListener('change', this.valueChanged);\r\n    const stateLabel = document.createElement('div');\r\n    stateLabel.textContent = 'Show State';\r\n    stateRow.appendChild(stateSwitch);\r\n    stateRow.appendChild(stateLabel);\r\n    form.appendChild(stateRow);\r\n\r\n    // Allow Toggling toggle\r\n    const toggleRow = this._createRow();\r\n    const toggleSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    toggleSwitch.checked = this.config.show_toggle !== false;\r\n    toggleSwitch.configValue = 'show_toggle';\r\n    toggleSwitch.addEventListener('change', this.valueChanged);\r\n    const toggleLabel = document.createElement('div');\r\n    toggleLabel.textContent = 'Allow Toggling';\r\n    toggleRow.appendChild(toggleSwitch);\r\n    toggleRow.appendChild(toggleLabel);\r\n    form.appendChild(toggleRow);\r\n\r\n    // Auto-select Count field\r\n    const autoSelectRow = this._createRow();\r\n    const autoSelectField = document.createElement('ha-textfield') as HaFormElement;\r\n    autoSelectField.className = 'value';\r\n    autoSelectField.label = 'Auto-select Count';\r\n    autoSelectField.type = 'number';\r\n    autoSelectField.min = '0';\r\n    autoSelectField.max = '50';\r\n    autoSelectField.value = String(this.config.auto_select_count || 6);\r\n    autoSelectField.configValue = 'auto_select_count';\r\n    autoSelectField.addEventListener('change', this.valueChanged);\r\n    autoSelectRow.appendChild(autoSelectField);\r\n    form.appendChild(autoSelectRow);\r\n\r\n    // Energy Auto-select Count field\r\n    const energyAutoSelectRow = this._createRow();\r\n    const energyAutoSelectField = document.createElement('ha-textfield') as HaFormElement;\r\n    energyAutoSelectField.className = 'value';\r\n    energyAutoSelectField.label = 'Energy Auto-select Count';\r\n    energyAutoSelectField.type = 'number';\r\n    energyAutoSelectField.min = '0';\r\n    energyAutoSelectField.max = '50';\r\n    energyAutoSelectField.value = String(this.config.energy_auto_select_count || 6);\r\n    energyAutoSelectField.configValue = 'energy_auto_select_count';\r\n    energyAutoSelectField.addEventListener('change', this.valueChanged);\r\n    energyAutoSelectRow.appendChild(energyAutoSelectField);\r\n    form.appendChild(energyAutoSelectRow);\r\n\r\n    // Show Energy Section toggle\r\n    const energySectionRow = this._createRow();\r\n    const energySectionSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    energySectionSwitch.checked = this.config.show_energy_section !== false;\r\n    energySectionSwitch.configValue = 'show_energy_section';\r\n    energySectionSwitch.addEventListener('change', this.valueChanged);\r\n    const energySectionLabel = document.createElement('div');\r\n    energySectionLabel.textContent = 'Show Energy Section';\r\n    energySectionRow.appendChild(energySectionSwitch);\r\n    energySectionRow.appendChild(energySectionLabel);\r\n    form.appendChild(energySectionRow);\r\n\r\n    // Max Height field\r\n    const maxHeightRow = this._createRow();\r\n    const maxHeightField = document.createElement('ha-textfield') as HaFormElement;\r\n    maxHeightField.className = 'value';\r\n    maxHeightField.label = 'Max Height (0 for no limit)';\r\n    maxHeightField.type = 'number';\r\n    maxHeightField.min = '0';\r\n    maxHeightField.max = '1000';\r\n    maxHeightField.value = String(this.config.max_height || 0);\r\n    maxHeightField.configValue = 'max_height';\r\n    maxHeightField.addEventListener('change', this.valueChanged);\r\n    maxHeightField.helperText = 'Set maximum height in pixels (0 = no limit)';\r\n    maxHeightField.helperPersistent = true;\r\n    maxHeightRow.appendChild(maxHeightField);\r\n    form.appendChild(maxHeightRow);\r\n  }\r\n\r\n  private _createRow(): HTMLDivElement {\r\n    const row = document.createElement('div');\r\n    row.className = 'row';\r\n    return row;\r\n  }\r\n}\r\n\r\n// Register the editor with the custom elements registry\r\ncustomElements.define('energy-dashboard-entity-card-editor', EnergyDashboardEntityCardEditor);","import { EnergyDashboardConfig } from './types';\r\n\r\nexport interface ChartSeries {\r\n  entity: string;\r\n  name: string;\r\n  color?: string;\r\n  type?: string; // 'line', 'area', etc.\r\n  stroke_width?: number;\r\n  curve?: string; // 'smooth', 'straight'\r\n  show_points?: boolean;\r\n}\r\n\r\nexport interface ChartAxisOptions {\r\n  min?: number;\r\n  max?: number;\r\n  tickAmount?: number;\r\n  decimals?: number;\r\n  title?: string;\r\n  unit?: string;\r\n}\r\n\r\nexport interface EnergyDashboardChartConfig extends EnergyDashboardConfig {\r\n  // Chart specific options\r\n  chart_type: string; // 'line', 'area', 'bar'\r\n  chart_height: number;\r\n  show_points: boolean;\r\n  smooth_curve: boolean;\r\n  update_interval: number; // In seconds\r\n  hours_to_show: number;\r\n  aggregate_func: string; // 'avg', 'min', 'max', 'sum', etc.\r\n  power_chart_options: {\r\n    y_axis: ChartAxisOptions;\r\n    x_axis?: ChartAxisOptions;\r\n  };\r\n  energy_chart_options: {\r\n    y_axis: ChartAxisOptions;\r\n    x_axis?: ChartAxisOptions;\r\n  };\r\n  use_custom_colors: boolean;\r\n  show_legend: boolean;\r\n}\r\n\r\nexport function getDefaultChartConfig(): Partial<EnergyDashboardChartConfig> {\r\n  return {\r\n    chart_type: 'line',\r\n    chart_height: 300,\r\n    show_points: false,\r\n    smooth_curve: true,\r\n    update_interval: 60,\r\n    hours_to_show: 24,\r\n    aggregate_func: 'avg',\r\n    power_chart_options: {\r\n      y_axis: {\r\n        min: 0,\r\n        decimals: 1,\r\n        title: 'Power',\r\n        unit: 'W'\r\n      }\r\n    },\r\n    energy_chart_options: {\r\n      y_axis: {\r\n        min: 0,\r\n        decimals: 2,\r\n        title: 'Energy',\r\n        unit: 'kWh'\r\n      }\r\n    },\r\n    use_custom_colors: false,\r\n    show_legend: true\r\n  };\r\n}","import { createStyles, cardStyles } from './styles';\r\nimport { loadToggleStates } from './entity-utils';\r\nimport { EnergyDashboardChartConfig, getDefaultChartConfig } from './energy-dashboard-chart-config';\r\n\r\nexport class EnergyDashboardChartCard extends HTMLElement {\r\n  // Properties\r\n  private _hass: any;\r\n  config?: EnergyDashboardChartConfig;\r\n  private _root: ShadowRoot;\r\n  private _powerChartEl: HTMLElement | null = null;\r\n  private _energyChartEl: HTMLElement | null = null;\r\n  private _updateTimer: number | null = null;\r\n  private _powerEntities: string[] = [];\r\n  private _energyEntities: string[] = [];\r\n\r\n  // Define card name and icon for card picker\r\n  static get cardType() {\r\n    return 'energy-dashboard-chart-card';\r\n  }\r\n\r\n  static get displayName() {\r\n    return 'Energy Dashboard Chart';\r\n  }\r\n\r\n  static get description() {\r\n    return 'Chart companion for the Energy Dashboard Entity Card';\r\n  }\r\n\r\n  static get icon() {\r\n    return 'mdi:chart-line';\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this._root = this.attachShadow({ mode: 'open' });\r\n    this._root.appendChild(createStyles(cardStyles));\r\n    \r\n    // Create the card element\r\n    const card = document.createElement('ha-card');\r\n    this._root.appendChild(card);\r\n  }\r\n\r\n  // Called when the element is added to the DOM\r\n  connectedCallback() {\r\n    this._loadSelectedEntities();\r\n    this._updateContent();\r\n    this._startUpdateInterval();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this._stopUpdateInterval();\r\n  }\r\n\r\n  // Home Assistant specific method to set config\r\n  setConfig(config: Partial<EnergyDashboardChartConfig>) {\r\n    if (!config) {\r\n      throw new Error(\"Invalid configuration\");\r\n    }\r\n    \r\n    // Apply default chart config values \r\n    const defaultConfig = getDefaultChartConfig();\r\n    \r\n    // Create a merged config object\r\n    this.config = {\r\n      ...defaultConfig,\r\n      ...config,\r\n      // Handle nested objects properly\r\n      power_chart_options: {\r\n        ...defaultConfig.power_chart_options,\r\n        ...(config.power_chart_options || {}),\r\n        y_axis: {\r\n          ...defaultConfig.power_chart_options?.y_axis,\r\n          ...(config.power_chart_options?.y_axis || {})\r\n        }\r\n      },\r\n      energy_chart_options: {\r\n        ...defaultConfig.energy_chart_options,\r\n        ...(config.energy_chart_options || {}),\r\n        y_axis: {\r\n          ...defaultConfig.energy_chart_options?.y_axis,\r\n          ...(config.energy_chart_options?.y_axis || {})\r\n        }\r\n      },\r\n      // Add base EnergyDashboardConfig properties\r\n      title: config.title ?? 'Energy Dashboard Chart',\r\n      show_header: config.show_header ?? true,\r\n      show_state: config.show_state ?? true,\r\n      show_toggle: config.show_toggle ?? true,\r\n      auto_select_count: config.auto_select_count ?? 6,\r\n      max_height: config.max_height ?? 400,\r\n      show_energy_section: config.show_energy_section ?? true,\r\n      energy_auto_select_count: config.energy_auto_select_count ?? 6,\r\n    } as EnergyDashboardChartConfig;\r\n    \r\n    this._loadSelectedEntities();\r\n    this._updateContent();\r\n  }\r\n\r\n  // Home Assistant specific methods\r\n  static getConfigElement() {\r\n    return document.createElement('energy-dashboard-chart-card-editor');\r\n  }\r\n\r\n  static getStubConfig() {\r\n    return {\r\n      ...getDefaultChartConfig(),\r\n      title: 'Energy Dashboard Chart',\r\n      show_header: true,\r\n      show_energy_section: true,\r\n    };\r\n  }\r\n\r\n  getCardSize() {\r\n    return this.config?.chart_height ? Math.ceil(this.config.chart_height / 50) : 6;\r\n  }\r\n\r\n  // Called when Home Assistant updates\r\n  set hass(hass: any) {\r\n    this._hass = hass;\r\n    // Only update charts when hass is updated, entity list comes from localStorage\r\n    this._updateCharts();\r\n  }\r\n\r\n  get hass() {\r\n    return this._hass;\r\n  }\r\n\r\n  private _loadSelectedEntities() {\r\n    // Load the toggle states from localStorage to get the entities selected in the entity card\r\n    const powerToggleStates = loadToggleStates('energy-dashboard-power-toggle-states');\r\n    const energyToggleStates = loadToggleStates('energy-dashboard-energy-toggle-states');\r\n\r\n    if (powerToggleStates) {\r\n      this._powerEntities = Object.keys(powerToggleStates).filter(\r\n        entityId => powerToggleStates[entityId]\r\n      );\r\n    }\r\n\r\n    if (energyToggleStates) {\r\n      this._energyEntities = Object.keys(energyToggleStates).filter(\r\n        entityId => energyToggleStates[entityId]\r\n      );\r\n    }\r\n  }\r\n\r\n  private _startUpdateInterval() {\r\n    if (this._updateTimer !== null) {\r\n      window.clearInterval(this._updateTimer);\r\n    }\r\n\r\n    if (this.config?.update_interval) {\r\n      this._updateTimer = window.setInterval(\r\n        () => this._updateCharts(),\r\n        this.config.update_interval * 1000\r\n      );\r\n    }\r\n  }\r\n\r\n  private _stopUpdateInterval() {\r\n    if (this._updateTimer !== null) {\r\n      window.clearInterval(this._updateTimer);\r\n      this._updateTimer = null;\r\n    }\r\n  }\r\n\r\n  private _generateApexchartsConfig(entities: string[], isEnergy: boolean) {\r\n    if (!this.config || !entities.length || !this._hass) return null;\r\n\r\n    const options = isEnergy \r\n      ? this.config.energy_chart_options \r\n      : this.config.power_chart_options;\r\n    \r\n    const chartType = this.config.chart_type || 'line';\r\n    const smooth = this.config.smooth_curve !== false;\r\n    const hoursToShow = this.config.hours_to_show || 24;\r\n    const showPoints = this.config.show_points || false;\r\n    const aggregateFunc = this.config.aggregate_func || 'avg';\r\n    \r\n    // Build series configuration for apexcharts-card\r\n    const series = entities.map(entityId => {\r\n      const entityState = this._hass.states[entityId];\r\n      const name = entityState?.attributes?.friendly_name || entityId;\r\n      \r\n      return {\r\n        entity: entityId,\r\n        name: name,\r\n        type: chartType,\r\n        // apexcharts-card expects 'smooth' only as a boolean\r\n        smooth: smooth,\r\n        // don't include show_points in the series config\r\n        stroke_width: 2\r\n      };\r\n    });\r\n    \r\n    return {\r\n      type: 'custom:apexcharts-card',\r\n      header: {\r\n        show: false,\r\n        title: isEnergy ? 'Energy Consumption' : 'Power Consumption'\r\n      },\r\n      chart_type: chartType,\r\n      apex_config: {\r\n        chart: {\r\n          height: this.config.chart_height || 300,\r\n          toolbar: {\r\n            show: true,\r\n            tools: {\r\n              download: true,\r\n              selection: true,\r\n              zoom: true,\r\n              zoomin: true,\r\n              zoomout: true,\r\n              pan: true,\r\n              reset: true\r\n            }\r\n          },\r\n        },\r\n      },\r\n      series: series,\r\n      // Convert hours_to_show to a string with \"h\" suffix\r\n      hours_to_show: hoursToShow.toString(),\r\n      span: {\r\n        start: `now-${hoursToShow}h`,\r\n        end: 'now'\r\n      },\r\n      show_legend: this.config.show_legend !== false,\r\n      yaxis: [{\r\n        min: options?.y_axis?.min,\r\n        max: options?.y_axis?.max,\r\n        decimals: options?.y_axis?.decimals ?? (isEnergy ? 2 : 1),\r\n        apex: {\r\n          title: {\r\n            text: options?.y_axis?.title || (isEnergy ? 'Energy' : 'Power')\r\n          },\r\n          labels: {\r\n            formatter: {\r\n              function: `(val) => { return val.toFixed(${options?.y_axis?.decimals ?? (isEnergy ? 2 : 1)}) + ' ${options?.y_axis?.unit || (isEnergy ? 'kWh' : 'W')}'; }`\r\n            }\r\n          }\r\n        }\r\n      }],\r\n      // Remove all_series_config since it's causing errors\r\n      cache: true,\r\n      stacked: false,\r\n      // Convert update_interval to a string\r\n      update_interval: (this.config.update_interval || 60).toString(),\r\n      group_by: aggregateFunc,\r\n      // Add show_points at the top level instead of in all_series_config\r\n      show_points: showPoints\r\n    };\r\n  }\r\n\r\n  private _createChart(isEnergy: boolean) {\r\n    const entities = isEnergy ? this._energyEntities : this._powerEntities;\r\n    const chartConfig = this._generateApexchartsConfig(entities, isEnergy);\r\n    \r\n    if (!chartConfig || !entities.length) {\r\n      return this._createEmptyCard(isEnergy);\r\n    }\r\n    \r\n    // Create the chart\r\n    const chartElement = document.createElement('div');\r\n    chartElement.className = isEnergy ? 'energy-chart-container' : 'power-chart-container';\r\n    chartElement.style.width = '100%';\r\n    chartElement.style.marginBottom = '16px';\r\n    \r\n    try {\r\n      // Check if apexcharts-card is registered\r\n      if (!customElements.get('apexcharts-card')) {\r\n        const errorMsg = document.createElement('div');\r\n        errorMsg.className = 'error-message';\r\n        errorMsg.style.color = 'var(--error-color, red)';\r\n        errorMsg.style.padding = '16px';\r\n        errorMsg.style.textAlign = 'center';\r\n        errorMsg.textContent = 'Error: apexcharts-card is not installed or registered. Please make sure the integration is installed.';\r\n        chartElement.appendChild(errorMsg);\r\n        return chartElement;\r\n      }\r\n      \r\n      // Create the apexcharts-card element\r\n      const apexCard = document.createElement('apexcharts-card') as HTMLElement;\r\n      \r\n      // Set card config for apexcharts-card\r\n      (apexCard as any).setConfig(chartConfig);\r\n      \r\n      // Pass hass object to the chart\r\n      (apexCard as any).hass = this._hass;\r\n      \r\n      chartElement.appendChild(apexCard);\r\n    } catch (err) {\r\n      console.error('Error creating apexcharts-card:', err);\r\n      const errorMsg = document.createElement('div');\r\n      errorMsg.className = 'error-message';\r\n      errorMsg.style.color = 'var(--error-color, red)';\r\n      errorMsg.style.padding = '16px';\r\n      errorMsg.style.textAlign = 'center';\r\n      errorMsg.textContent = `Error: ${err instanceof Error ? err.message : 'Failed to create chart'}`;\r\n      chartElement.appendChild(errorMsg);\r\n    }\r\n    \r\n    return chartElement;\r\n  }\r\n\r\n  private _createEmptyCard(isEnergy: boolean) {\r\n    const container = document.createElement('div');\r\n    container.className = 'empty-chart-container';\r\n    container.style.padding = '16px';\r\n    container.style.textAlign = 'center';\r\n    container.style.color = 'var(--secondary-text-color)';\r\n    container.style.height = `${(this.config?.chart_height || 300) - 32}px`;\r\n    container.style.display = 'flex';\r\n    container.style.alignItems = 'center';\r\n    container.style.justifyContent = 'center';\r\n    container.style.flexDirection = 'column';\r\n    container.style.border = '1px dashed var(--divider-color)';\r\n    container.style.borderRadius = '8px';\r\n    container.style.margin = '8px 16px';\r\n    \r\n    const icon = document.createElement('ha-icon');\r\n    icon.setAttribute('icon', 'mdi:chart-line-variant');\r\n    icon.style.marginBottom = '8px';\r\n    icon.style.color = 'var(--secondary-text-color)';\r\n    icon.style.width = '48px';\r\n    icon.style.height = '48px';\r\n    \r\n    const message = document.createElement('div');\r\n    message.textContent = `No ${isEnergy ? 'energy' : 'power'} entities selected. Please select entities in the Energy Dashboard Entity Card.`;\r\n    \r\n    container.appendChild(icon);\r\n    container.appendChild(message);\r\n    return container;\r\n  }\r\n\r\n  private _updateCharts() {\r\n    // Check if we need to reload selected entities\r\n    this._loadSelectedEntities();\r\n    \r\n    // Power chart section\r\n    if (this._powerChartEl) {\r\n      const parent = this._powerChartEl.parentNode;\r\n      if (parent) {\r\n        const newPowerChart = this._createChart(false);\r\n        parent.replaceChild(newPowerChart, this._powerChartEl);\r\n        this._powerChartEl = newPowerChart;\r\n      }\r\n    }\r\n    \r\n    // Energy chart section\r\n    if (this.config?.show_energy_section && this._energyChartEl) {\r\n      const parent = this._energyChartEl.parentNode;\r\n      if (parent) {\r\n        const newEnergyChart = this._createChart(true);\r\n        parent.replaceChild(newEnergyChart, this._energyChartEl);\r\n        this._energyChartEl = newEnergyChart;\r\n      }\r\n    }\r\n  }\r\n\r\n  private _renderSectionTitle(title: string): HTMLElement {\r\n    const sectionTitle = document.createElement('div');\r\n    sectionTitle.className = 'section-title';\r\n    sectionTitle.textContent = title;\r\n    sectionTitle.style.padding = '8px 16px';\r\n    sectionTitle.style.fontSize = 'var(--section-title-font-size, 1rem)';\r\n    sectionTitle.style.fontWeight = '500';\r\n    return sectionTitle;\r\n  }\r\n\r\n  private _updateContent() {\r\n    if (!this.config) {\r\n      const card = this._root.querySelector('ha-card');\r\n      if (card) {\r\n        card.innerHTML = '<div class=\"empty-message\">Card not configured</div>';\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Get the ha-card element\r\n    const card = this._root.querySelector('ha-card');\r\n    if (!card) return;\r\n\r\n    // Clear previous content\r\n    card.innerHTML = '';\r\n\r\n    // Header\r\n    if (this.config.show_header) {\r\n      const header = document.createElement('div');\r\n      header.className = 'card-header';\r\n      header.textContent = this.config.title;\r\n      card.appendChild(header);\r\n    }\r\n\r\n    // Container for both charts\r\n    const chartContainer = document.createElement('div');\r\n    chartContainer.className = 'chart-container';\r\n    chartContainer.style.width = '100%';\r\n    chartContainer.style.display = 'flex';\r\n    chartContainer.style.flexDirection = 'column';\r\n    \r\n    // Power chart section\r\n    chartContainer.appendChild(this._renderSectionTitle('Power Consumption'));\r\n    this._powerChartEl = this._createChart(false);\r\n    chartContainer.appendChild(this._powerChartEl);\r\n    \r\n    // Energy chart section (if enabled)\r\n    if (this.config.show_energy_section) {\r\n      const separator = document.createElement('div');\r\n      separator.className = 'section-separator';\r\n      separator.style.margin = '16px 8px';\r\n      chartContainer.appendChild(separator);\r\n      \r\n      chartContainer.appendChild(this._renderSectionTitle('Energy Consumption'));\r\n      this._energyChartEl = this._createChart(true);\r\n      chartContainer.appendChild(this._energyChartEl);\r\n    }\r\n    \r\n    card.appendChild(chartContainer);\r\n  }\r\n}\r\n\r\n// Register the card with the custom elements registry\r\ncustomElements.define('energy-dashboard-chart-card', EnergyDashboardChartCard);","import { EnergyDashboardChartConfig, getDefaultChartConfig } from './energy-dashboard-chart-config';\r\nimport { createStyles, editorStyles } from './styles';\r\n\r\n// Extend HTMLInputElement to include the configValue property\r\ninterface CustomHTMLInputElement extends HTMLInputElement {\r\n  configValue?: string;\r\n}\r\n\r\n// Define a type for HA elements used in the editor\r\ninterface HaFormElement extends HTMLElement {\r\n  label?: string;\r\n  value?: string | number | boolean;\r\n  type?: string;\r\n  min?: string;\r\n  max?: string;\r\n  configValue?: string;\r\n  checked?: boolean;\r\n  helperText?: string;\r\n  helperPersistent?: boolean;\r\n  options?: Array<{value: string, label: string}>;\r\n  addEventListener(event: string, handler: (event: Event) => void): void;\r\n}\r\n\r\nexport class EnergyDashboardChartCardEditor extends HTMLElement {\r\n  // Properties\r\n  hass: any;\r\n  config?: EnergyDashboardChartConfig;\r\n  private _root: ShadowRoot;\r\n\r\n  constructor() {\r\n    super();\r\n    this._root = this.attachShadow({ mode: 'open' });\r\n    this._root.appendChild(createStyles(editorStyles));\r\n    \r\n    // Create the form container\r\n    const form = document.createElement('div');\r\n    form.className = 'form';\r\n    this._root.appendChild(form);\r\n  }\r\n\r\n  // Called when the element is added to the DOM\r\n  connectedCallback() {\r\n    this._updateForm();\r\n  }\r\n\r\n  setConfig(config: Partial<EnergyDashboardChartConfig>) {\r\n    // Apply default chart config values \r\n    const defaultConfig = getDefaultChartConfig();\r\n    \r\n    // Create a merged config object\r\n    this.config = {\r\n      ...defaultConfig,\r\n      ...config,\r\n      // Handle nested objects properly\r\n      power_chart_options: {\r\n        ...defaultConfig.power_chart_options,\r\n        ...(config.power_chart_options || {}),\r\n        y_axis: {\r\n          ...defaultConfig.power_chart_options?.y_axis,\r\n          ...(config.power_chart_options?.y_axis || {})\r\n        }\r\n      },\r\n      energy_chart_options: {\r\n        ...defaultConfig.energy_chart_options,\r\n        ...(config.energy_chart_options || {}),\r\n        y_axis: {\r\n          ...defaultConfig.energy_chart_options?.y_axis,\r\n          ...(config.energy_chart_options?.y_axis || {})\r\n        }\r\n      },\r\n      // Add base EnergyDashboardConfig properties\r\n      title: config.title ?? 'Energy Dashboard Chart',\r\n      show_header: config.show_header ?? true,\r\n      show_state: config.show_state ?? true,\r\n      show_toggle: config.show_toggle ?? true,\r\n      auto_select_count: config.auto_select_count ?? 6,\r\n      max_height: config.max_height ?? 400,\r\n      show_energy_section: config.show_energy_section ?? true,\r\n      energy_auto_select_count: config.energy_auto_select_count ?? 6,\r\n      show_legend: config.show_legend ?? true,\r\n    } as EnergyDashboardChartConfig;\r\n    \r\n    this._updateForm();\r\n  }\r\n\r\n  valueChanged = (ev: Event) => {\r\n    if (!this.config) return;\r\n    \r\n    const target = ev.target as CustomHTMLInputElement;\r\n    const configValue = target.configValue;\r\n    if (!configValue) return;\r\n\r\n    let newValue;\r\n    if (typeof target.checked === 'boolean') {\r\n      newValue = target.checked;\r\n    } else if (target.value !== undefined) {\r\n      if (target.type === 'number') {\r\n        newValue = Number(target.value);\r\n      } else {\r\n        newValue = target.value;\r\n      }\r\n    }\r\n\r\n    // Handle nested properties like power_chart_options.y_axis.title\r\n    if (configValue.includes('.')) {\r\n      const parts = configValue.split('.');\r\n      const newConfig = { ...this.config };\r\n      let currentObj: any = newConfig;\r\n      \r\n      for (let i = 0; i < parts.length - 1; i++) {\r\n        const part = parts[i];\r\n        if (!currentObj[part]) currentObj[part] = {};\r\n        currentObj[part] = { ...currentObj[part] };\r\n        currentObj = currentObj[part];\r\n      }\r\n      \r\n      currentObj[parts[parts.length - 1]] = newValue;\r\n      this.dispatchEvent(new CustomEvent('config-changed', {\r\n        detail: { config: newConfig },\r\n        bubbles: true,\r\n        composed: true\r\n      }));\r\n      return;\r\n    }\r\n\r\n    if (this.config[configValue] === newValue) return;\r\n\r\n    const newConfig = {\r\n      ...this.config,\r\n      [configValue]: newValue\r\n    };\r\n\r\n    this.dispatchEvent(new CustomEvent('config-changed', {\r\n      detail: { config: newConfig },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n  }\r\n\r\n  private _updateForm() {\r\n    if (!this.config) return;\r\n\r\n    // Get or create the form element\r\n    let form = this._root.querySelector('.form');\r\n    if (!form) {\r\n      form = document.createElement('div');\r\n      form.className = 'form';\r\n      this._root.appendChild(form);\r\n    }\r\n    form.innerHTML = '';\r\n\r\n    // SECTION: General Settings\r\n    this._addSectionTitle(form as HTMLElement, 'General Settings');\r\n\r\n    // Title field\r\n    const titleRow = this._createRow();\r\n    const titleField = document.createElement('ha-textfield') as HaFormElement;\r\n    titleField.className = 'value';\r\n    titleField.label = 'Title';\r\n    titleField.value = this.config.title || 'Energy Dashboard Chart';\r\n    titleField.configValue = 'title';\r\n    titleField.addEventListener('change', this.valueChanged);\r\n    titleRow.appendChild(titleField);\r\n    form.appendChild(titleRow);\r\n\r\n    // Show Header toggle\r\n    const headerRow = this._createRow();\r\n    const headerSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    headerSwitch.checked = this.config.show_header !== false;\r\n    headerSwitch.configValue = 'show_header';\r\n    headerSwitch.addEventListener('change', this.valueChanged);\r\n    const headerLabel = document.createElement('div');\r\n    headerLabel.textContent = 'Show Header';\r\n    headerRow.appendChild(headerSwitch);\r\n    headerRow.appendChild(headerLabel);\r\n    form.appendChild(headerRow);\r\n\r\n    // Show Energy Section toggle\r\n    const energySectionRow = this._createRow();\r\n    const energySectionSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    energySectionSwitch.checked = this.config.show_energy_section !== false;\r\n    energySectionSwitch.configValue = 'show_energy_section';\r\n    energySectionSwitch.addEventListener('change', this.valueChanged);\r\n    const energySectionLabel = document.createElement('div');\r\n    energySectionLabel.textContent = 'Show Energy Section';\r\n    energySectionRow.appendChild(energySectionSwitch);\r\n    energySectionRow.appendChild(energySectionLabel);\r\n    form.appendChild(energySectionRow);\r\n\r\n    // SECTION: Chart Settings\r\n    this._addSectionTitle(form as HTMLElement, 'Chart Settings');\r\n\r\n    // Chart Type dropdown\r\n    const chartTypeRow = this._createRow();\r\n    const chartTypeField = document.createElement('ha-select') as HaFormElement;\r\n    chartTypeField.className = 'value';\r\n    chartTypeField.label = 'Chart Type';\r\n    chartTypeField.configValue = 'chart_type';\r\n    \r\n    // Set options for the chart type dropdown\r\n    chartTypeField.options = [\r\n      { value: 'line', label: 'Line' },\r\n      { value: 'area', label: 'Area' },\r\n      { value: 'bar', label: 'Bar' }\r\n    ];\r\n    \r\n    chartTypeField.value = this.config.chart_type || 'line';\r\n    chartTypeField.addEventListener('change', this.valueChanged);\r\n    chartTypeRow.appendChild(chartTypeField);\r\n    form.appendChild(chartTypeRow);\r\n\r\n    // Chart Height field\r\n    const chartHeightRow = this._createRow();\r\n    const chartHeightField = document.createElement('ha-textfield') as HaFormElement;\r\n    chartHeightField.className = 'value';\r\n    chartHeightField.label = 'Chart Height (pixels)';\r\n    chartHeightField.type = 'number';\r\n    chartHeightField.min = '100';\r\n    chartHeightField.max = '1000';\r\n    chartHeightField.value = String(this.config.chart_height || 300);\r\n    chartHeightField.configValue = 'chart_height';\r\n    chartHeightField.addEventListener('change', this.valueChanged);\r\n    chartHeightRow.appendChild(chartHeightField);\r\n    form.appendChild(chartHeightRow);\r\n\r\n    // Hours to Show field\r\n    const hoursToShowRow = this._createRow();\r\n    const hoursToShowField = document.createElement('ha-textfield') as HaFormElement;\r\n    hoursToShowField.className = 'value';\r\n    hoursToShowField.label = 'Hours to Show';\r\n    hoursToShowField.type = 'number';\r\n    hoursToShowField.min = '1';\r\n    hoursToShowField.max = '168'; // 7 days\r\n    hoursToShowField.value = String(this.config.hours_to_show || 24);\r\n    hoursToShowField.configValue = 'hours_to_show';\r\n    hoursToShowField.addEventListener('change', this.valueChanged);\r\n    hoursToShowRow.appendChild(hoursToShowField);\r\n    form.appendChild(hoursToShowRow);\r\n\r\n    // Update Interval field\r\n    const updateIntervalRow = this._createRow();\r\n    const updateIntervalField = document.createElement('ha-textfield') as HaFormElement;\r\n    updateIntervalField.className = 'value';\r\n    updateIntervalField.label = 'Update Interval (seconds)';\r\n    updateIntervalField.type = 'number';\r\n    updateIntervalField.min = '10';\r\n    updateIntervalField.max = '3600';\r\n    updateIntervalField.value = String(this.config.update_interval || 60);\r\n    updateIntervalField.configValue = 'update_interval';\r\n    updateIntervalField.addEventListener('change', this.valueChanged);\r\n    updateIntervalRow.appendChild(updateIntervalField);\r\n    form.appendChild(updateIntervalRow);\r\n\r\n    // Show Points toggle\r\n    const showPointsRow = this._createRow();\r\n    const showPointsSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    showPointsSwitch.checked = this.config.show_points === true;\r\n    showPointsSwitch.configValue = 'show_points';\r\n    showPointsSwitch.addEventListener('change', this.valueChanged);\r\n    const showPointsLabel = document.createElement('div');\r\n    showPointsLabel.textContent = 'Show Data Points';\r\n    showPointsRow.appendChild(showPointsSwitch);\r\n    showPointsRow.appendChild(showPointsLabel);\r\n    form.appendChild(showPointsRow);\r\n\r\n    // Smooth Curve toggle\r\n    const smoothCurveRow = this._createRow();\r\n    const smoothCurveSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    smoothCurveSwitch.checked = this.config.smooth_curve !== false;\r\n    smoothCurveSwitch.configValue = 'smooth_curve';\r\n    smoothCurveSwitch.addEventListener('change', this.valueChanged);\r\n    const smoothCurveLabel = document.createElement('div');\r\n    smoothCurveLabel.textContent = 'Smooth Curve';\r\n    smoothCurveRow.appendChild(smoothCurveSwitch);\r\n    smoothCurveRow.appendChild(smoothCurveLabel);\r\n    form.appendChild(smoothCurveRow);\r\n\r\n    // Show Legend toggle\r\n    const showLegendRow = this._createRow();\r\n    const showLegendSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    showLegendSwitch.checked = this.config.show_legend !== false;\r\n    showLegendSwitch.configValue = 'show_legend';\r\n    showLegendSwitch.addEventListener('change', this.valueChanged);\r\n    const showLegendLabel = document.createElement('div');\r\n    showLegendLabel.textContent = 'Show Legend';\r\n    showLegendRow.appendChild(showLegendSwitch);\r\n    showLegendRow.appendChild(showLegendLabel);\r\n    form.appendChild(showLegendRow);\r\n\r\n    // Use Custom Colors toggle\r\n    const customColorsRow = this._createRow();\r\n    const customColorsSwitch = document.createElement('ha-switch') as HaFormElement;\r\n    customColorsSwitch.checked = this.config.use_custom_colors === true;\r\n    customColorsSwitch.configValue = 'use_custom_colors';\r\n    customColorsSwitch.addEventListener('change', this.valueChanged);\r\n    const customColorsLabel = document.createElement('div');\r\n    customColorsLabel.textContent = 'Use Custom Colors';\r\n    customColorsRow.appendChild(customColorsSwitch);\r\n    customColorsRow.appendChild(customColorsLabel);\r\n    form.appendChild(customColorsRow);\r\n\r\n    // Aggregate Function dropdown\r\n    const aggregateRow = this._createRow();\r\n    const aggregateField = document.createElement('ha-select') as HaFormElement;\r\n    aggregateField.className = 'value';\r\n    aggregateField.label = 'Aggregate Function';\r\n    aggregateField.configValue = 'aggregate_func';\r\n    \r\n    // Set options for the aggregate function dropdown\r\n    aggregateField.options = [\r\n      { value: 'avg', label: 'Average' },\r\n      { value: 'min', label: 'Minimum' },\r\n      { value: 'max', label: 'Maximum' },\r\n      { value: 'sum', label: 'Sum' },\r\n      { value: 'first', label: 'First' },\r\n      { value: 'last', label: 'Last' }\r\n    ];\r\n    \r\n    aggregateField.value = this.config.aggregate_func || 'avg';\r\n    aggregateField.addEventListener('change', this.valueChanged);\r\n    aggregateRow.appendChild(aggregateField);\r\n    form.appendChild(aggregateRow);\r\n\r\n    // SECTION: Power Chart Settings\r\n    this._addSectionTitle(form as HTMLElement, 'Power Chart Y-Axis Settings');\r\n\r\n    // Power Y-Axis Title\r\n    const powerYTitleRow = this._createRow();\r\n    const powerYTitleField = document.createElement('ha-textfield') as HaFormElement;\r\n    powerYTitleField.className = 'value';\r\n    powerYTitleField.label = 'Y-Axis Title';\r\n    powerYTitleField.value = this.config.power_chart_options?.y_axis?.title || 'Power';\r\n    powerYTitleField.configValue = 'power_chart_options.y_axis.title';\r\n    powerYTitleField.addEventListener('change', this.valueChanged);\r\n    powerYTitleRow.appendChild(powerYTitleField);\r\n    form.appendChild(powerYTitleRow);\r\n\r\n    // Power Y-Axis Unit\r\n    const powerYUnitRow = this._createRow();\r\n    const powerYUnitField = document.createElement('ha-textfield') as HaFormElement;\r\n    powerYUnitField.className = 'value';\r\n    powerYUnitField.label = 'Y-Axis Unit';\r\n    powerYUnitField.value = this.config.power_chart_options?.y_axis?.unit || 'W';\r\n    powerYUnitField.configValue = 'power_chart_options.y_axis.unit';\r\n    powerYUnitField.addEventListener('change', this.valueChanged);\r\n    powerYUnitRow.appendChild(powerYUnitField);\r\n    form.appendChild(powerYUnitRow);\r\n\r\n    // Power Y-Axis Decimals\r\n    const powerYDecimalsRow = this._createRow();\r\n    const powerYDecimalsField = document.createElement('ha-textfield') as HaFormElement;\r\n    powerYDecimalsField.className = 'value';\r\n    powerYDecimalsField.label = 'Y-Axis Decimals';\r\n    powerYDecimalsField.type = 'number';\r\n    powerYDecimalsField.min = '0';\r\n    powerYDecimalsField.max = '5';\r\n    powerYDecimalsField.value = String(this.config.power_chart_options?.y_axis?.decimals ?? 1);\r\n    powerYDecimalsField.configValue = 'power_chart_options.y_axis.decimals';\r\n    powerYDecimalsField.addEventListener('change', this.valueChanged);\r\n    powerYDecimalsRow.appendChild(powerYDecimalsField);\r\n    form.appendChild(powerYDecimalsRow);\r\n\r\n    // Power Y-Axis Min\r\n    const powerYMinRow = this._createRow();\r\n    const powerYMinField = document.createElement('ha-textfield') as HaFormElement;\r\n    powerYMinField.className = 'value';\r\n    powerYMinField.label = 'Y-Axis Minimum (empty for auto)';\r\n    powerYMinField.type = 'number';\r\n    powerYMinField.value = this.config.power_chart_options?.y_axis?.min !== undefined ? \r\n      String(this.config.power_chart_options.y_axis.min) : '';\r\n    powerYMinField.configValue = 'power_chart_options.y_axis.min';\r\n    powerYMinField.addEventListener('change', this.valueChanged);\r\n    powerYMinRow.appendChild(powerYMinField);\r\n    form.appendChild(powerYMinRow);\r\n\r\n    // Power Y-Axis Max\r\n    const powerYMaxRow = this._createRow();\r\n    const powerYMaxField = document.createElement('ha-textfield') as HaFormElement;\r\n    powerYMaxField.className = 'value';\r\n    powerYMaxField.label = 'Y-Axis Maximum (empty for auto)';\r\n    powerYMaxField.type = 'number';\r\n    powerYMaxField.value = this.config.power_chart_options?.y_axis?.max !== undefined ? \r\n      String(this.config.power_chart_options.y_axis.max) : '';\r\n    powerYMaxField.configValue = 'power_chart_options.y_axis.max';\r\n    powerYMaxField.addEventListener('change', this.valueChanged);\r\n    powerYMaxRow.appendChild(powerYMaxField);\r\n    form.appendChild(powerYMaxRow);\r\n\r\n    // Only show Energy Chart settings if energy section is enabled\r\n    if (this.config.show_energy_section) {\r\n      // SECTION: Energy Chart Settings\r\n      this._addSectionTitle(form as HTMLElement, 'Energy Chart Y-Axis Settings');\r\n\r\n      // Energy Y-Axis Title\r\n      const energyYTitleRow = this._createRow();\r\n      const energyYTitleField = document.createElement('ha-textfield') as HaFormElement;\r\n      energyYTitleField.className = 'value';\r\n      energyYTitleField.label = 'Y-Axis Title';\r\n      energyYTitleField.value = this.config.energy_chart_options?.y_axis?.title || 'Energy';\r\n      energyYTitleField.configValue = 'energy_chart_options.y_axis.title';\r\n      energyYTitleField.addEventListener('change', this.valueChanged);\r\n      energyYTitleRow.appendChild(energyYTitleField);\r\n      form.appendChild(energyYTitleRow);\r\n\r\n      // Energy Y-Axis Unit\r\n      const energyYUnitRow = this._createRow();\r\n      const energyYUnitField = document.createElement('ha-textfield') as HaFormElement;\r\n      energyYUnitField.className = 'value';\r\n      energyYUnitField.label = 'Y-Axis Unit';\r\n      energyYUnitField.value = this.config.energy_chart_options?.y_axis?.unit || 'kWh';\r\n      energyYUnitField.configValue = 'energy_chart_options.y_axis.unit';\r\n      energyYUnitField.addEventListener('change', this.valueChanged);\r\n      energyYUnitRow.appendChild(energyYUnitField);\r\n      form.appendChild(energyYUnitRow);\r\n\r\n      // Energy Y-Axis Decimals\r\n      const energyYDecimalsRow = this._createRow();\r\n      const energyYDecimalsField = document.createElement('ha-textfield') as HaFormElement;\r\n      energyYDecimalsField.className = 'value';\r\n      energyYDecimalsField.label = 'Y-Axis Decimals';\r\n      energyYDecimalsField.type = 'number';\r\n      energyYDecimalsField.min = '0';\r\n      energyYDecimalsField.max = '5';\r\n      energyYDecimalsField.value = String(this.config.energy_chart_options?.y_axis?.decimals ?? 2);\r\n      energyYDecimalsField.configValue = 'energy_chart_options.y_axis.decimals';\r\n      energyYDecimalsField.addEventListener('change', this.valueChanged);\r\n      energyYDecimalsRow.appendChild(energyYDecimalsField);\r\n      form.appendChild(energyYDecimalsRow);\r\n\r\n      // Energy Y-Axis Min\r\n      const energyYMinRow = this._createRow();\r\n      const energyYMinField = document.createElement('ha-textfield') as HaFormElement;\r\n      energyYMinField.className = 'value';\r\n      energyYMinField.label = 'Y-Axis Minimum (empty for auto)';\r\n      energyYMinField.type = 'number';\r\n      energyYMinField.value = this.config.energy_chart_options?.y_axis?.min !== undefined ? \r\n        String(this.config.energy_chart_options.y_axis.min) : '';\r\n      energyYMinField.configValue = 'energy_chart_options.y_axis.min';\r\n      energyYMinField.addEventListener('change', this.valueChanged);\r\n      energyYMinRow.appendChild(energyYMinField);\r\n      form.appendChild(energyYMinRow);\r\n\r\n      // Energy Y-Axis Max\r\n      const energyYMaxRow = this._createRow();\r\n      const energyYMaxField = document.createElement('ha-textfield') as HaFormElement;\r\n      energyYMaxField.className = 'value';\r\n      energyYMaxField.label = 'Y-Axis Maximum (empty for auto)';\r\n      energyYMaxField.type = 'number';\r\n      energyYMaxField.value = this.config.energy_chart_options?.y_axis?.max !== undefined ? \r\n        String(this.config.energy_chart_options.y_axis.max) : '';\r\n      energyYMaxField.configValue = 'energy_chart_options.y_axis.max';\r\n      energyYMaxField.addEventListener('change', this.valueChanged);\r\n      energyYMaxRow.appendChild(energyYMaxField);\r\n      form.appendChild(energyYMaxRow);\r\n    }\r\n  }\r\n\r\n  private _createRow(): HTMLDivElement {\r\n    const row = document.createElement('div');\r\n    row.className = 'row';\r\n    return row;\r\n  }\r\n\r\n  private _addSectionTitle(parent: HTMLElement, title: string) {\r\n    const titleEl = document.createElement('div');\r\n    titleEl.className = 'title';\r\n    titleEl.textContent = title;\r\n    parent.appendChild(titleEl);\r\n  }\r\n}\r\n\r\n// Register the editor with the custom elements registry\r\ncustomElements.define('energy-dashboard-chart-card-editor', EnergyDashboardChartCardEditor);","import { EnergyDashboardEntityCard } from './energy-dashboard-entity-card';\r\nimport { EnergyDashboardChartCard } from './energy-dashboard-chart-card';\r\n\r\n// This file is specifically for registering the card with Home Assistant's card picker UI\r\n\r\n// Define the customCards property for window\r\ndeclare global {\r\n  interface Window {\r\n    customCards: Array<{\r\n      type: string;\r\n      name: string;\r\n      description: string;\r\n      preview: boolean;\r\n      documentationURL?: string;\r\n    }>;\r\n  }\r\n}\r\n\r\n// Provide card information to the Home Assistant card catalog\r\nwindow.customCards = window.customCards || [];\r\nwindow.customCards.push({\r\n  type: 'energy-dashboard-entity-card',\r\n  name: EnergyDashboardEntityCard.displayName,\r\n  description: EnergyDashboardEntityCard.description,\r\n  preview: false,\r\n  documentationURL: 'https://github.com/bballdavis/Hass-Energy-Dashboard'\r\n});\r\n\r\n// Add the chart card to the Home Assistant card catalog\r\nwindow.customCards.push({\r\n  type: 'energy-dashboard-chart-card',\r\n  name: EnergyDashboardChartCard.displayName,\r\n  description: EnergyDashboardChartCard.description,\r\n  preview: false,\r\n  documentationURL: 'https://github.com/bballdavis/Hass-Energy-Dashboard'\r\n});"],"names":[],"mappings":"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"}